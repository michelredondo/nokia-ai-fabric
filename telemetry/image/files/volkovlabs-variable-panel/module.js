/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","@grafana/runtime","@grafana/ui","react","@emotion/css","lodash","react-router-dom","rxjs","react-dom","@emotion/react","redux","react-redux"],(e,t,n,r,a,o,i,s,l,u,c,d)=>(()=>{var p,f,h={144:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)>0},200:e=>{"use strict";e.exports=d},278:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&i[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),t.push(c))}},t}},291:(e,t,n)=>{"use strict";n.d(t,{_q:()=>r.A});var r=n(8728);n(9273),n(9115),"undefined"==typeof Reflect?Object.keys:Reflect.ownKeys,n(4358)},362:(e,t,n)=>{"use strict";var r=n(6441);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const a=!(0,r.isNum)(e.lastX),i=o(e);return a?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:i}=e.props;i="string"==typeof i?i:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(i);const s=o(e);if("string"==typeof i){const{ownerDocument:e}=s,t=e.defaultView;let n;if(n="parent"===i?s.parentNode:s.getRootNode().querySelector(i),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const o=n,l=t.getComputedStyle(s),u=t.getComputedStyle(o);i={left:-s.offsetLeft+(0,r.int)(u.paddingLeft)+(0,r.int)(l.marginLeft),top:-s.offsetTop+(0,r.int)(u.paddingTop)+(0,r.int)(l.marginTop),right:(0,a.innerWidth)(o)-(0,a.outerWidth)(s)-s.offsetLeft+(0,r.int)(u.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,a.innerHeight)(o)-(0,a.outerHeight)(s)-s.offsetTop+(0,r.int)(u.paddingBottom)-(0,r.int)(l.marginBottom)}}return(0,r.isNum)(i.right)&&(t=Math.min(t,i.right)),(0,r.isNum)(i.bottom)&&(n=Math.min(n,i.bottom)),(0,r.isNum)(i.left)&&(t=Math.max(t,i.left)),(0,r.isNum)(i.top)&&(n=Math.max(n,i.top)),[t,n]},t.getControlPosition=function(e,t,n){const r="number"==typeof t?(0,a.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;const i=o(n),s=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,a.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]};var r=n(6732),a=n(2837);function o(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=l,t.childrenEqual=function(e,t){return(0,a.deepEqual)(o.default.Children.map(e,e=>e?.key),o.default.Children.map(t,e=>e?.key))&&(0,a.deepEqual)(o.default.Children.map(e,e=>e?.props["data-grid"]),o.default.Children.map(t,e=>e?.props["data-grid"]))},t.cloneLayout=u,t.cloneLayoutItem=d,t.collides=p,t.compact=f,t.compactItem=m,t.compactType=function(e){const{verticalCompact:t,compactType:n}=e||{};return!1===t?null:n},t.correctBounds=v,t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.fastRGLPropsEqual=void 0,t.getAllCollisions=w,t.getFirstCollision=y,t.getLayoutItem=b,t.getStatics=S,t.modifyLayout=c,t.moveElement=x,t.moveElementAwayFromCollision=E,t.noop=void 0,t.perc=function(e){return 100*e+"%"},t.resizeItemInDirection=function(e,t,n,r){const a=T[e];return a?a(t,{...t,...n},r):n},t.setTopLeft=function(e){let{top:t,left:n,width:r,height:a}=e;return{top:`${t}px`,left:`${n}px`,width:`${r}px`,height:`${a}px`,position:"absolute"}},t.setTransform=function(e){let{top:t,left:n,width:r,height:a}=e;const o=`translate(${n}px,${t}px)`;return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:`${r}px`,height:`${a}px`,position:"absolute"}},t.sortLayoutItems=k,t.sortLayoutItemsByColRow=B,t.sortLayoutItemsByRowCol=M,t.synchronizeLayoutWithChildren=function(e,t,n,r,a){e=e||[];const s=[];o.default.Children.forEach(t,t=>{if(null==t?.key)return;const n=b(e,String(t.key)),r=t.props["data-grid"];n&&null==r?s.push(d(n)):r?(i||L([r],"ReactGridLayout.children"),s.push(d({...r,i:t.key}))):s.push(d({w:1,h:1,x:0,y:l(s),i:String(t.key)}))});const u=v(s,{cols:n});return a?u:f(u,r,n)},t.validateLayout=L,t.withLayoutItem=function(e,t,n){let r=b(e,t);return r?(r=n(d(r)),[e=c(e,r),r]):[e,null]};var r,a=n(568),o=(r=n(5959))&&r.__esModule?r:{default:r};const i=!0,s=!1;function l(e){let t,n=0;for(let r=0,a=e.length;r<a;r++)t=e[r].y+e[r].h,t>n&&(n=t);return n}function u(e){const t=Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=d(e[n]);return t}function c(e,t){const n=Array(e.length);for(let r=0,a=e.length;r<a;r++)t.i===e[r].i?n[r]=t:n[r]=e[r];return n}function d(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function p(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function f(e,t,n,r){const a=S(e),o=k(e,t),i=Array(e.length);for(let s=0,l=o.length;s<l;s++){let l=d(o[s]);l.static||(l=m(a,l,t,n,o,r),a.push(l)),i[e.indexOf(o[s])]=l,l.moved=!1}return i}t.fastRGLPropsEqual=n(7434);const h={x:"w",y:"h"};function g(e,t,n,r){const a=h[r];t[r]+=1;for(let o=e.map(e=>e.i).indexOf(t.i)+1;o<e.length;o++){const i=e[o];if(!i.static){if(i.y>t.y+t.h)break;p(t,i)&&g(e,i,n+t[a],r)}}t[r]=n}function m(e,t,n,r,a,o){const i="horizontal"===n;if("vertical"===n)for(t.y=Math.min(l(e),t.y);t.y>0&&!y(e,t);)t.y--;else if(i)for(;t.x>0&&!y(e,t);)t.x--;let s;for(;(s=y(e,t))&&(null!==n||!o);)if(i?g(a,t,s.x+s.w,"x"):g(a,t,s.y+s.h,"y"),i&&t.x+t.w>r)for(t.x=r-t.w,t.y++;t.x>0&&!y(e,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function v(e,t){const n=S(e);for(let r=0,a=e.length;r<a;r++){const a=e[r];if(a.x+a.w>t.cols&&(a.x=t.cols-a.w),a.x<0&&(a.x=0,a.w=t.cols),a.static)for(;y(n,a);)a.y++;else n.push(a)}return e}function b(e,t){for(let n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function y(e,t){for(let n=0,r=e.length;n<r;n++)if(p(e[n],t))return e[n]}function w(e,t){return e.filter(e=>p(e,t))}function S(e){return e.filter(e=>e.static)}function x(e,t,n,r,a,o,i,s,l){if(t.static&&!0!==t.isDraggable)return e;if(t.y===r&&t.x===n)return e;N(`Moving element ${t.i} to [${String(n)},${String(r)}] from [${t.x},${t.y}]`);const c=t.x,d=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;let p=k(e,i);("vertical"===i&&"number"==typeof r?d>=r:"horizontal"===i&&"number"==typeof n&&c>=n)&&(p=p.reverse());const f=w(p,t),h=f.length>0;if(h&&l)return u(e);if(h&&o)return N(`Collision prevented on ${t.i}, reverting.`),t.x=c,t.y=d,t.moved=!1,e;for(let n=0,r=f.length;n<r;n++){const r=f[n];N(`Resolving collision between ${t.i} at [${t.x},${t.y}] and ${r.i} at [${r.x},${r.y}]`),r.moved||(e=r.static?E(e,r,t,a,i,s):E(e,t,r,a,i,s))}return e}function E(e,t,n,r,a,o){const i="horizontal"===a,s="vertical"===a,l=t.static;if(r){r=!1;const u={x:i?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"},c=y(e,u),d=c&&c.y+c.h>t.y,p=c&&t.x+t.w>c.x;if(!c)return N(`Doing reverse collision on ${n.i} up to [${u.x},${u.y}].`),x(e,n,i?u.x:void 0,s?u.y:void 0,r,l,a,o);if(d&&s)return x(e,n,void 0,t.y+1,r,l,a,o);if(d&&null==a)return t.y=n.y,n.y=n.y+n.h,e;if(p&&i)return x(e,t,n.x,void 0,r,l,a,o)}const u=i?n.x+1:void 0,c=s?n.y+1:void 0;return null==u&&null==c?e:x(e,n,i?n.x+1:void 0,s?n.y+1:void 0,r,l,a,o)}const C=(e,t,n,r)=>e+n>r?t:n,A=(e,t,n)=>e<0?t:n,O=e=>Math.max(0,e),R=e=>Math.max(0,e),I=(e,t,n)=>{let{left:r,height:a,width:o}=t;const i=e.top-(a-e.height);return{left:r,width:o,height:A(i,e.height,a),top:R(i)}},D=(e,t,n)=>{let{top:r,left:a,height:o,width:i}=t;return{top:r,height:o,width:C(e.left,e.width,i,n),left:O(a)}},P=(e,t,n)=>{let{top:r,height:a,width:o}=t;const i=e.left-(o-e.width);return{height:a,width:i<0?e.width:C(e.left,e.width,o,n),top:R(r),left:O(i)}},_=(e,t,n)=>{let{top:r,left:a,height:o,width:i}=t;return{width:i,left:a,height:A(r,e.height,o),top:R(r)}},T={n:I,ne:function(){return I(arguments.length<=0?void 0:arguments[0],D(...arguments))},e:D,se:function(){return _(arguments.length<=0?void 0:arguments[0],D(...arguments))},s:_,sw:function(){return _(arguments.length<=0?void 0:arguments[0],P(...arguments))},w:P,nw:function(){return I(arguments.length<=0?void 0:arguments[0],P(...arguments))}};function k(e,t){return"horizontal"===t?B(e):"vertical"===t?M(e):e}function M(e){return e.slice(0).sort(function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1})}function B(e){return e.slice(0).sort(function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1})}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout";const n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let r=0,a=e.length;r<a;r++){const a=e[r];for(let e=0;e<n.length;e++){const o=n[e],i=a[o];if("number"!=typeof i||Number.isNaN(i))throw new Error(`ReactGridLayout: ${t}[${r}].${o} must be a number! Received: ${i} (${typeof i})`)}if(void 0!==a.i&&"string"!=typeof a.i)throw new Error(`ReactGridLayout: ${t}[${r}].i must be a string! Received: ${a.i} (${typeof a.i})`)}}function N(){s&&console.log(...arguments)}t.noop=()=>{}},544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOrGenerateResponsiveLayout=function(e,t,n,o,i,s){if(e[n])return(0,r.cloneLayout)(e[n]);let l=e[o];const u=a(t),c=u.slice(u.indexOf(n));for(let t=0,n=c.length;t<n;t++){const n=c[t];if(e[n]){l=e[n];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:i}),s,i)},t.getBreakpointFromWidth=function(e,t){const n=a(e);let r=n[0];for(let a=1,o=n.length;a<o;a++){const o=n[a];t>e[o]&&(r=o)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.sortBreakpoints=a;var r=n(414);function a(e){return Object.keys(e).sort(function(t,n){return e[t]-e[n]})}},568:function(e,t){!function(e){"use strict";function t(e){return function(t,n,r,a,o,i,s){return e(t,n,s)}}function n(e){return function(t,n,r,a){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r,a);var o=a.get(t),i=a.get(n);if(o&&i)return o===n&&i===t;a.set(t,n),a.set(n,t);var s=e(t,n,r,a);return a.delete(t),a.delete(n),s}}function r(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function a(e){return e.constructor===Object||null==e.constructor}function o(e){return"function"==typeof e.then}function i(e,t){return e===t||e!=e&&t!=t}var s=Object.prototype.toString;function l(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,l=e.areObjectsEqual,u=e.areRegExpsEqual,c=e.areSetsEqual,d=(0,e.createIsNestedEqual)(p);function p(e,p,f){if(e===p)return!0;if(!e||!p||"object"!=typeof e||"object"!=typeof p)return e!=e&&p!=p;if(a(e)&&a(p))return l(e,p,d,f);var h=Array.isArray(e),g=Array.isArray(p);if(h||g)return h===g&&t(e,p,d,f);var m=s.call(e);return m===s.call(p)&&("[object Date]"===m?n(e,p,d,f):"[object RegExp]"===m?u(e,p,d,f):"[object Map]"===m?r(e,p,d,f):"[object Set]"===m?c(e,p,d,f):"[object Object]"===m||"[object Arguments]"===m?!o(e)&&!o(p)&&l(e,p,d,f):("[object Boolean]"===m||"[object Number]"===m||"[object String]"===m)&&i(e.valueOf(),p.valueOf()))}return p}function u(e,t,n,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!n(e[a],t[a],a,a,e,t,r))return!1;return!0}var c=n(u);function d(e,t){return i(e.valueOf(),t.valueOf())}function p(e,t,n,r){var a=e.size===t.size;if(!a)return!1;if(!e.size)return!0;var o={},i=0;return e.forEach(function(s,l){if(a){var u=!1,c=0;t.forEach(function(a,d){u||o[c]||!(u=n(l,d,i,c,e,t,r)&&n(s,a,l,d,e,t,r))||(o[c]=!0),c++}),i++,a=u}}),a}var f=n(p),h=Object.prototype.hasOwnProperty;function g(e,t,n,r){var a,o=Object.keys(e),i=o.length;if(Object.keys(t).length!==i)return!1;for(;i-- >0;){if("_owner"===(a=o[i])){var s=!!e.$$typeof,l=!!t.$$typeof;if((s||l)&&s!==l)return!1}if(!h.call(t,a)||!n(e[a],t[a],a,a,e,t,r))return!1}return!0}var m=n(g);function v(e,t){return e.source===t.source&&e.flags===t.flags}function b(e,t,n,r){var a=e.size===t.size;if(!a)return!1;if(!e.size)return!0;var o={};return e.forEach(function(i,s){if(a){var l=!1,u=0;t.forEach(function(a,c){l||o[u]||!(l=n(i,a,s,c,e,t,r))||(o[u]=!0),u++}),a=l}}),a}var y=n(b),w=Object.freeze({areArraysEqual:u,areDatesEqual:d,areMapsEqual:p,areObjectsEqual:g,areRegExpsEqual:v,areSetsEqual:b,createIsNestedEqual:t}),S=Object.freeze({areArraysEqual:c,areDatesEqual:d,areMapsEqual:f,areObjectsEqual:m,areRegExpsEqual:v,areSetsEqual:y,createIsNestedEqual:t}),x=l(w);var E=l(r(w,{createIsNestedEqual:function(){return i}}));var C=l(S);var A=l(r(S,{createIsNestedEqual:function(){return i}}));e.circularDeepEqual=function(e,t){return C(e,t,new WeakMap)},e.circularShallowEqual=function(e,t){return A(e,t,new WeakMap)},e.createCustomCircularEqual=function(e){var t=l(r(S,e(S)));return function(e,n,r){return void 0===r&&(r=new WeakMap),t(e,n,r)}},e.createCustomEqual=function(e){return l(r(w,e(w)))},e.deepEqual=function(e,t){return x(e,t,void 0)},e.sameValueZeroEqual=i,e.shallowEqual=function(e,t){return E(e,t,void 0)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},599:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)<0},603:(e,t,n)=>{"use strict";const r=n(2801);e.exports=(e,t)=>e.sort((e,n)=>r(e,n,t))},651:(e,t,n)=>{"use strict";const r=n(8395);e.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},660:(e,t,n)=>{"use strict";const r=n(5860);e.exports=(e,t)=>{const n=r(e,null,!0),a=r(t,null,!0),o=n.compare(a);if(0===o)return null;const i=o>0,s=i?n:a,l=i?a:n,u=!!s.prerelease.length;if(l.prerelease.length&&!u){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(s))return l.minor&&!l.patch?"minor":"patch"}const c=u?"pre":"";return n.major!==a.major?c+"major":n.minor!==a.minor?c+"minor":n.patch!==a.patch?c+"patch":"prerelease"}},694:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},697:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,o:()=>i});var r=n(5959),a=(0,n(9370).A)()?r.useLayoutEffect:r.useEffect,o=function(e,t){var n=r.useRef(!0);a(function(){return e(n.current)},t),a(function(){return n.current=!1,function(){n.current=!0}},[])},i=function(e,t){o(function(t){if(!t)return e()},t)};const s=o},883:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),a="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e){var t=!1,n=!1,r=0;function a(){t&&(t=!1,e()),n&&s()}function o(){i(a)}function s(){var e=Date.now();if(t){if(e-r<2)return;n=!0}else t=!0,n=!1,setTimeout(o,20);r=e}return s}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){a&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){a&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},p=v(0,0,0,0);function f(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+f(e["border-"+n+"-width"])},0)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function m(e){return a?g(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=d(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],o=e["padding-"+a];t[a]=f(o)}return t}(r),o=a.left+a.right,i=a.top+a.bottom,s=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=h(r,"left","right")+o),Math.round(l+i)!==n&&(l-=h(r,"top","bottom")+i)),!function(e){return e===d(e).document.documentElement}(e)){var u=Math.round(s+o)-t,c=Math.round(l+i)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return v(a.left,a.top,s,l)}(e):p}function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),y=function(e,t){var n,r,a,o,i,s,l,u=(r=(n=t).x,a=n.y,o=n.width,i=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),c(l,{x:r,y:a,width:o,height:i,top:a,right:r+o,bottom:i+a,left:r}),l);c(this,{target:e,contentRect:u})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new y(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),S="undefined"!=typeof WeakMap?new WeakMap:new r,x=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new w(t,n,this);S.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){x.prototype[e]=function(){var t;return(t=S.get(this))[e].apply(t,arguments)}});const E=void 0!==o.ResizeObserver?o.ResizeObserver:x},906:(e,t)=>{"use strict";function n(e){const{margin:t,containerPadding:n,containerWidth:r,cols:a}=e;return(r-t[0]*(a-1)-2*n[0])/a}function r(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function a(e,t,n){return Math.max(Math.min(e,n),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=n,t.calcGridItemPosition=function(e,t,a,o,i,s){const{margin:l,containerPadding:u,rowHeight:c}=e,d=n(e),p={};return s&&s.resizing?(p.width=Math.round(s.resizing.width),p.height=Math.round(s.resizing.height)):(p.width=r(o,d,l[0]),p.height=r(i,c,l[1])),s&&s.dragging?(p.top=Math.round(s.dragging.top),p.left=Math.round(s.dragging.left)):s&&s.resizing&&"number"==typeof s.resizing.top&&"number"==typeof s.resizing.left?(p.top=Math.round(s.resizing.top),p.left=Math.round(s.resizing.left)):(p.top=Math.round((c+l[1])*a+u[1]),p.left=Math.round((d+l[0])*t+u[0])),p},t.calcGridItemWHPx=r,t.calcWH=function(e,t,r,o,i,s){const{margin:l,maxRows:u,cols:c,rowHeight:d}=e,p=n(e);let f=Math.round((t+l[0])/(p+l[0])),h=Math.round((r+l[1])/(d+l[1])),g=a(f,0,c-o),m=a(h,0,u-i);return-1!==["sw","w","nw"].indexOf(s)&&(g=a(f,0,c)),-1!==["nw","n","ne"].indexOf(s)&&(m=a(h,0,u)),{w:g,h:m}},t.calcXY=function(e,t,r,o,i){const{margin:s,containerPadding:l,cols:u,rowHeight:c,maxRows:d}=e,p=n(e);let f=Math.round((r-l[0])/(p+s[0])),h=Math.round((t-l[1])/(c+s[1]));return f=a(f,0,u-o),h=a(h,0,d-i),{x:f,y:h}},t.clamp=a},936:(e,t,n)=>{"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(1794).default,e.exports.ResizableBox=n(6609).default},1060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?n(a,t,r):a[t]=e[t]);return a}(e)}(n(5959)),a=c(n(2688)),o=c(n(8398)),i=n(2837),s=n(402),l=n(6732),u=c(n(7988));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={start:"touchstart",move:"touchmove",stop:"touchend"},f={start:"mousedown",move:"mousemove",stop:"mouseup"};let h=f;class g extends r.Component{constructor(){super(...arguments),d(this,"dragging",!1),d(this,"lastX",NaN),d(this,"lastY",NaN),d(this,"touchIdentifier",null),d(this,"mounted",!1),d(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,i.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,i.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"!==e.type||this.props.allowMobileScroll||e.preventDefault();const r=(0,i.getTouchIdentifier)(e);this.touchIdentifier=r;const a=(0,s.getControlPosition)(e,r,this);if(null==a)return;const{x:o,y:l}=a,c=(0,s.createCoreData)(this,o,l);(0,u.default)("DraggableCore: handleDragStart: %j",c),(0,u.default)("calling",this.props.onStart),!1!==this.props.onStart(e,c)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=l,(0,i.addEvent)(n,h.move,this.handleDrag),(0,i.addEvent)(n,h.stop,this.handleDragStop))}),d(this,"handleDrag",e=>{const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const a=(0,s.createCoreData)(this,n,r);if((0,u.default)("DraggableCore: handleDrag: %j",a),!1!==this.props.onDrag(e,a)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}}),d(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const a=(0,s.createCoreData)(this,n,r);if(!1===this.props.onStop(e,a)||!1===this.mounted)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,i.scheduleRemoveUserSelectStyles)(o.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,u.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(o.ownerDocument,h.move,this.handleDrag),(0,i.removeEvent)(o.ownerDocument,h.stop,this.handleDragStop))}),d(this,"onMouseDown",e=>(h=f,this.handleDragStart(e))),d(this,"onMouseUp",e=>(h=f,this.handleDragStop(e))),d(this,"onTouchStart",e=>(h=p,this.handleDragStart(e))),d(this,"onTouchEnd",e=>(h=p,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,i.addEvent)(e,p.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,i.removeEvent)(t,f.move,this.handleDrag),(0,i.removeEvent)(t,p.move,this.handleDrag),(0,i.removeEvent)(t,f.stop,this.handleDragStop),(0,i.removeEvent)(t,p.stop,this.handleDragStop),(0,i.removeEvent)(e,p.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:o.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=g,d(g,"displayName","DraggableCore"),d(g,"propTypes",{allowAnyClick:a.default.bool,allowMobileScroll:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),d(g,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},1112:(e,t,n)=>{"use strict";const r=n(8395);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},1150:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Popup:()=>s,default:()=>Ht});var r=n(4452),a=n.n(r),o=n(5959),i=n.n(o);function s(e){var t=e.children,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle,s=e.bodyClassName,l=e.className,u=e.style;return o.createElement("div",{className:a()("".concat(n,"-content"),l),style:u},o.createElement("div",{className:a()("".concat(n,"-inner"),s),id:r,role:"tooltip",style:i},"function"==typeof t?t():t))}var l=n(8102),u=n(7405),c=n(9644),d=n(7850),p=n(8398),f=n.n(p),h=n(9370),g=(n(4358),n(9115));const m=o.createContext(null);var v=n(4300),b=n(697),y=[],w="data-rc-order",S="data-rc-priority",x=new Map;function E(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"rc-util-key"}function C(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function A(e){return Array.from((x.get(e)||e).children).filter(function(e){return"STYLE"===e.tagName})}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,h.A)())return null;var n=t.csp,r=t.prepend,a=t.priority,o=void 0===a?0:a,i=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),s="prependQueue"===i,l=document.createElement("style");l.setAttribute(w,i),s&&o&&l.setAttribute(S,"".concat(o)),null!=n&&n.nonce&&(l.nonce=null==n?void 0:n.nonce),l.innerHTML=e;var u=C(t),c=u.firstChild;if(r){if(s){var d=(t.styles||A(u)).filter(function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(w)))return!1;var t=Number(e.getAttribute(S)||0);return o>=t});if(d.length)return u.insertBefore(l,d[d.length-1].nextSibling),l}u.insertBefore(l,c)}else u.appendChild(l);return l}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=C(t);return(t.styles||A(n)).find(function(n){return n.getAttribute(E(t))===e})}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=R(e,t);n&&C(t).removeChild(n)}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=C(n),a=A(r),o=(0,u.A)((0,u.A)({},n),{},{styles:a});!function(e,t){var n=x.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=O("",t),a=r.parentNode;x.set(e,a),e.removeChild(r)}}(r,o);var i,s,l,c=R(t,o);if(c)return null!==(i=o.csp)&&void 0!==i&&i.nonce&&c.nonce!==(null===(s=o.csp)||void 0===s?void 0:s.nonce)&&(c.nonce=null===(l=o.csp)||void 0===l?void 0:l.nonce),c.innerHTML!==e&&(c.innerHTML=e),c;var d=O(e,o);return d.setAttribute(E(o),t),d}var P="rc-util-locker-".concat(Date.now()),_=0;function T(e){var t=!!e,n=o.useState(function(){return _+=1,"".concat(P,"_").concat(_)}),r=(0,d.A)(n,1)[0];(0,b.A)(function(){if(t){var e=(a=document.body,"undefined"!=typeof document&&a&&a instanceof Element?function(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,a,o=n.style;if(o.position="absolute",o.left="0",o.top="0",o.width="100px",o.height="100px",o.overflow="scroll",e){var i=getComputedStyle(e);o.scrollbarColor=i.scrollbarColor,o.scrollbarWidth=i.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(s.width,10),u=parseInt(s.height,10);try{var c=l?"width: ".concat(s.width,";"):"",d=u?"height: ".concat(s.height,";"):"";D("\n#".concat(t,"::-webkit-scrollbar {\n").concat(c,"\n").concat(d,"\n}"),t)}catch(e){console.error(e),r=l,a=u}}document.body.appendChild(n);var p=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,f=e&&a&&!isNaN(a)?a:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),I(t),{width:p,height:f}}(a):{width:0,height:0}).width,n=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;D("\nhtml body {\n  overflow-y: hidden;\n  ".concat(n?"width: calc(100% - ".concat(e,"px);"):"","\n}"),r)}else I(r);var a;return function(){I(r)}},[t,r])}var k=!1,M=function(e){return!1!==e&&((0,h.A)()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},B=o.forwardRef(function(e,t){var n=e.open,r=e.autoLock,a=e.getContainer,i=(e.debug,e.autoDestroy),s=void 0===i||i,l=e.children,u=o.useState(n),c=(0,d.A)(u,2),f=c[0],w=c[1],S=f||n;o.useEffect(function(){(s||n)&&w(n)},[n,s]);var x=o.useState(function(){return M(a)}),E=(0,d.A)(x,2),C=E[0],A=E[1];o.useEffect(function(){var e=M(a);A(null!=e?e:null)});var O=function(e){var t=o.useState(function(){return(0,h.A)()?document.createElement("div"):null}),n=(0,d.A)(t,1)[0],r=o.useRef(!1),a=o.useContext(m),i=o.useState(y),s=(0,d.A)(i,2),l=s[0],u=s[1],c=a||(r.current?void 0:function(e){u(function(t){return[e].concat((0,v.A)(t))})});function p(){n.parentElement||document.body.appendChild(n),r.current=!0}function f(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),r.current=!1}return(0,b.A)(function(){return e?a?a(p):p():f(),f},[e]),(0,b.A)(function(){l.length&&(l.forEach(function(e){return e()}),u(y))},[l]),[n,c]}(S&&!C),R=(0,d.A)(O,2),I=R[0],D=R[1],P=null!=C?C:I;T(r&&n&&(0,h.A)()&&(P===I||P===document.body));var _=null;l&&(0,g.f3)(l)&&t&&(_=l.ref);var B=(0,g.xK)(_,t);if(!S||!(0,h.A)()||void 0===C)return null;var L=!1===P||k,N=l;return t&&(N=o.cloneElement(l,{ref:B})),o.createElement(m.Provider,{value:D},L?N:(0,p.createPortal)(N,P))});const L=B;var N=n(9572);function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return i().Children.forEach(e,function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(V(e)):(0,N.A)(e)&&e.props?n=n.concat(V(e.props.children,t)):n.push(e))}),n}var F=n(694);function j(e){return e instanceof HTMLElement||e instanceof SVGElement}function $(e){var t,n=function(e){return e&&"object"===(0,F.A)(e)&&j(e.nativeElement)?e.nativeElement:j(e)?e:null}(e);return n||(e instanceof i().Component?null===(t=f().findDOMNode)||void 0===t?void 0:t.call(f(),e):null)}var z=o.createContext(null),H=n(883),U=new Map,G=new H.default(function(e){e.forEach(function(e){var t,n=e.target;null===(t=U.get(n))||void 0===t||t.forEach(function(e){return e(n)})})});function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var q=n(2162);function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,q.A)(r.key),r)}}function Y(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var X=n(1576);function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,X.A)(e,t)}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(J=function(){return!!e})()}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){var t=J();return function(){var n,r=Z(e);if(t){var a=Z(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==(0,F.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}(this,n)}}var ne=function(e){K(n,e);var t=te(n);function n(){return W(this,n),t.apply(this,arguments)}return Y(n,[{key:"render",value:function(){return this.props.children}}]),n}(o.Component);function re(e,t){var n=e.children,r=e.disabled,a=o.useRef(null),i=o.useRef(null),s=o.useContext(z),l="function"==typeof n,c=l?n(a):n,d=o.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),p=!l&&o.isValidElement(c)&&(0,g.f3)(c),f=p?(0,g.A9)(c):null,h=(0,g.xK)(f,a),m=function(){var e;return $(a.current)||(a.current&&"object"===(0,F.A)(a.current)?$(null===(e=a.current)||void 0===e?void 0:e.nativeElement):null)||$(i.current)};o.useImperativeHandle(t,function(){return m()});var v=o.useRef(e);v.current=e;var b=o.useCallback(function(e){var t=v.current,n=t.onResize,r=t.data,a=e.getBoundingClientRect(),o=a.width,i=a.height,l=e.offsetWidth,c=e.offsetHeight,p=Math.floor(o),f=Math.floor(i);if(d.current.width!==p||d.current.height!==f||d.current.offsetWidth!==l||d.current.offsetHeight!==c){var h={width:p,height:f,offsetWidth:l,offsetHeight:c};d.current=h;var g=l===Math.round(o)?o:l,m=c===Math.round(i)?i:c,b=(0,u.A)((0,u.A)({},h),{},{offsetWidth:g,offsetHeight:m});null==s||s(b,e,r),n&&Promise.resolve().then(function(){n(b,e)})}},[]);return o.useEffect(function(){var e,t,n=m();return n&&!r&&(e=n,t=b,U.has(e)||(U.set(e,new Set),G.observe(e)),U.get(e).add(t)),function(){return function(e,t){U.has(e)&&(U.get(e).delete(t),U.get(e).size||(G.unobserve(e),U.delete(e)))}(n,b)}},[a.current,r]),o.createElement(ne,{ref:i},p?o.cloneElement(c,{ref:h}):c)}const ae=o.forwardRef(re);function oe(e,t){var n=e.children;return("function"==typeof n?[n]:V(n)).map(function(n,r){var a=(null==n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return o.createElement(ae,(0,l.A)({},e,{key:a,ref:0===r?t:void 0}),n)})}var ie=o.forwardRef(oe);ie.Collection=function(e){var t=e.children,n=e.onBatchResize,r=o.useRef(0),a=o.useRef([]),i=o.useContext(z),s=o.useCallback(function(e,t,o){r.current+=1;var s=r.current;a.current.push({size:e,element:t,data:o}),Promise.resolve().then(function(){s===r.current&&(null==n||n(a.current),a.current=[])}),null==i||i(e,t,o)},[n,i]);return o.createElement(z.Provider,{value:s},t)};const se=ie;function le(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function ue(e){return function(e){return le(e)instanceof ShadowRoot}(e)?le(e):null}var ce=n(8728),de=0,pe=(0,u.A)({},o).useId;const fe=pe?function(e){var t=pe();return e||t}:function(e){var t=o.useState("ssr-id"),n=(0,d.A)(t,2),r=n[0],a=n[1];return o.useEffect(function(){var e=de;de+=1,a("rc_unique_".concat(e))},[]),e||r};var he=n(1705),ge=o.createContext({}),me=function(e){K(n,e);var t=te(n);function n(){return W(this,n),t.apply(this,arguments)}return Y(n,[{key:"render",value:function(){return this.props.children}}]),n}(o.Component);const ve=me;var be=n(291),ye=n(1773),we="none",Se="appear",xe="enter",Ee="leave",Ce="none",Ae="prepare",Oe="start",Re="active",Ie="end",De="prepared";function Pe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var _e,Te,ke,Me=(_e=(0,h.A)(),Te="undefined"!=typeof window?window:{},ke={animationend:Pe("Animation","AnimationEnd"),transitionend:Pe("Transition","TransitionEnd")},_e&&("AnimationEvent"in Te||delete ke.animationend.animation,"TransitionEvent"in Te||delete ke.transitionend.transition),ke),Be={};if((0,h.A)()){var Le=document.createElement("div");Be=Le.style}var Ne={};function Ve(e){if(Ne[e])return Ne[e];var t=Me[e];if(t)for(var n=Object.keys(t),r=n.length,a=0;a<r;a+=1){var o=n[a];if(Object.prototype.hasOwnProperty.call(t,o)&&o in Be)return Ne[e]=t[o],Ne[e]}return""}var Fe=Ve("animationend"),je=Ve("transitionend"),$e=!(!Fe||!je),ze=Fe||"animationend",He=je||"transitionend";function Ue(e,t){return e?"object"===(0,F.A)(e)?e[t.replace(/-\w/g,function(e){return e[1].toUpperCase()})]:"".concat(e,"-").concat(t):null}const Ge=(0,h.A)()?o.useLayoutEffect:o.useEffect;var We=function(e){return+setTimeout(e,16)},qe=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(We=function(e){return window.requestAnimationFrame(e)},qe=function(e){return window.cancelAnimationFrame(e)});var Qe=0,Ye=new Map;function Xe(e){Ye.delete(e)}var Ke=function(e){var t=Qe+=1;return function n(r){if(0===r)Xe(t),e();else{var a=We(function(){n(r-1)});Ye.set(t,a)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};Ke.cancel=function(e){var t=Ye.get(e);return Xe(e),qe(t)};const Ze=Ke;var Je=[Ae,Oe,Re,Ie],et=[Ae,De],tt=!1;function nt(e){return e===Re||e===Ie}function rt(e,t,n,r){var a,i,s,l,c=r.motionEnter,p=void 0===c||c,f=r.motionAppear,h=void 0===f||f,g=r.motionLeave,m=void 0===g||g,v=r.motionDeadline,b=r.motionLeaveImmediately,y=r.onAppearPrepare,w=r.onEnterPrepare,S=r.onLeavePrepare,x=r.onAppearStart,E=r.onEnterStart,C=r.onLeaveStart,A=r.onAppearActive,O=r.onEnterActive,R=r.onLeaveActive,I=r.onAppearEnd,D=r.onEnterEnd,P=r.onLeaveEnd,_=r.onVisibleChanged,T=(0,ye.A)(),k=(0,d.A)(T,2),M=k[0],B=k[1],L=(a=we,i=o.useReducer(function(e){return e+1},0),s=(0,d.A)(i,2)[1],l=o.useRef(a),[(0,ce.A)(function(){return l.current}),(0,ce.A)(function(e){l.current="function"==typeof e?e(l.current):e,s()})]),N=(0,d.A)(L,2),V=N[0],F=N[1],j=(0,ye.A)(null),$=(0,d.A)(j,2),z=$[0],H=$[1],U=V(),G=(0,o.useRef)(!1),W=(0,o.useRef)(null);function q(){return n()}var Q=(0,o.useRef)(!1);function Y(){F(we),H(null,!0)}var X=(0,be._q)(function(e){var t=V();if(t!==we){var n=q();if(!e||e.deadline||e.target===n){var r,a=Q.current;t===Se&&a?r=null==I?void 0:I(n,e):t===xe&&a?r=null==D?void 0:D(n,e):t===Ee&&a&&(r=null==P?void 0:P(n,e)),a&&!1!==r&&Y()}}}),K=function(e){var t=(0,o.useRef)();function n(t){t&&(t.removeEventListener(He,e),t.removeEventListener(ze,e))}return o.useEffect(function(){return function(){n(t.current)}},[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(He,e),r.addEventListener(ze,e),t.current=r)},n]}(X),Z=(0,d.A)(K,1)[0],J=function(e){switch(e){case Se:return(0,he.A)((0,he.A)((0,he.A)({},Ae,y),Oe,x),Re,A);case xe:return(0,he.A)((0,he.A)((0,he.A)({},Ae,w),Oe,E),Re,O);case Ee:return(0,he.A)((0,he.A)((0,he.A)({},Ae,S),Oe,C),Re,R);default:return{}}},ee=o.useMemo(function(){return J(U)},[U]),te=function(e,t,n){var r=(0,ye.A)(Ce),a=(0,d.A)(r,2),i=a[0],s=a[1],l=function(){var e=o.useRef(null);function t(){Ze.cancel(e.current)}return o.useEffect(function(){return function(){t()}},[]),[function n(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=Ze(function(){a<=1?r({isCanceled:function(){return o!==e.current}}):n(r,a-1)});e.current=o},t]}(),u=(0,d.A)(l,2),c=u[0],p=u[1],f=t?et:Je;return Ge(function(){if(i!==Ce&&i!==Ie){var e=f.indexOf(i),t=f[e+1],r=n(i);r===tt?s(t,!0):t&&c(function(e){function n(){e.isCanceled()||s(t,!0)}!0===r?n():Promise.resolve(r).then(n)})}},[e,i]),o.useEffect(function(){return function(){p()}},[]),[function(){s(Ae,!0)},i]}(U,!e,function(e){if(e===Ae){var t=ee[Ae];return t?t(q()):tt}var n;return ae in ee&&H((null===(n=ee[ae])||void 0===n?void 0:n.call(ee,q(),null))||null),ae===Re&&U!==we&&(Z(q()),v>0&&(clearTimeout(W.current),W.current=setTimeout(function(){X({deadline:!0})},v))),ae===De&&Y(),!0}),ne=(0,d.A)(te,2),re=ne[0],ae=ne[1],oe=nt(ae);Q.current=oe;var ie=(0,o.useRef)(null);Ge(function(){if(!G.current||ie.current!==t){B(t);var n,r=G.current;G.current=!0,!r&&t&&h&&(n=Se),r&&t&&p&&(n=xe),(r&&!t&&m||!r&&b&&!t&&m)&&(n=Ee);var a=J(n);n&&(e||a[Ae])?(F(n),re()):F(we),ie.current=t}},[t]),(0,o.useEffect)(function(){(U===Se&&!h||U===xe&&!p||U===Ee&&!m)&&F(we)},[h,p,m]),(0,o.useEffect)(function(){return function(){G.current=!1,clearTimeout(W.current)}},[]);var se=o.useRef(!1);(0,o.useEffect)(function(){M&&(se.current=!0),void 0!==M&&U===we&&((se.current||M)&&(null==_||_(M)),se.current=!0)},[M,U]);var le=z;return ee[Ae]&&ae===Oe&&(le=(0,u.A)({transition:"none"},le)),[U,ae,le,null!=M?M:t]}const at=function(e){var t=e;"object"===(0,F.A)(e)&&(t=e.transitionSupport);var n=o.forwardRef(function(e,n){var r=e.visible,i=void 0===r||r,s=e.removeOnLeave,l=void 0===s||s,c=e.forceRender,p=e.children,f=e.motionName,h=e.leavedClassName,m=e.eventProps,v=function(e,n){return!(!e.motionName||!t||!1===n)}(e,o.useContext(ge).motion),b=(0,o.useRef)(),y=(0,o.useRef)(),w=rt(v,i,function(){try{return b.current instanceof HTMLElement?b.current:$(y.current)}catch(e){return null}},e),S=(0,d.A)(w,4),x=S[0],E=S[1],C=S[2],A=S[3],O=o.useRef(A);A&&(O.current=!0);var R,I=o.useCallback(function(e){b.current=e,(0,g.Xf)(n,e)},[n]),D=(0,u.A)((0,u.A)({},m),{},{visible:i});if(p)if(x===we)R=A?p((0,u.A)({},D),I):!l&&O.current&&h?p((0,u.A)((0,u.A)({},D),{},{className:h}),I):c||!l&&!h?p((0,u.A)((0,u.A)({},D),{},{style:{display:"none"}}),I):null;else{var P;E===Ae?P="prepare":nt(E)?P="active":E===Oe&&(P="start");var _=Ue(f,"".concat(x,"-").concat(P));R=p((0,u.A)((0,u.A)({},D),{},{className:a()(Ue(f,x),(0,he.A)((0,he.A)({},_,_&&P),f,"string"==typeof f)),style:C}),I)}else R=null;return o.isValidElement(R)&&(0,g.f3)(R)&&((0,g.A9)(R)||(R=o.cloneElement(R,{ref:I}))),o.createElement(ve,{ref:y},R)});return n.displayName="CSSMotion",n}($e);var ot="add",it="keep",st="remove",lt="removed";function ut(e){var t;return t=e&&"object"===(0,F.A)(e)&&"key"in e?e:{key:e},(0,u.A)((0,u.A)({},t),{},{key:String(t.key)})}function ct(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(ut)}var dt=["component","children","onVisibleChanged","onAllRemoved"],pt=["status"],ft=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:at,t=function(t){K(r,t);var n=te(r);function r(){var e;W(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),(0,he.A)(ee(e),"state",{keyEntities:[]}),(0,he.A)(ee(e),"removeKey",function(t){e.setState(function(e){return{keyEntities:e.keyEntities.map(function(e){return e.key!==t?e:(0,u.A)((0,u.A)({},e),{},{status:lt})})}},function(){0===e.state.keyEntities.filter(function(e){return e.status!==lt}).length&&e.props.onAllRemoved&&e.props.onAllRemoved()})}),e}return Y(r,[{key:"render",value:function(){var t=this,n=this.state.keyEntities,r=this.props,a=r.component,i=r.children,s=r.onVisibleChanged,d=(r.onAllRemoved,(0,c.A)(r,dt)),p=a||o.Fragment,f={};return ft.forEach(function(e){f[e]=d[e],delete d[e]}),delete d.keys,o.createElement(p,d,n.map(function(n,r){var a=n.status,d=(0,c.A)(n,pt),p=a===ot||a===it;return o.createElement(e,(0,l.A)({},f,{key:d.key,visible:p,eventProps:d,onVisibleChanged:function(e){null==s||s(e,{key:d.key}),e||t.removeKey(d.key)}}),function(e,t){return i((0,u.A)((0,u.A)({},e),{},{index:r}),t)})}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,a=ct(n),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,a=t.length,o=ct(e),i=ct(t);o.forEach(function(e){for(var t=!1,o=r;o<a;o+=1){var s=i[o];if(s.key===e.key){r<o&&(n=n.concat(i.slice(r,o).map(function(e){return(0,u.A)((0,u.A)({},e),{},{status:ot})})),r=o),n.push((0,u.A)((0,u.A)({},s),{},{status:it})),r+=1,t=!0;break}}t||n.push((0,u.A)((0,u.A)({},e),{},{status:st}))}),r<a&&(n=n.concat(i.slice(r).map(function(e){return(0,u.A)((0,u.A)({},e),{},{status:ot})})));var s={};return n.forEach(function(e){var t=e.key;s[t]=(s[t]||0)+1}),Object.keys(s).filter(function(e){return s[e]>1}).forEach(function(e){(n=n.filter(function(t){var n=t.key,r=t.status;return n!==e||r!==st})).forEach(function(t){t.key===e&&(t.status=it)})}),n}(r,a);return{keyEntities:o.filter(function(e){var t=r.find(function(t){var n=t.key;return e.key===n});return!t||t.status!==lt||e.status!==st})}}}]),r}(o.Component);(0,he.A)(t,"defaultProps",{component:"div"})}($e);const ht=at;function gt(e){var t=e.prefixCls,n=e.align,r=e.arrow,i=e.arrowPos,s=r||{},l=s.className,u=s.content,c=i.x,d=void 0===c?0:c,p=i.y,f=void 0===p?0:p,h=o.useRef();if(!n||!n.points)return null;var g={position:"absolute"};if(!1!==n.autoArrow){var m=n.points[0],v=n.points[1],b=m[0],y=m[1],w=v[0],S=v[1];b!==w&&["t","b"].includes(b)?"t"===b?g.top=0:g.bottom=0:g.top=f,y!==S&&["l","r"].includes(y)?"l"===y?g.left=0:g.right=0:g.left=d}return o.createElement("div",{ref:h,className:a()("".concat(t,"-arrow"),l),style:g},u)}function mt(e){var t=e.prefixCls,n=e.open,r=e.zIndex,i=e.mask,s=e.motion;return i?o.createElement(ht,(0,l.A)({},s,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(e){var n=e.className;return o.createElement("div",{style:{zIndex:r},className:a()("".concat(t,"-mask"),n)})}):null}const vt=o.memo(function(e){return e.children},function(e,t){return t.cache});var bt=o.forwardRef(function(e,t){var n=e.popup,r=e.className,i=e.prefixCls,s=e.style,c=e.target,p=e.onVisibleChanged,f=e.open,h=e.keepDom,m=e.fresh,v=e.onClick,y=e.mask,w=e.arrow,S=e.arrowPos,x=e.align,E=e.motion,C=e.maskMotion,A=e.forceRender,O=e.getPopupContainer,R=e.autoDestroy,I=e.portal,D=e.zIndex,P=e.onMouseEnter,_=e.onMouseLeave,T=e.onPointerEnter,k=e.onPointerDownCapture,M=e.ready,B=e.offsetX,L=e.offsetY,N=e.offsetR,V=e.offsetB,F=e.onAlign,j=e.onPrepare,$=e.stretch,z=e.targetWidth,H=e.targetHeight,U="function"==typeof n?n():n,G=f||h,W=(null==O?void 0:O.length)>0,q=o.useState(!O||!W),Q=(0,d.A)(q,2),Y=Q[0],X=Q[1];if((0,b.A)(function(){!Y&&W&&c&&X(!0)},[Y,W,c]),!Y)return null;var K="auto",Z={left:"-1000vw",top:"-1000vh",right:K,bottom:K};if(M||!f){var J,ee=x.points,te=x.dynamicInset||(null===(J=x._experimental)||void 0===J?void 0:J.dynamicInset),ne=te&&"r"===ee[0][1],re=te&&"b"===ee[0][0];ne?(Z.right=N,Z.left=K):(Z.left=B,Z.right=K),re?(Z.bottom=V,Z.top=K):(Z.top=L,Z.bottom=K)}var ae={};return $&&($.includes("height")&&H?ae.height=H:$.includes("minHeight")&&H&&(ae.minHeight=H),$.includes("width")&&z?ae.width=z:$.includes("minWidth")&&z&&(ae.minWidth=z)),f||(ae.pointerEvents="none"),o.createElement(I,{open:A||G,getContainer:O&&function(){return O(c)},autoDestroy:R},o.createElement(mt,{prefixCls:i,open:f,zIndex:D,mask:y,motion:C}),o.createElement(se,{onResize:F,disabled:!f},function(e){return o.createElement(ht,(0,l.A)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:A,leavedClassName:"".concat(i,"-hidden")},E,{onAppearPrepare:j,onEnterPrepare:j,visible:f,onVisibleChanged:function(e){var t;null==E||null===(t=E.onVisibleChanged)||void 0===t||t.call(E,e),p(e)}}),function(n,l){var c=n.className,d=n.style,p=a()(i,c,r);return o.createElement("div",{ref:(0,g.K4)(e,t,l),className:p,style:(0,u.A)((0,u.A)((0,u.A)((0,u.A)({"--arrow-x":"".concat(S.x||0,"px"),"--arrow-y":"".concat(S.y||0,"px")},Z),ae),d),{},{boxSizing:"border-box",zIndex:D},s),onMouseEnter:P,onMouseLeave:_,onPointerEnter:T,onClick:v,onPointerDownCapture:k},w&&o.createElement(gt,{prefixCls:i,arrow:w,arrowPos:S,align:x}),o.createElement(vt,{cache:!f&&!m},U))})}))});const yt=bt,wt=o.forwardRef(function(e,t){var n=e.children,r=e.getTriggerDOMNode,a=(0,g.f3)(n),i=o.useCallback(function(e){(0,g.Xf)(t,r?r(e):e)},[r]),s=(0,g.xK)(i,(0,g.A9)(n));return a?o.cloneElement(n,{ref:s}):n}),St=o.createContext(null);function xt(e){return e?Array.isArray(e)?e:[e]:[]}function Et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Ct(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function At(e){return e.ownerDocument.defaultView}function Ot(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var a=At(n).getComputedStyle(n);[a.overflowX,a.overflowY,a.overflow].some(function(e){return r.includes(e)})&&t.push(n),n=n.parentElement}return t}function Rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function It(e){return Rt(parseFloat(e),0)}function Dt(e,t){var n=(0,u.A)({},e);return(t||[]).forEach(function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=At(e).getComputedStyle(e),r=t.overflow,a=t.overflowClipMargin,o=t.borderTopWidth,i=t.borderBottomWidth,s=t.borderLeftWidth,l=t.borderRightWidth,u=e.getBoundingClientRect(),c=e.offsetHeight,d=e.clientHeight,p=e.offsetWidth,f=e.clientWidth,h=It(o),g=It(i),m=It(s),v=It(l),b=Rt(Math.round(u.width/p*1e3)/1e3),y=Rt(Math.round(u.height/c*1e3)/1e3),w=(p-f-m-v)*b,S=(c-d-h-g)*y,x=h*y,E=g*y,C=m*b,A=v*b,O=0,R=0;if("clip"===r){var I=It(a);O=I*b,R=I*y}var D=u.x+C-O,P=u.y+x-R,_=D+u.width+2*O-C-A-w,T=P+u.height+2*R-x-E-S;n.left=Math.max(n.left,D),n.top=Math.max(n.top,P),n.right=Math.min(n.right,_),n.bottom=Math.min(n.bottom,T)}}),n}function Pt(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function _t(e,t){var n=t||[],r=(0,d.A)(n,2),a=r[0],o=r[1];return[Pt(e.width,a),Pt(e.height,o)]}function Tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function kt(e,t){var n,r=t[0],a=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===a?e.x:"r"===a?e.x+e.width:e.x+e.width/2,y:n}}function Mt(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(e,r){return r===t?n[e]||"c":e}).join("")}var Bt=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=o.forwardRef(function(t,n){var r=t.prefixCls,i=void 0===r?"rc-trigger-popup":r,s=t.children,l=t.action,p=void 0===l?"hover":l,f=t.showAction,h=t.hideAction,g=t.popupVisible,m=t.defaultPopupVisible,y=t.onPopupVisibleChange,w=t.afterPopupVisibleChange,S=t.mouseEnterDelay,x=t.mouseLeaveDelay,E=void 0===x?.1:x,C=t.focusDelay,A=t.blurDelay,O=t.mask,R=t.maskClosable,I=void 0===R||R,D=t.getPopupContainer,P=t.forceRender,_=t.autoDestroy,T=t.destroyPopupOnHide,k=t.popup,M=t.popupClassName,B=t.popupStyle,L=t.popupPlacement,N=t.builtinPlacements,V=void 0===N?{}:N,F=t.popupAlign,$=t.zIndex,z=t.stretch,H=t.getPopupClassNameFromAlign,U=t.fresh,G=t.alignPoint,W=t.onPopupClick,q=t.onPopupAlign,Q=t.arrow,Y=t.popupMotion,X=t.maskMotion,K=t.popupTransitionName,Z=t.popupAnimation,J=t.maskTransitionName,ee=t.maskAnimation,te=t.className,ne=t.getTriggerDOMNode,re=(0,c.A)(t,Bt),ae=_||T||!1,oe=o.useState(!1),ie=(0,d.A)(oe,2),le=ie[0],de=ie[1];(0,b.A)(function(){de(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))}())},[]);var pe=o.useRef({}),he=o.useContext(St),ge=o.useMemo(function(){return{registerSubPopup:function(e,t){pe.current[e]=t,null==he||he.registerSubPopup(e,t)}}},[he]),me=fe(),ve=o.useState(null),be=(0,d.A)(ve,2),ye=be[0],we=be[1],Se=o.useRef(null),xe=(0,ce.A)(function(e){Se.current=e,j(e)&&ye!==e&&we(e),null==he||he.registerSubPopup(me,e)}),Ee=o.useState(null),Ce=(0,d.A)(Ee,2),Ae=Ce[0],Oe=Ce[1],Re=o.useRef(null),Ie=(0,ce.A)(function(e){j(e)&&Ae!==e&&(Oe(e),Re.current=e)}),De=o.Children.only(s),Pe=(null==De?void 0:De.props)||{},_e={},Te=(0,ce.A)(function(e){var t,n,r=Ae;return(null==r?void 0:r.contains(e))||(null===(t=ue(r))||void 0===t?void 0:t.host)===e||e===r||(null==ye?void 0:ye.contains(e))||(null===(n=ue(ye))||void 0===n?void 0:n.host)===e||e===ye||Object.values(pe.current).some(function(t){return(null==t?void 0:t.contains(e))||e===t})}),ke=Ct(i,Y,Z,K),Me=Ct(i,X,ee,J),Be=o.useState(m||!1),Le=(0,d.A)(Be,2),Ne=Le[0],Ve=Le[1],Fe=null!=g?g:Ne,je=(0,ce.A)(function(e){void 0===g&&Ve(e)});(0,b.A)(function(){Ve(g||!1)},[g]);var $e=o.useRef(Fe);$e.current=Fe;var ze=o.useRef([]);ze.current=[];var He=(0,ce.A)(function(e){var t;je(e),(null!==(t=ze.current[ze.current.length-1])&&void 0!==t?t:Fe)!==e&&(ze.current.push(e),null==y||y(e))}),Ue=o.useRef(),Ge=function(){clearTimeout(Ue.current)},We=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Ge(),0===t?He(e):Ue.current=setTimeout(function(){He(e)},1e3*t)};o.useEffect(function(){return Ge},[]);var qe=o.useState(!1),Qe=(0,d.A)(qe,2),Ye=Qe[0],Xe=Qe[1];(0,b.A)(function(e){e&&!Fe||Xe(!0)},[Fe]);var Ke=o.useState(null),Ze=(0,d.A)(Ke,2),Je=Ze[0],et=Ze[1],tt=o.useState(null),nt=(0,d.A)(tt,2),rt=nt[0],at=nt[1],ot=function(e){at([e.clientX,e.clientY])},it=function(e,t,n,r,a,i,s){var l=o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[r]||{}}),c=(0,d.A)(l,2),p=c[0],f=c[1],h=o.useRef(0),g=o.useMemo(function(){return t?Ot(t):[]},[t]),m=o.useRef({});e||(m.current={});var v=(0,ce.A)(function(){if(t&&n&&e){var o,l,c,p,h,v=t,b=v.ownerDocument,y=At(v),w=y.getComputedStyle(v).position,S=v.style.left,x=v.style.top,E=v.style.right,C=v.style.bottom,A=v.style.overflow,O=(0,u.A)((0,u.A)({},a[r]),i),R=b.createElement("div");if(null===(o=v.parentElement)||void 0===o||o.appendChild(R),R.style.left="".concat(v.offsetLeft,"px"),R.style.top="".concat(v.offsetTop,"px"),R.style.position=w,R.style.height="".concat(v.offsetHeight,"px"),R.style.width="".concat(v.offsetWidth,"px"),v.style.left="0",v.style.top="0",v.style.right="auto",v.style.bottom="auto",v.style.overflow="hidden",Array.isArray(n))h={x:n[0],y:n[1],width:0,height:0};else{var I,D,P=n.getBoundingClientRect();P.x=null!==(I=P.x)&&void 0!==I?I:P.left,P.y=null!==(D=P.y)&&void 0!==D?D:P.top,h={x:P.x,y:P.y,width:P.width,height:P.height}}var _=v.getBoundingClientRect(),T=y.getComputedStyle(v),k=T.height,M=T.width;_.x=null!==(l=_.x)&&void 0!==l?l:_.left,_.y=null!==(c=_.y)&&void 0!==c?c:_.top;var B=b.documentElement,L=B.clientWidth,N=B.clientHeight,V=B.scrollWidth,F=B.scrollHeight,$=B.scrollTop,z=B.scrollLeft,H=_.height,U=_.width,G=h.height,W=h.width,q={left:0,top:0,right:L,bottom:N},Q={left:-z,top:-$,right:V-z,bottom:F-$},Y=O.htmlRegion,X="visible",K="visibleFirst";"scroll"!==Y&&Y!==K&&(Y=X);var Z=Y===K,J=Dt(Q,g),ee=Dt(q,g),te=Y===X?ee:J,ne=Z?ee:te;v.style.left="auto",v.style.top="auto",v.style.right="0",v.style.bottom="0";var re=v.getBoundingClientRect();v.style.left=S,v.style.top=x,v.style.right=E,v.style.bottom=C,v.style.overflow=A,null===(p=v.parentElement)||void 0===p||p.removeChild(R);var ae=Rt(Math.round(U/parseFloat(M)*1e3)/1e3),oe=Rt(Math.round(H/parseFloat(k)*1e3)/1e3);if(0===ae||0===oe||j(n)&&!function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var a=e.getBoundingClientRect(),o=a.width,i=a.height;if(o||i)return!0}}return!1}(n))return;var ie=O.offset,se=O.targetOffset,le=_t(_,ie),ue=(0,d.A)(le,2),ce=ue[0],de=ue[1],pe=_t(h,se),fe=(0,d.A)(pe,2),he=fe[0],ge=fe[1];h.x-=he,h.y-=ge;var me=O.points||[],ve=(0,d.A)(me,2),be=ve[0],ye=Tt(ve[1]),we=Tt(be),Se=kt(h,ye),xe=kt(_,we),Ee=(0,u.A)({},O),Ce=Se.x-xe.x+ce,Ae=Se.y-xe.y+de;function bt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:te,r=_.x+e,a=_.y+t,o=r+U,i=a+H,s=Math.max(r,n.left),l=Math.max(a,n.top),u=Math.min(o,n.right),c=Math.min(i,n.bottom);return Math.max(0,(u-s)*(c-l))}var Oe,Re,Ie,De,Pe=bt(Ce,Ae),_e=bt(Ce,Ae,ee),Te=kt(h,["t","l"]),ke=kt(_,["t","l"]),Me=kt(h,["b","r"]),Be=kt(_,["b","r"]),Le=O.overflow||{},Ne=Le.adjustX,Ve=Le.adjustY,Fe=Le.shiftX,je=Le.shiftY,$e=function(e){return"boolean"==typeof e?e:e>=0};function yt(){Oe=_.y+Ae,Re=Oe+H,Ie=_.x+Ce,De=Ie+U}yt();var ze=$e(Ve),He=we[0]===ye[0];if(ze&&"t"===we[0]&&(Re>ne.bottom||m.current.bt)){var Ue=Ae;He?Ue-=H-G:Ue=Te.y-Be.y-de;var Ge=bt(Ce,Ue),We=bt(Ce,Ue,ee);Ge>Pe||Ge===Pe&&(!Z||We>=_e)?(m.current.bt=!0,Ae=Ue,de=-de,Ee.points=[Mt(we,0),Mt(ye,0)]):m.current.bt=!1}if(ze&&"b"===we[0]&&(Oe<ne.top||m.current.tb)){var qe=Ae;He?qe+=H-G:qe=Me.y-ke.y-de;var Qe=bt(Ce,qe),Ye=bt(Ce,qe,ee);Qe>Pe||Qe===Pe&&(!Z||Ye>=_e)?(m.current.tb=!0,Ae=qe,de=-de,Ee.points=[Mt(we,0),Mt(ye,0)]):m.current.tb=!1}var Xe=$e(Ne),Ke=we[1]===ye[1];if(Xe&&"l"===we[1]&&(De>ne.right||m.current.rl)){var Ze=Ce;Ke?Ze-=U-W:Ze=Te.x-Be.x-ce;var Je=bt(Ze,Ae),et=bt(Ze,Ae,ee);Je>Pe||Je===Pe&&(!Z||et>=_e)?(m.current.rl=!0,Ce=Ze,ce=-ce,Ee.points=[Mt(we,1),Mt(ye,1)]):m.current.rl=!1}if(Xe&&"r"===we[1]&&(Ie<ne.left||m.current.lr)){var tt=Ce;Ke?tt+=U-W:tt=Me.x-ke.x-ce;var nt=bt(tt,Ae),rt=bt(tt,Ae,ee);nt>Pe||nt===Pe&&(!Z||rt>=_e)?(m.current.lr=!0,Ce=tt,ce=-ce,Ee.points=[Mt(we,1),Mt(ye,1)]):m.current.lr=!1}yt();var at=!0===Fe?0:Fe;"number"==typeof at&&(Ie<ee.left&&(Ce-=Ie-ee.left-ce,h.x+W<ee.left+at&&(Ce+=h.x-ee.left+W-at)),De>ee.right&&(Ce-=De-ee.right-ce,h.x>ee.right-at&&(Ce+=h.x-ee.right+at)));var ot=!0===je?0:je;"number"==typeof ot&&(Oe<ee.top&&(Ae-=Oe-ee.top-de,h.y+G<ee.top+ot&&(Ae+=h.y-ee.top+G-ot)),Re>ee.bottom&&(Ae-=Re-ee.bottom-de,h.y>ee.bottom-ot&&(Ae+=h.y-ee.bottom+ot)));var it=_.x+Ce,st=it+U,lt=_.y+Ae,ut=lt+H,ct=h.x,dt=ct+W,pt=h.y,ft=pt+G,ht=(Math.max(it,ct)+Math.min(st,dt))/2-it,gt=(Math.max(lt,pt)+Math.min(ut,ft))/2-lt;null==s||s(t,Ee);var mt=re.right-_.x-(Ce+_.width),vt=re.bottom-_.y-(Ae+_.height);1===ae&&(Ce=Math.round(Ce),mt=Math.round(mt)),1===oe&&(Ae=Math.round(Ae),vt=Math.round(vt)),f({ready:!0,offsetX:Ce/ae,offsetY:Ae/oe,offsetR:mt/ae,offsetB:vt/oe,arrowX:ht/ae,arrowY:gt/oe,scaleX:ae,scaleY:oe,align:Ee})}}),y=function(){f(function(e){return(0,u.A)((0,u.A)({},e),{},{ready:!1})})};return(0,b.A)(y,[r]),(0,b.A)(function(){e||y()},[e]),[p.ready,p.offsetX,p.offsetY,p.offsetR,p.offsetB,p.arrowX,p.arrowY,p.scaleX,p.scaleY,p.align,function(){h.current+=1;var e=h.current;Promise.resolve().then(function(){h.current===e&&v()})}]}(Fe,ye,G&&null!==rt?rt:Ae,L,V,F,q),st=(0,d.A)(it,11),lt=st[0],ut=st[1],ct=st[2],dt=st[3],pt=st[4],ft=st[5],ht=st[6],gt=st[7],mt=st[8],vt=st[9],bt=st[10],It=function(e,t,n,r){return o.useMemo(function(){var a=xt(null!=n?n:t),o=xt(null!=r?r:t),i=new Set(a),s=new Set(o);return e&&(i.has("hover")&&(i.delete("hover"),i.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[i,s]},[e,t,n,r])}(le,p,f,h),Pt=(0,d.A)(It,2),Lt=Pt[0],Nt=Pt[1],Vt=Lt.has("click"),Ft=Nt.has("click")||Nt.has("contextMenu"),jt=(0,ce.A)(function(){Ye||bt()});!function(e,t,n,r){(0,b.A)(function(){if(e&&t&&n){var a=n,o=Ot(t),i=Ot(a),s=At(a),l=new Set([s].concat((0,v.A)(o),(0,v.A)(i)));function u(){r(),$e.current&&G&&Ft&&We(!1)}return l.forEach(function(e){e.addEventListener("scroll",u,{passive:!0})}),s.addEventListener("resize",u,{passive:!0}),r(),function(){l.forEach(function(e){e.removeEventListener("scroll",u),s.removeEventListener("resize",u)})}}},[e,t,n])}(Fe,Ae,ye,jt),(0,b.A)(function(){jt()},[rt,L]),(0,b.A)(function(){!Fe||null!=V&&V[L]||jt()},[JSON.stringify(F)]);var $t=o.useMemo(function(){var e=function(e,t,n,r){for(var a=n.points,o=Object.keys(e),i=0;i<o.length;i+=1){var s,l=o[i];if(Et(null===(s=e[l])||void 0===s?void 0:s.points,a,r))return"".concat(t,"-placement-").concat(l)}return""}(V,i,vt,G);return a()(e,null==H?void 0:H(vt))},[vt,H,V,i,G]);o.useImperativeHandle(n,function(){return{nativeElement:Re.current,popupElement:Se.current,forceAlign:jt}});var zt=o.useState(0),Ht=(0,d.A)(zt,2),Ut=Ht[0],Gt=Ht[1],Wt=o.useState(0),qt=(0,d.A)(Wt,2),Qt=qt[0],Yt=qt[1],Xt=function(){if(z&&Ae){var e=Ae.getBoundingClientRect();Gt(e.width),Yt(e.height)}};function Kt(e,t,n,r){_e[e]=function(a){var o;null==r||r(a),We(t,n);for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];null===(o=Pe[e])||void 0===o||o.call.apply(o,[Pe,a].concat(s))}}(0,b.A)(function(){Je&&(bt(),Je(),et(null))},[Je]),(Vt||Ft)&&(_e.onClick=function(e){var t;$e.current&&Ft?We(!1):!$e.current&&Vt&&(ot(e),We(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===(t=Pe.onClick)||void 0===t||t.call.apply(t,[Pe,e].concat(r))});var Zt,Jt,en=function(e,t,n,r,a,i,s,l){var u=o.useRef(e);u.current=e;var c=o.useRef(!1);return o.useEffect(function(){if(t&&r&&(!a||i)){var e=function(){c.current=!1},o=function(e){var t;!u.current||s((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||c.current||l(!1)},d=At(r);d.addEventListener("pointerdown",e,!0),d.addEventListener("mousedown",o,!0),d.addEventListener("contextmenu",o,!0);var p=ue(n);return p&&(p.addEventListener("mousedown",o,!0),p.addEventListener("contextmenu",o,!0)),function(){d.removeEventListener("pointerdown",e,!0),d.removeEventListener("mousedown",o,!0),d.removeEventListener("contextmenu",o,!0),p&&(p.removeEventListener("mousedown",o,!0),p.removeEventListener("contextmenu",o,!0))}}},[t,n,r,a,i]),function(){c.current=!0}}(Fe,Ft,Ae,ye,O,I,Te,We),tn=Lt.has("hover"),nn=Nt.has("hover");tn&&(Kt("onMouseEnter",!0,S,function(e){ot(e)}),Kt("onPointerEnter",!0,S,function(e){ot(e)}),Zt=function(e){(Fe||Ye)&&null!=ye&&ye.contains(e.target)&&We(!0,S)},G&&(_e.onMouseMove=function(e){var t;null===(t=Pe.onMouseMove)||void 0===t||t.call(Pe,e)})),nn&&(Kt("onMouseLeave",!1,E),Kt("onPointerLeave",!1,E),Jt=function(){We(!1,E)}),Lt.has("focus")&&Kt("onFocus",!0,C),Nt.has("focus")&&Kt("onBlur",!1,A),Lt.has("contextMenu")&&(_e.onContextMenu=function(e){var t;$e.current&&Nt.has("contextMenu")?We(!1):(ot(e),We(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===(t=Pe.onContextMenu)||void 0===t||t.call.apply(t,[Pe,e].concat(r))}),te&&(_e.className=a()(Pe.className,te));var rn=o.useRef(!1);rn.current||(rn.current=P||Fe||Ye);var an=(0,u.A)((0,u.A)({},Pe),_e),on={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach(function(e){re[e]&&(on[e]=function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];null===(t=an[e])||void 0===t||t.call.apply(t,[an].concat(r)),re[e].apply(re,r)})});var sn=o.cloneElement(De,(0,u.A)((0,u.A)({},an),on)),ln={x:ft,y:ht},un=Q?(0,u.A)({},!0!==Q?Q:{}):null;return o.createElement(o.Fragment,null,o.createElement(se,{disabled:!Fe,ref:Ie,onResize:function(){Xt(),jt()}},o.createElement(wt,{getTriggerDOMNode:ne},sn)),rn.current&&o.createElement(St.Provider,{value:ge},o.createElement(yt,{portal:e,ref:xe,prefixCls:i,popup:k,className:a()(M,$t),style:B,target:Ae,onMouseEnter:Zt,onMouseLeave:Jt,onPointerEnter:Zt,zIndex:$,open:Fe,keepDom:Ye,fresh:U,onClick:W,onPointerDownCapture:en,mask:O,motion:ke,maskMotion:Me,onVisibleChanged:function(e){Xe(!1),bt(),null==w||w(e)},onPrepare:function(){return new Promise(function(e){Xt(),et(function(){return e})})},forceRender:P,autoDestroy:ae,getPopupContainer:D,align:vt,arrow:un,arrowPos:ln,ready:lt,offsetX:ut,offsetY:ct,offsetR:dt,offsetB:pt,onAlign:jt,stretch:z,targetWidth:Ut/gt,targetHeight:Qt/mt})))});return t}(L);var Nt={shiftX:64,adjustY:1},Vt={adjustX:1,shiftY:!0},Ft=[0,0],jt={left:{points:["cr","cl"],overflow:Vt,offset:[-4,0],targetOffset:Ft},right:{points:["cl","cr"],overflow:Vt,offset:[4,0],targetOffset:Ft},top:{points:["bc","tc"],overflow:Nt,offset:[0,-4],targetOffset:Ft},bottom:{points:["tc","bc"],overflow:Nt,offset:[0,4],targetOffset:Ft},topLeft:{points:["bl","tl"],overflow:Nt,offset:[0,-4],targetOffset:Ft},leftTop:{points:["tr","tl"],overflow:Vt,offset:[-4,0],targetOffset:Ft},topRight:{points:["br","tr"],overflow:Nt,offset:[0,-4],targetOffset:Ft},rightTop:{points:["tl","tr"],overflow:Vt,offset:[4,0],targetOffset:Ft},bottomRight:{points:["tr","br"],overflow:Nt,offset:[0,4],targetOffset:Ft},rightBottom:{points:["bl","br"],overflow:Vt,offset:[4,0],targetOffset:Ft},bottomLeft:{points:["tl","bl"],overflow:Nt,offset:[0,4],targetOffset:Ft},leftBottom:{points:["br","bl"],overflow:Vt,offset:[-4,0],targetOffset:Ft}},$t=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],zt=function(e,t){var n=e.overlayClassName,r=e.trigger,i=void 0===r?["hover"]:r,d=e.mouseEnterDelay,p=void 0===d?0:d,f=e.mouseLeaveDelay,h=void 0===f?.1:f,g=e.overlayStyle,m=e.prefixCls,v=void 0===m?"rc-tooltip":m,b=e.children,y=e.onVisibleChange,w=e.afterVisibleChange,S=e.transitionName,x=e.animation,E=e.motion,C=e.placement,A=void 0===C?"right":C,O=e.align,R=void 0===O?{}:O,I=e.destroyTooltipOnHide,D=void 0!==I&&I,P=e.defaultVisible,_=e.getTooltipContainer,T=e.overlayInnerStyle,k=(e.arrowContent,e.overlay),M=e.id,B=e.showArrow,L=void 0===B||B,N=e.classNames,V=e.styles,F=(0,c.A)(e,$t),j=fe(M),$=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,function(){return $.current});var z,H,U,G=(0,u.A)({},F);return"visible"in e&&(G.popupVisible=e.visible),o.createElement(Lt,(0,l.A)({popupClassName:a()(n,null==N?void 0:N.root),prefixCls:v,popup:function(){return o.createElement(s,{key:"content",prefixCls:v,id:j,bodyClassName:null==N?void 0:N.body,overlayInnerStyle:(0,u.A)((0,u.A)({},T),null==V?void 0:V.body)},k)},action:i,builtinPlacements:jt,popupPlacement:A,ref:$,popupAlign:R,getPopupContainer:_,onPopupVisibleChange:y,afterPopupVisibleChange:w,popupTransitionName:S,popupAnimation:x,popupMotion:E,defaultPopupVisible:P,autoDestroy:D,mouseLeaveDelay:h,popupStyle:(0,u.A)((0,u.A)({},g),null==V?void 0:V.root),mouseEnterDelay:p,arrow:L},G),(H=(null==(z=o.Children.only(b))?void 0:z.props)||{},U=(0,u.A)((0,u.A)({},H),{},{"aria-describedby":k?j:null}),o.cloneElement(b,U)))};const Ht=(0,o.forwardRef)(zt)},1158:e=>{"use strict";e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},1269:e=>{"use strict";e.exports=s},1465:(e,t,n)=>{"use strict";const r=n(1722),a=n(5380);e.exports=(e,t,n)=>{const o=[];let i=null,s=null;const l=e.sort((e,t)=>a(e,t,n));for(const e of l)r(e,t,n)?(s=e,i||(i=e)):(s&&o.push([i,s]),s=null,i=null);i&&o.push([i,null]);const u=[];for(const[e,t]of o)e===t?u.push(e):t||e!==l[0]?t?e===l[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const c=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return c.length<d.length?c:t}},1576:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{A:()=>r})},1617:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t)=>new r(e,t).patch},1705:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2162);function a(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1722:(e,t,n)=>{"use strict";const r=n(8395);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},1773:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7850),a=n(5959);function o(e){var t=a.useRef(!1),n=a.useState(e),o=(0,r.A)(n,2),i=o[0],s=o[1];return a.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]),[i,function(e,n){n&&t.current||s(e)}]}},1794:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(5959)),a=n(8230),o=n(9954),i=n(6333),s=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var h=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRefs={},t.lastHandleRect=null,t.slack=null,t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var l=i.prototype;return l.componentWillUnmount=function(){this.resetData()},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(e,t){var n=this.props,r=n.minConstraints,a=n.maxConstraints,o=n.lockAspectRatio;if(!r&&!a&&!o)return[e,t];if(o){var i=this.props.width/this.props.height,s=e-this.props.width,l=t-this.props.height;Math.abs(s)>Math.abs(l*i)?t=e/i:e=t*i}var u=e,c=t,d=this.slack||[0,0],p=d[0],f=d[1];return e+=p,t+=f,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),a&&(e=Math.min(a[0],e),t=Math.min(a[1],t)),this.slack=[p+(u-e),f+(c-t)],[e,t]},l.resizeHandler=function(e,t){var n=this;return function(r,a){var o=a.node,i=a.deltaX,s=a.deltaY;"onResizeStart"===e&&n.resetData();var l=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,u=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(l||u){var c=t[0],d=t[t.length-1],p=o.getBoundingClientRect();null!=n.lastHandleRect&&("w"===d&&(i+=p.left-n.lastHandleRect.left),"n"===c&&(s+=p.top-n.lastHandleRect.top)),n.lastHandleRect=p,"w"===d&&(i=-i),"n"===c&&(s=-s);var f=n.props.width+(l?i/n.props.transformScale:0),h=n.props.height+(u?s/n.props.transformScale:0),g=n.runConstraints(f,h);f=g[0],h=g[1];var m=f!==n.props.width||h!==n.props.height,v="function"==typeof n.props[e]?n.props[e]:null;v&&!("onResize"===e&&!m)&&(null==r.persist||r.persist(),v(r,{node:o,size:{width:f,height:h},handle:t})),"onResizeStop"===e&&n.resetData()}}},l.renderResizeHandle=function(e,t){var n=this.props.handle;if(!n)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e,ref:t});if("function"==typeof n)return n(e,t);var a=d({ref:t},"string"==typeof n.type?{}:{handleAxis:e});return r.cloneElement(n,a)},l.render=function(){var e=this,t=this.props,n=t.children,i=t.className,l=t.draggableOpts,c=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),p=(t.transformScale,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,s));return(0,o.cloneElement)(n,d(d({},p),{},{className:(i?i+" ":"")+"react-resizable",children:[].concat(n.props.children,c.map(function(t){var n,o=null!=(n=e.handleRefs[t])?n:e.handleRefs[t]=r.createRef();return r.createElement(a.DraggableCore,u({},l,{nodeRef:o,key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t,o))}))}))},i}(r.Component);t.default=h,h.propTypes=i.resizableProps,h.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},2007:e=>{"use strict";e.exports=n},2077:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)>=0},2162:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(694);function a(e){var t=function(e){if("object"!=(0,r.A)(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=(0,r.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,r.A)(t)?t:t+""}},2548:(e,t,n)=>{e.exports=n(9482).default,e.exports.utils=n(414),e.exports.calculateUtils=n(906),e.exports.Responsive=n(4636).default,e.exports.Responsive.utils=n(544),e.exports.WidthProvider=n(6805).default},2688:(e,t,n)=>{e.exports=n(362)()},2801:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t,n)=>{const a=new r(e,n),o=new r(t,n);return a.compare(o)||a.compareBuild(o)}},2837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=u,t.addEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&u(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=s(e,t,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:n}},t.createSVGTransform=function(e,t){return s(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,e=>t===e.identifier)||e.changedTouches&&(0,r.findInArray)(e.changedTouches,e=>t===e.identifier)},t.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},t.getTranslation=s,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=i,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(i(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=c,t.removeEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.scheduleRemoveUserSelectStyles=function(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{l(e)}):l(e)};var r=n(6732),a=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?n(a,t,r):a[t]=e[t]);return a}(e)}(n(7350));let o="";function i(e,t){return o||(o=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,r.isFunction)(e[t])})),!!(0,r.isFunction)(e[o])&&e[o](t)}function s(e,t,n){let{x:r,y:a}=e,o=`translate(${r}${n},${a}${n})`;return t&&(o=`translate(${"string"==typeof t.x?t.x:t.x+n}, ${"string"==typeof t.y?t.y:t.y+n})`+o),o}function l(e){if(e)try{if(e.body&&c(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}}function u(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}},2862:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(t,e,n)},2966:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t)=>new r(e,t).major},3241:e=>{"use strict";e.exports=o},3489:(e,t,n)=>{"use strict";const r=n(7944),a=n(8395),o=n(144);e.exports=(e,t)=>{e=new a(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const a=e.set[t];let i=null;a.forEach(e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!o(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}),!i||n&&!o(n,i)||(n=i)}return n&&e.test(n)?n:null}},3806:e=>{"use strict";e.exports=i},3811:(e,t,n)=>{"use strict";const r=n(6909),a=n(7659),o=n(144),i=n(2077),s=n(599),l=n(7092);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,u);case"!=":return a(e,n,u);case">":return o(e,n,u);case">=":return i(e,n,u);case"<":return s(e,n,u);case"<=":return l(e,n,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},4031:e=>{"use strict";const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),a=t.test(n);return r&&a&&(e=+e,n=+n),e===n?0:r&&!a?-1:a&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},4266:(e,t,n)=>{"use strict";const r=n(5463);e.exports=(e,t,n)=>r(e,t,"<",n)},4271:(e,t,n)=>{"use strict";e.exports=n(8299)},4300:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7451),a=n(6438);function o(e){return function(e){if(Array.isArray(e))return(0,r.A)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},4354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(5292),a=n.n(r),o=n(9893),i=n.n(o),s=n(9383),l=n.n(s),u=n(6884),c=n.n(u),d=n(9088),p=n.n(d),f=n(7997),h=n.n(f),g=n(6005),m={};m.styleTagTransform=h(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),a()(g.A,m);const v=g.A&&g.A.locals?g.A.locals:void 0},4358:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>u});var r={},a=[];function o(e,t){}function i(e,t){}function s(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}function l(e,t){s(o,e,t)}l.preMessage=function(e){a.push(e)},l.resetWarned=function(){r={}},l.noteOnce=function(e,t){s(i,e,t)};const u=l},4452:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},4636:(e,t,n)=>{"use strict";t.default=void 0;var r=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?n(a,t,r):a[t]=e[t]);return a}(e)}(n(5959)),a=u(n(2688)),o=n(568),i=n(414),s=n(544),l=u(n(9482));function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(null,arguments)}function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=e=>Object.prototype.toString.call(e);function f(e,t){return null==e?null:Array.isArray(e)?e:e[t]}class h extends r.Component{constructor(){super(...arguments),d(this,"state",this.generateInitialState()),d(this,"onLayoutChange",e=>{this.props.onLayoutChange(e,{...this.props.layouts,[this.state.breakpoint]:e})})}generateInitialState(){const{width:e,breakpoints:t,layouts:n,cols:r}=this.props,a=(0,s.getBreakpointFromWidth)(t,e),o=(0,s.getColsFromBreakpoint)(a,r),i=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,s.findOrGenerateResponsiveLayout)(n,t,a,a,o,i),breakpoint:a,cols:o}}static getDerivedStateFromProps(e,t){if(!(0,o.deepEqual)(e.layouts,t.layouts)){const{breakpoint:n,cols:r}=t;return{layout:(0,s.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}componentDidUpdate(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,o.deepEqual)(this.props.breakpoints,e.breakpoints)&&(0,o.deepEqual)(this.props.cols,e.cols)||this.onWidthChange(e)}onWidthChange(e){const{breakpoints:t,cols:n,layouts:r,compactType:a}=this.props,o=this.props.breakpoint||(0,s.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),l=this.state.breakpoint,u=(0,s.getColsFromBreakpoint)(o,n),c={...r};if(l!==o||e.breakpoints!==t||e.cols!==n){l in c||(c[l]=(0,i.cloneLayout)(this.state.layout));let e=(0,s.findOrGenerateResponsiveLayout)(c,t,o,l,u,a);e=(0,i.synchronizeLayoutWithChildren)(e,this.props.children,u,a,this.props.allowOverlap),c[o]=e,this.props.onBreakpointChange(o,u),this.props.onLayoutChange(e,c),this.setState({breakpoint:o,layout:e,cols:u})}const d=f(this.props.margin,o),p=f(this.props.containerPadding,o);this.props.onWidthChange(this.props.width,d,u,p)}render(){const{breakpoint:e,breakpoints:t,cols:n,layouts:a,margin:o,containerPadding:i,onBreakpointChange:s,onLayoutChange:u,onWidthChange:d,...p}=this.props;return r.createElement(l.default,c({},p,{margin:f(o,this.state.breakpoint),containerPadding:f(i,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}t.default=h,d(h,"propTypes",{breakpoint:a.default.string,breakpoints:a.default.object,allowOverlap:a.default.bool,cols:a.default.object,margin:a.default.oneOfType([a.default.array,a.default.object]),containerPadding:a.default.oneOfType([a.default.array,a.default.object]),layouts(e,t){if("[object Object]"!==p(e[t]))throw new Error("Layout property must be an object. Received: "+p(e[t]));Object.keys(e[t]).forEach(t=>{if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,i.validateLayout)(e.layouts[t],"layouts."+t)})},width:a.default.number.isRequired,onBreakpointChange:a.default.func,onLayoutChange:a.default.func,onWidthChange:a.default.func}),d(h,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:i.noop,onLayoutChange:i.noop,onWidthChange:i.noop})},4942:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},5007:(e,t,n)=>{"use strict";n.d(t,{Te:()=>w});var r=n(5959),a=n(8398);function o(e,t,n){let r,a=n.initialDeps??[];function o(){var o,i,s,l;let u;n.key&&(null==(o=n.debug)?void 0:o.call(n))&&(u=Date.now());const c=e();if(c.length===a.length&&!c.some((e,t)=>a[t]!==e))return r;let d;if(a=c,n.key&&(null==(i=n.debug)?void 0:i.call(n))&&(d=Date.now()),r=t(...c),n.key&&(null==(s=n.debug)?void 0:s.call(n))){const e=Math.round(100*(Date.now()-u))/100,t=Math.round(100*(Date.now()-d))/100,r=t/16,a=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${a(t,5)} /${a(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return null==(l=null==n?void 0:n.onChange)||l.call(n,r),r}return o.updateDeps=e=>{a=e},o}function i(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?`: ${t}`:""));return e}const s=(e,t,n)=>{let r;return function(...a){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,a),n)}},l=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},u=e=>e,c=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let e=t;e<=n;e++)r.push(e);return r},d=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const a=e=>{const{width:n,height:r}=e;t({width:Math.round(n),height:Math.round(r)})};if(a(l(n)),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(t=>{const r=()=>{const e=t[0];if(null==e?void 0:e.borderBoxSize){const t=e.borderBoxSize[0];if(t)return void a({width:t.inlineSize,height:t.blockSize})}a(l(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},p={passive:!0},f="undefined"==typeof window||"onscrollend"in window,h=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let a=0;const o=e.options.useScrollendEvent&&f?()=>{}:s(r,()=>{t(a,!1)},e.options.isScrollingResetDelay),i=r=>()=>{const{horizontal:i,isRtl:s}=e.options;a=i?n.scrollLeft*(s?-1:1):n.scrollTop,o(),t(a,r)},l=i(!0),u=i(!1);u(),n.addEventListener("scroll",l,p);const c=e.options.useScrollendEvent&&f;return c&&n.addEventListener("scrollend",u,p),()=>{n.removeEventListener("scroll",l),c&&n.removeEventListener("scrollend",u)}},g=(e,t,n)=>{if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e)return Math.round(e[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},m=(e,{adjustments:t=0,behavior:n},r)=>{var a,o;const i=e+t;null==(o=null==(a=r.scrollElement)?void 0:a.scrollTo)||o.call(a,{[r.options.horizontal?"left":"top"]:i,behavior:n})};class v{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{const t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}):null);return{disconnect:()=>{var n;null==(n=t())||n.disconnect(),e=null},observe:e=>{var n;return null==(n=t())?void 0:n.observe(e,{box:"border-box"})},unobserve:e=>{var n;return null==(n=t())?void 0:n.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,n])=>{void 0===n&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:u,rangeExtractor:c,onChange:()=>{},measureElement:g,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,n;null==(n=(t=this.options).onChange)||n.call(t,this,e)},this.maybeNotify=o(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{const n=new Map,r=new Map;for(let a=t-1;a>=0;a--){const t=e[a];if(n.has(t.lane))continue;const o=r.get(t.lane);if(null==o||t.end>o.end?r.set(t.lane,t):t.end<o.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=o(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,n,r,a)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:a}),{key:!1}),this.getMeasurements=o(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:a},o)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));const i=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const s=this.measurementsCache.slice(0,i);for(let a=i;a<e;a++){const e=r(a),i=1===this.options.lanes?s[a-1]:this.getFurthestMeasurement(s,a),l=i?i.end+this.options.gap:t+n,u=o.get(e),c="number"==typeof u?u:this.options.estimateSize(a),d=l+c,p=i?i.lane:a%this.options.lanes;s[a]={index:a,start:l,size:c,end:d,key:e,lane:p}}return this.measurementsCache=s,s},{key:!1,debug:()=>this.options.debug}),this.calculateRange=o(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,n,r)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const a=e.length-1;if(e.length<=r)return{startIndex:0,endIndex:a};let o=b(0,a,t=>e[t].start,n),i=o;if(1===r)for(;i<a&&e[i].end<n+t;)i++;else if(r>1){const s=Array(r).fill(0);for(;i<a&&s.some(e=>e<n+t);){const t=e[i];s[t.lane]=t.end,i++}const l=Array(r).fill(n+t);for(;o>=0&&l.some(e=>e>=n);){const t=e[o];l[t.lane]=t.start,o--}o=Math.max(0,o-o%r),i=Math.min(a,i+(r-1-i%r))}return{startIndex:o,endIndex:i}}({measurements:e,outerSize:t,scrollOffset:n,lanes:r}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=o(()=>{let e=null,t=null;const n=this.calculateRange();return n&&(e=n.startIndex,t=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,n,r,a)=>null===r||null===a?[]:e({startIndex:r,endIndex:a,overscan:t,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const n=this.indexFromElement(e),r=this.measurementsCache[n];if(!r)return;const a=r.key,o=this.elementsCache.get(a);o!==e&&(o&&this.observer.unobserve(o),this.observer.observe(e),this.elementsCache.set(a,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{const n=this.measurementsCache[e];if(!n)return;const r=t-(this.itemSizeCache.get(n.key)??n.size);0!==r&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(n,r,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))})},this.getVirtualItems=o(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{const n=[];for(let r=0,a=e.length;r<a;r++){const a=t[e[r]];n.push(a)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(0!==t.length)return i(t[b(0,t.length-1,e=>i(t[e]).start,e)])},this.getOffsetForAlignment=(e,t,n=0)=>{const r=this.getSize(),a=this.getScrollOffset();"auto"===t&&(t=e>=a+r?"end":"start"),"center"===t?e+=(n-r)/2:"end"===t&&(e-=r);const o=this.getTotalSize()-r;return Math.max(Math.min(o,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=this.measurementsCache[e];if(!n)return;const r=this.getSize(),a=this.getScrollOffset();if("auto"===t)if(n.end>=a+r-this.options.scrollPaddingEnd)t="end";else{if(!(n.start<=a+this.options.scrollPaddingStart))return[a,t];t="start"}const o="end"===t?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,t,n.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{null!==this.scrollToIndexTimeoutId&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:n}={})=>{this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:t="auto",behavior:n}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const r=this.getOffsetForIndex(e,t);if(!r)return;const[a,o]=r;this._scrollToOffset(a,{adjustments:void 0,behavior:n}),"smooth"!==n&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){const a=this.getOffsetForIndex(e,o);if(!a)return;const[i]=a;t=i,r=this.getScrollOffset(),Math.abs(t-r)<=1||this.scrollToIndex(e,{align:o,behavior:n})}else this.scrollToIndex(e,{align:o,behavior:n});var t,r}))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let n;if(0===t.length)n=this.options.paddingStart;else if(1===this.options.lanes)n=(null==(e=t[t.length-1])?void 0:e.end)??0;else{const e=Array(this.options.lanes).fill(null);let r=t.length-1;for(;r>=0&&e.some(e=>null===e);){const n=t[r];null===e[n.lane]&&(e[n.lane]=n.end),r--}n=Math.max(...e.filter(e=>null!==e))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const b=(e,t,n,r)=>{for(;e<=t;){const a=(e+t)/2|0,o=n(a);if(o<r)e=a+1;else{if(!(o>r))return a;t=a-1}}return e>0?e-1:0},y="undefined"!=typeof document?r.useLayoutEffect:r.useEffect;function w(e){return function(e){const t=r.useReducer(()=>({}),{})[1],n={...e,onChange:(n,r)=>{var o;r?(0,a.flushSync)(t):t(),null==(o=e.onChange)||o.call(e,n,r)}},[o]=r.useState(()=>new v(n));return o.setOptions(n),y(()=>o._didMount(),[]),y(()=>o._willUpdate()),o}({observeElementRect:d,observeElementOffset:h,scrollToFn:m,...e})}},5292:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var l=e[s],u=r.base?l[0]+r.base:l[0],c=o[u]||0,d="".concat(u," ").concat(c);o[u]=c+1;var p=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=a(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var l=r(e,a),u=0;u<o.length;u++){var c=n(o[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=l}}},5334:(e,t,n)=>{"use strict";const r=n(7944),a=n(5860),{safeRe:o,t:i}=n(6850);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?o[i.COERCERTLFULL]:o[i.COERCERTL];let a;for(;(a=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&a.index+a[0].length===n.index+n[0].length||(n=a),r.lastIndex=a.index+a[1].length+a[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?o[i.COERCEFULL]:o[i.COERCE]);if(null===n)return null;const s=n[2],l=n[3]||"0",u=n[4]||"0",c=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return a(`${s}.${l}.${u}${c}${d}`,t)}},5380:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},5463:(e,t,n)=>{"use strict";const r=n(7944),a=n(9524),{ANY:o}=a,i=n(8395),s=n(1722),l=n(144),u=n(599),c=n(7092),d=n(2077);e.exports=(e,t,n,p)=>{let f,h,g,m,v;switch(e=new r(e,p),t=new i(t,p),n){case">":f=l,h=c,g=u,m=">",v=">=";break;case"<":f=u,h=d,g=l,m="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,p))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let i=null,s=null;if(r.forEach(e=>{e.semver===o&&(e=new a(">=0.0.0")),i=i||e,s=s||e,f(e.semver,i.semver,p)?i=e:g(e.semver,s.semver,p)&&(s=e)}),i.operator===m||i.operator===v)return!1;if((!s.operator||s.operator===m)&&h(e,s.semver))return!1;if(s.operator===v&&g(e,s.semver))return!1}return!0}},5860:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},5955:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t,n,a,o)=>{"string"==typeof n&&(o=a,a=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,a,o).version}catch(e){return null}}},5959:e=>{"use strict";e.exports=r},5986:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t)=>new r(e,t).minor},6005:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4942),a=n.n(r),o=n(278),i=n.n(o)()(a());i.push([e.id,".rc-slider {\n  position: relative;\n  width: 100%;\n  height: 14px;\n  padding: 5px 0;\n  border-radius: 6px;\n  touch-action: none;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-rail {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background-color: #e9e9e9;\n  border-radius: 6px;\n}\n.rc-slider-track,\n.rc-slider-tracks {\n  position: absolute;\n  height: 4px;\n  background-color: #abe2fb;\n  border-radius: 6px;\n}\n.rc-slider-track-draggable {\n  z-index: 1;\n  box-sizing: content-box;\n  background-clip: content-box;\n  border-top: 5px solid rgba(0, 0, 0, 0);\n  border-bottom: 5px solid rgba(0, 0, 0, 0);\n  transform: translateY(-5px);\n}\n.rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  width: 14px;\n  height: 14px;\n  margin-top: -5px;\n  background-color: #fff;\n  border: solid 2px #96dbfa;\n  border-radius: 50%;\n  cursor: pointer;\n  cursor: -webkit-grab;\n  cursor: grab;\n  opacity: 0.8;\n  touch-action: pan-x;\n}\n.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging {\n  border-color: #57c5f7;\n  box-shadow: 0 0 0 5px #96dbfa;\n}\n.rc-slider-handle:focus {\n  outline: none;\n  box-shadow: none;\n}\n.rc-slider-handle:focus-visible {\n  border-color: #2db7f5;\n  box-shadow: 0 0 0 3px #96dbfa;\n}\n.rc-slider-handle-click-focused:focus {\n  border-color: #96dbfa;\n  box-shadow: unset;\n}\n.rc-slider-handle:hover {\n  border-color: #57c5f7;\n}\n.rc-slider-handle:active {\n  border-color: #57c5f7;\n  box-shadow: 0 0 5px #57c5f7;\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n.rc-slider-mark {\n  position: absolute;\n  top: 18px;\n  left: 0;\n  width: 100%;\n  font-size: 12px;\n}\n.rc-slider-mark-text {\n  position: absolute;\n  display: inline-block;\n  color: #999;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.rc-slider-mark-text-active {\n  color: #666;\n}\n.rc-slider-step {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background: transparent;\n}\n.rc-slider-dot {\n  position: absolute;\n  bottom: -2px;\n  width: 8px;\n  height: 8px;\n  vertical-align: middle;\n  background-color: #fff;\n  border: 2px solid #e9e9e9;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.rc-slider-dot-active {\n  border-color: #96dbfa;\n}\n.rc-slider-dot-reverse {\n  margin-right: -4px;\n}\n.rc-slider-disabled {\n  background-color: #e9e9e9;\n}\n.rc-slider-disabled .rc-slider-track {\n  background-color: #ccc;\n}\n.rc-slider-disabled .rc-slider-handle,\n.rc-slider-disabled .rc-slider-dot {\n  background-color: #fff;\n  border-color: #ccc;\n  box-shadow: none;\n  cursor: not-allowed;\n}\n.rc-slider-disabled .rc-slider-mark-text,\n.rc-slider-disabled .rc-slider-dot {\n  cursor: not-allowed !important;\n}\n.rc-slider-vertical {\n  width: 14px;\n  height: 100%;\n  padding: 0 5px;\n}\n.rc-slider-vertical .rc-slider-rail {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-track {\n  bottom: 0;\n  left: 5px;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-track-draggable {\n  border-top: 0;\n  border-bottom: 0;\n  border-right: 5px solid rgba(0, 0, 0, 0);\n  border-left: 5px solid rgba(0, 0, 0, 0);\n  transform: translateX(-5px);\n}\n.rc-slider-vertical .rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  margin-top: 0;\n  margin-left: -5px;\n  touch-action: pan-y;\n}\n.rc-slider-vertical .rc-slider-mark {\n  top: 0;\n  left: 18px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-step {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-dot {\n  margin-left: -2px;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-leave {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,\n.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {\n  animation-name: rcSliderTooltipZoomDownIn;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {\n  animation-name: rcSliderTooltipZoomDownOut;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  transform: scale(0, 0);\n  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n}\n@keyframes rcSliderTooltipZoomDownIn {\n  0% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n}\n@keyframes rcSliderTooltipZoomDownOut {\n  0% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n  100% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n}\n.rc-slider-tooltip {\n  position: absolute;\n  top: -9999px;\n  left: -9999px;\n  visibility: visible;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip-hidden {\n  display: none;\n}\n.rc-slider-tooltip-placement-top {\n  padding: 4px 0 8px 0;\n}\n.rc-slider-tooltip-inner {\n  min-width: 24px;\n  height: 24px;\n  padding: 6px 2px;\n  color: #fff;\n  font-size: 12px;\n  line-height: 1;\n  text-align: center;\n  text-decoration: none;\n  background-color: #6c6c6c;\n  border-radius: 6px;\n  box-shadow: 0 0 4px #d9d9d9;\n}\n.rc-slider-tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {\n  bottom: 4px;\n  left: 50%;\n  margin-left: -4px;\n  border-width: 4px 4px 0;\n  border-top-color: #6c6c6c;\n}\n","",{version:3,sources:["webpack://./../node_modules/@volkovlabs/components/node_modules/rc-slider/assets/index.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,WAAW;EACX,yBAAyB;EACzB,kBAAkB;AACpB;AACA;;EAEE,kBAAkB;EAClB,WAAW;EACX,yBAAyB;EACzB,kBAAkB;AACpB;AACA;EACE,UAAU;EACV,uBAAuB;EACvB,4BAA4B;EAC5B,sCAAsC;EACtC,yCAAyC;EACzC,2BAA2B;AAC7B;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,sBAAsB;EACtB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,oBAAoB;EACpB,YAAY;EACZ,YAAY;EACZ,mBAAmB;AACrB;AACA;EACE,qBAAqB;EACrB,6BAA6B;AAC/B;AACA;EACE,aAAa;EACb,gBAAgB;AAClB;AACA;EACE,qBAAqB;EACrB,6BAA6B;AAC/B;AACA;EACE,qBAAqB;EACrB,iBAAiB;AACnB;AACA;EACE,qBAAqB;AACvB;AACA;EACE,qBAAqB;EACrB,2BAA2B;EAC3B,wBAAwB;EACxB,gBAAgB;AAClB;AACA;EACE,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,WAAW;EACX,eAAe;AACjB;AACA;EACE,kBAAkB;EAClB,qBAAqB;EACrB,WAAW;EACX,kBAAkB;EAClB,sBAAsB;EACtB,eAAe;AACjB;AACA;EACE,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,WAAW;EACX,uBAAuB;AACzB;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,UAAU;EACV,WAAW;EACX,sBAAsB;EACtB,sBAAsB;EACtB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;AACjB;AACA;EACE,qBAAqB;AACvB;AACA;EACE,kBAAkB;AACpB;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,sBAAsB;AACxB;AACA;;EAEE,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,mBAAmB;AACrB;AACA;;EAEE,8BAA8B;AAChC;AACA;EACE,WAAW;EACX,YAAY;EACZ,cAAc;AAChB;AACA;EACE,UAAU;EACV,YAAY;AACd;AACA;EACE,SAAS;EACT,SAAS;EACT,UAAU;AACZ;AACA;EACE,aAAa;EACb,gBAAgB;EAChB,wCAAwC;EACxC,uCAAuC;EACvC,2BAA2B;AAC7B;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,aAAa;EACb,iBAAiB;EACjB,mBAAmB;AACrB;AACA;EACE,MAAM;EACN,UAAU;EACV,YAAY;AACd;AACA;EACE,UAAU;EACV,YAAY;AACd;AACA;EACE,iBAAiB;AACnB;AACA;;EAEE,yBAAyB;EACzB,wBAAwB;EACxB,yBAAyB;EACzB,4BAA4B;AAC9B;AACA;EACE,yBAAyB;EACzB,wBAAwB;EACxB,yBAAyB;EACzB,4BAA4B;AAC9B;AACA;;EAEE,yCAAyC;EACzC,6BAA6B;AAC/B;AACA;EACE,0CAA0C;EAC1C,6BAA6B;AAC/B;AACA;;EAEE,sBAAsB;EACtB,yDAAyD;AAC3D;AACA;EACE,iEAAiE;AACnE;AACA;EACE;IACE,sBAAsB;IACtB,0BAA0B;IAC1B,UAAU;EACZ;EACA;IACE,sBAAsB;IACtB,0BAA0B;EAC5B;AACF;AACA;EACE;IACE,sBAAsB;IACtB,0BAA0B;EAC5B;EACA;IACE,sBAAsB;IACtB,0BAA0B;IAC1B,UAAU;EACZ;AACF;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,aAAa;AACf;AACA;EACE,oBAAoB;AACtB;AACA;EACE,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,WAAW;EACX,eAAe;EACf,cAAc;EACd,kBAAkB;EAClB,qBAAqB;EACrB,yBAAyB;EACzB,kBAAkB;EAClB,2BAA2B;AAC7B;AACA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,yBAAyB;EACzB,mBAAmB;AACrB;AACA;EACE,WAAW;EACX,SAAS;EACT,iBAAiB;EACjB,uBAAuB;EACvB,yBAAyB;AAC3B",sourcesContent:[".rc-slider {\n  position: relative;\n  width: 100%;\n  height: 14px;\n  padding: 5px 0;\n  border-radius: 6px;\n  touch-action: none;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-rail {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background-color: #e9e9e9;\n  border-radius: 6px;\n}\n.rc-slider-track,\n.rc-slider-tracks {\n  position: absolute;\n  height: 4px;\n  background-color: #abe2fb;\n  border-radius: 6px;\n}\n.rc-slider-track-draggable {\n  z-index: 1;\n  box-sizing: content-box;\n  background-clip: content-box;\n  border-top: 5px solid rgba(0, 0, 0, 0);\n  border-bottom: 5px solid rgba(0, 0, 0, 0);\n  transform: translateY(-5px);\n}\n.rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  width: 14px;\n  height: 14px;\n  margin-top: -5px;\n  background-color: #fff;\n  border: solid 2px #96dbfa;\n  border-radius: 50%;\n  cursor: pointer;\n  cursor: -webkit-grab;\n  cursor: grab;\n  opacity: 0.8;\n  touch-action: pan-x;\n}\n.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging {\n  border-color: #57c5f7;\n  box-shadow: 0 0 0 5px #96dbfa;\n}\n.rc-slider-handle:focus {\n  outline: none;\n  box-shadow: none;\n}\n.rc-slider-handle:focus-visible {\n  border-color: #2db7f5;\n  box-shadow: 0 0 0 3px #96dbfa;\n}\n.rc-slider-handle-click-focused:focus {\n  border-color: #96dbfa;\n  box-shadow: unset;\n}\n.rc-slider-handle:hover {\n  border-color: #57c5f7;\n}\n.rc-slider-handle:active {\n  border-color: #57c5f7;\n  box-shadow: 0 0 5px #57c5f7;\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n.rc-slider-mark {\n  position: absolute;\n  top: 18px;\n  left: 0;\n  width: 100%;\n  font-size: 12px;\n}\n.rc-slider-mark-text {\n  position: absolute;\n  display: inline-block;\n  color: #999;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.rc-slider-mark-text-active {\n  color: #666;\n}\n.rc-slider-step {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background: transparent;\n}\n.rc-slider-dot {\n  position: absolute;\n  bottom: -2px;\n  width: 8px;\n  height: 8px;\n  vertical-align: middle;\n  background-color: #fff;\n  border: 2px solid #e9e9e9;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.rc-slider-dot-active {\n  border-color: #96dbfa;\n}\n.rc-slider-dot-reverse {\n  margin-right: -4px;\n}\n.rc-slider-disabled {\n  background-color: #e9e9e9;\n}\n.rc-slider-disabled .rc-slider-track {\n  background-color: #ccc;\n}\n.rc-slider-disabled .rc-slider-handle,\n.rc-slider-disabled .rc-slider-dot {\n  background-color: #fff;\n  border-color: #ccc;\n  box-shadow: none;\n  cursor: not-allowed;\n}\n.rc-slider-disabled .rc-slider-mark-text,\n.rc-slider-disabled .rc-slider-dot {\n  cursor: not-allowed !important;\n}\n.rc-slider-vertical {\n  width: 14px;\n  height: 100%;\n  padding: 0 5px;\n}\n.rc-slider-vertical .rc-slider-rail {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-track {\n  bottom: 0;\n  left: 5px;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-track-draggable {\n  border-top: 0;\n  border-bottom: 0;\n  border-right: 5px solid rgba(0, 0, 0, 0);\n  border-left: 5px solid rgba(0, 0, 0, 0);\n  transform: translateX(-5px);\n}\n.rc-slider-vertical .rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  margin-top: 0;\n  margin-left: -5px;\n  touch-action: pan-y;\n}\n.rc-slider-vertical .rc-slider-mark {\n  top: 0;\n  left: 18px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-step {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-dot {\n  margin-left: -2px;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-leave {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,\n.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {\n  animation-name: rcSliderTooltipZoomDownIn;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {\n  animation-name: rcSliderTooltipZoomDownOut;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  transform: scale(0, 0);\n  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n}\n@keyframes rcSliderTooltipZoomDownIn {\n  0% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n}\n@keyframes rcSliderTooltipZoomDownOut {\n  0% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n  100% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n}\n.rc-slider-tooltip {\n  position: absolute;\n  top: -9999px;\n  left: -9999px;\n  visibility: visible;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip-hidden {\n  display: none;\n}\n.rc-slider-tooltip-placement-top {\n  padding: 4px 0 8px 0;\n}\n.rc-slider-tooltip-inner {\n  min-width: 24px;\n  height: 24px;\n  padding: 6px 2px;\n  color: #fff;\n  font-size: 12px;\n  line-height: 1;\n  text-align: center;\n  text-decoration: none;\n  background-color: #6c6c6c;\n  border-radius: 6px;\n  box-shadow: 0 0 4px #d9d9d9;\n}\n.rc-slider-tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {\n  bottom: 4px;\n  left: 50%;\n  margin-left: -4px;\n  border-width: 4px 4px 0;\n  border-top-color: #6c6c6c;\n}\n"],sourceRoot:""}]);const s=i},6033:(e,t,n)=>{"use strict";const r=n(2801);e.exports=(e,t)=>e.sort((e,n)=>r(n,e,t))},6089:e=>{"use strict";e.exports=a},6333:(e,t,n)=>{"use strict";t.__esModule=!0,t.resizableProps=void 0;var r,a=(r=n(2688))&&r.__esModule?r:{default:r};n(8230);var o={axis:a.default.oneOf(["both","x","y","none"]),className:a.default.string,children:a.default.element.isRequired,draggableOpts:a.default.shape({allowAnyClick:a.default.bool,cancel:a.default.string,children:a.default.node,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:a.default.node,grid:a.default.arrayOf(a.default.number),handle:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0];return"both"===o.axis||"y"===o.axis?(r=a.default.number).isRequired.apply(r,t):a.default.number.apply(a.default,t)},handle:a.default.oneOfType([a.default.node,a.default.func]),handleSize:a.default.arrayOf(a.default.number),lockAspectRatio:a.default.bool,maxConstraints:a.default.arrayOf(a.default.number),minConstraints:a.default.arrayOf(a.default.number),onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,resizeHandles:a.default.arrayOf(a.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:a.default.number,width:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0];return"both"===o.axis||"x"===o.axis?(r=a.default.number).isRequired.apply(r,t):a.default.number.apply(a.default,t)}};t.resizableProps=o},6438:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(7451);function a(e,t){if(e){if("string"==typeof e)return(0,r.A)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.A)(e,t):void 0}}},6441:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6609:(e,t,n)=>{"use strict";t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(5959)),a=l(n(2688)),o=l(n(1794)),i=n(6333),s=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var g=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height},t.onResize=function(e,n){var r=n.size;t.props.onResize?(null==e.persist||e.persist(),t.setState(r,function(){return t.props.onResize&&t.props.onResize(e,n)})):t.setState(r)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n),a.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},a.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,a=(e.onResize,e.onResizeStart),i=e.onResizeStop,l=e.draggableOpts,u=e.minConstraints,d=e.maxConstraints,f=e.lockAspectRatio,h=e.axis,g=(e.width,e.height,e.resizeHandles),m=e.style,v=e.transformScale,b=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,s);return r.createElement(o.default,{axis:h,draggableOpts:l,handle:t,handleSize:n,height:this.state.height,lockAspectRatio:f,maxConstraints:d,minConstraints:u,onResizeStart:a,onResize:this.onResize,onResizeStop:i,resizeHandles:g,transformScale:v,width:this.state.width},r.createElement("div",c({},b,{style:p(p({},m),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},a}(r.Component);t.default=g,g.propTypes=p(p({},i.resizableProps),{},{children:a.default.element})},6732:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},6805:(e,t,n)=>{"use strict";t.default=function(e){var t;return t=class extends r.Component{constructor(){super(...arguments),u(this,"state",{width:1280}),u(this,"elementRef",r.createRef()),u(this,"mounted",!1),u(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new o.default(e=>{if(this.elementRef.current instanceof HTMLElement){const t=e[0].contentRect.width;this.setState({width:t})}});const e=this.elementRef.current;e instanceof HTMLElement&&this.resizeObserver.observe(e)}componentWillUnmount(){this.mounted=!1;const e=this.elementRef.current;e instanceof HTMLElement&&this.resizeObserver.unobserve(e),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:t,...n}=this.props;return t&&!this.mounted?r.createElement("div",{className:(0,i.default)(this.props.className,c),style:this.props.style,ref:this.elementRef}):r.createElement(e,l({innerRef:this.elementRef},n,this.state))}},u(t,"defaultProps",{measureBeforeMount:!1}),u(t,"propTypes",{measureBeforeMount:a.default.bool}),t};var r=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?n(a,t,r):a[t]=e[t]);return a}(e)}(n(5959)),a=s(n(2688)),o=s(n(883)),i=s(n(8784));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}function u(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c="react-grid-layout"},6850:(e,t,n)=>{"use strict";const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:o}=n(9630),i=n(9796),s=(t=e.exports={}).re=[],l=t.safeRe=[],u=t.src=[],c=t.safeSrc=[],d=t.t={};let p=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",o],[f,a]],g=(e,t,n)=>{const r=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),a=p++;i(e,a,t),d[e]=a,u[a]=t,c[a]=r,s[a]=new RegExp(t,n?"g":void 0),l[a]=new RegExp(r,n?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),g("MAINVERSION",`(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${u[d.PRERELEASEIDENTIFIER]}(?:\\.${u[d.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${u[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[d.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${f}+`),g("BUILD",`(?:\\+(${u[d.BUILDIDENTIFIER]}(?:\\.${u[d.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${u[d.MAINVERSION]}${u[d.PRERELEASE]}?${u[d.BUILD]}?`),g("FULL",`^${u[d.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${u[d.MAINVERSIONLOOSE]}${u[d.PRERELEASELOOSE]}?${u[d.BUILD]}?`),g("LOOSE",`^${u[d.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${u[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${u[d.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:${u[d.PRERELEASE]})?${u[d.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:${u[d.PRERELEASELOOSE]})?${u[d.BUILD]}?)?)?`),g("XRANGE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${u[d.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",u[d.COERCEPLAIN]+`(?:${u[d.PRERELEASE]})?`+`(?:${u[d.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",u[d.COERCE],!0),g("COERCERTLFULL",u[d.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${u[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${u[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${u[d.LONECARET]}${u[d.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${u[d.LONECARET]}${u[d.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${u[d.GTLT]}\\s*(${u[d.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]}|${u[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${u[d.XRANGEPLAIN]})\\s+-\\s+(${u[d.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${u[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[d.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},6884:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},6909:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>0===r(e,t,n)},7023:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t)=>r(e,t,!0)},7092:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)<=0},7095:e=>{"use strict";const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},7186:(e,t,n)=>{"use strict";n.d(t,{Tp:()=>d});var r=n(8449);function a(e,t="latest"){return o(e,t.replace(/\-.*/,""))}function o(e,t){const n={};for(const[r,a]of Object.entries(e))i(a)?n[r]=o(a,t):(l(a,r),n[r]=s(a,t));return n}function i(e){if("object"==typeof e){const[t]=Object.keys(e);return!(0,r.valid)(t)}return!1}function s(e,t){let n,a=Object.keys(e).sort(r.compare);if("latest"===t)return e[a[a.length-1]];for(const e of a)(0,r.gte)(t,e)&&(n=e);return n||(n=a[a.length-1]),e[n]}function l(e,t){if(!Object.keys(e).every(e=>(0,r.valid)(e)))throw new Error(`Invalid semver version: '${t}'`)}const u="8.5.0",c={RadioButton:{container:{"10.2.3":"data-testid radio-button"}},Breadcrumbs:{breadcrumb:{"9.4.0":e=>`data-testid ${e} breadcrumb`}},CanvasGridAddActions:{addPanel:{"12.1.0":"data-testid CanvasGridAddActions add-panel"},groupPanels:{"12.1.0":"data-testid CanvasGridAddActions group-panels"},ungroup:{"12.1.0":"data-testid CanvasGridAddActions ungroup"},addRow:{"12.1.0":"data-testid CanvasGridAddActions add-row"},pasteRow:{"12.1.0":"data-testid CanvasGridAddActions paste-row"},addTab:{"12.1.0":"data-testid CanvasGridAddActions add-tab"},pasteTab:{"12.1.0":"data-testid CanvasGridAddActions paste-tab"}},DashboardEditPaneSplitter:{primaryBody:{"12.1.0":"data-testid DashboardEditPaneSplitter primary body"}},EditPaneHeader:{deleteButton:{"12.1.0":"data-testid EditPaneHeader delete panel"},copyDropdown:{"12.1.0":"data-testid EditPaneHeader copy dropdown"},copy:{"12.1.0":"data-testid EditPaneHeader copy"},duplicate:{"12.1.0":"data-testid EditPaneHeader duplicate"},backButton:{"12.1.0":"data-testid EditPaneHeader back"}},TimePicker:{openButton:{[u]:"data-testid TimePicker Open Button"},overlayContent:{"10.2.3":"data-testid TimePicker Overlay Content"},fromField:{"10.2.3":"data-testid Time Range from field",[u]:"Time Range from field"},toField:{"10.2.3":"data-testid Time Range to field",[u]:"Time Range to field"},applyTimeRange:{[u]:"data-testid TimePicker submit button"},copyTimeRange:{"10.4.0":"data-testid TimePicker copy button"},pasteTimeRange:{"10.4.0":"data-testid TimePicker paste button"},calendar:{label:{"10.2.3":"data-testid Time Range calendar",[u]:"Time Range calendar"},openButton:{"10.2.3":"data-testid Open time range calendar",[u]:"Open time range calendar"},closeButton:{"10.2.3":"data-testid Close time range Calendar",[u]:"Close time range Calendar"}},absoluteTimeRangeTitle:{[u]:"data-testid-absolute-time-range-narrow"}},DataSourcePermissions:{form:{"9.5.0":()=>'form[name="addPermission"]'},roleType:{"9.5.0":"Role to add new permission to"},rolePicker:{"9.5.0":"Built-in role picker"},permissionLevel:{"12.0.0":"Permission level","9.5.0":"Permission Level"}},DateTimePicker:{input:{"10.2.3":"data-testid date-time-input"}},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:{[u]:"Test Data Query scenario select container"},scenarioSelect:{[u]:"Test Data Query scenario select"},max:{[u]:"TestData max"},min:{[u]:"TestData min"},noise:{[u]:"TestData noise"},seriesCount:{[u]:"TestData series count"},spread:{[u]:"TestData spread"},startValue:{[u]:"TestData start value"},drop:{[u]:"TestData drop values"}}},DataSourceHttpSettings:{urlInput:{"10.4.0":"data-testid Datasource HTTP settings url",[u]:"Datasource HTTP settings url"}},Jaeger:{traceIDInput:{[u]:"Trace ID"}},Prometheus:{configPage:{connectionSettings:{[u]:"Data source connection URL"},manageAlerts:{"10.4.0":"prometheus-alerts-manager"},allowAsRecordingRulesTarget:{"12.1.0":"prometheus-recording-rules-target"},scrapeInterval:{"10.4.0":"data-testid scrape interval"},queryTimeout:{"10.4.0":"data-testid query timeout"},defaultEditor:{"10.4.0":"data-testid default editor"},disableMetricLookup:{"10.4.0":"disable-metric-lookup"},prometheusType:{"10.4.0":"data-testid prometheus type"},prometheusVersion:{"10.4.0":"data-testid prometheus version"},cacheLevel:{"10.4.0":"data-testid cache level"},incrementalQuerying:{"10.4.0":"prometheus-incremental-querying"},queryOverlapWindow:{"10.4.0":"data-testid query overlap window"},disableRecordingRules:{"10.4.0":"disable-recording-rules"},customQueryParameters:{"10.4.0":"data-testid custom query parameters"},httpMethod:{"10.4.0":"data-testid http method"},exemplarsAddButton:{"10.3.0":"data-testid Add exemplar config button",[u]:"Add exemplar config button"},internalLinkSwitch:{"10.3.0":"data-testid Internal link switch",[u]:"Internal link switch"},codeModeMetricNamesSuggestionLimit:{"11.1.0":"data-testid code mode metric names suggestion limit"},seriesLimit:{"12.0.2":"data-testid maximum series limit"}},queryEditor:{explain:{"10.4.0":"data-testid prometheus explain switch wrapper"},editorToggle:{"10.4.0":"data-testid QueryEditorModeToggle"},options:{"10.4.0":"data-testid prometheus options"},legend:{"10.4.0":"data-testid prometheus legend wrapper"},format:{"10.4.0":"data-testid prometheus format"},step:{"10.4.0":"data-testid prometheus-step"},type:{"10.4.0":"data-testid prometheus type"},exemplars:{"10.4.0":"data-testid prometheus-exemplars"},builder:{metricSelect:{"10.4.0":"data-testid metric select"},hints:{"10.4.0":"data-testid prometheus hints"},metricsExplorer:{"10.4.0":"data-testid metrics explorer"},queryAdvisor:{"10.4.0":"data-testid query advisor"}},code:{queryField:{"10.4.0":"data-testid prometheus query field"},metricsCountInfo:{"11.1.0":"data-testid metrics count disclaimer"},metricsBrowser:{openButton:{"10.4.0":"data-testid open metrics browser"},selectMetric:{"10.4.0":"data-testid select a metric"},seriesLimit:{"10.3.1":"data-testid series limit"},metricList:{"10.4.0":"data-testid metric list"},labelNamesFilter:{"10.4.0":"data-testid label names filter"},labelValuesFilter:{"10.4.0":"data-testid label values filter"},useQuery:{"10.4.0":"data-testid use query"},useAsRateQuery:{"10.4.0":"data-testid use as rate query"},validateSelector:{"10.4.0":"data-testid validate selector"},clear:{"10.4.0":"data-testid clear"}}}},exemplarMarker:{"10.3.0":"data-testid Exemplar marker",[u]:"Exemplar marker"},variableQueryEditor:{queryType:{"10.4.0":"data-testid query type"},labelnames:{metricRegex:{"10.4.0":"data-testid label names metric regex"}},labelValues:{labelSelect:{"10.4.0":"data-testid label values label select"}},metricNames:{metricRegex:{"10.4.0":"data-testid metric names metric regex"}},varQueryResult:{"10.4.0":"data-testid variable query result"},seriesQuery:{"10.4.0":"data-testid prometheus series query"},classicQuery:{"10.4.0":"data-testid prometheus classic query"}},annotations:{minStep:{"10.4.0":"data-testid prometheus-annotation-min-step"},title:{"10.4.0":"data-testid prometheus annotation title"},tags:{"10.4.0":"data-testid prometheus annotation tags"},text:{"10.4.0":"data-testid prometheus annotation text"},seriesValueAsTimestamp:{"10.4.0":"data-testid prometheus annotation series value as timestamp"}}}},Menu:{MenuComponent:{[u]:e=>`${e} menu`},MenuGroup:{[u]:e=>`${e} menu group`},MenuItem:{[u]:e=>`${e} menu item`},SubMenu:{container:{"10.3.0":"data-testid SubMenu container",[u]:"SubMenu container"},icon:{"10.3.0":"data-testid SubMenu icon",[u]:"SubMenu icon"}}},Panels:{Panel:{title:{[u]:e=>`data-testid Panel header ${e}`},content:{"11.1.0":"data-testid panel content"},headerContainer:{"9.5.0":"data-testid header-container"},headerItems:{"10.2.0":e=>`data-testid Panel header item ${e}`},menuItems:{"9.5.0":e=>`data-testid Panel menu item ${e}`},menu:{"9.5.0":e=>`data-testid Panel menu ${e}`},containerByTitle:{[u]:e=>`${e} panel`},headerCornerInfo:{[u]:e=>`Panel header ${e}`},status:{"10.2.0":e=>`data-testid Panel status ${e}`,[u]:e=>"Panel status"},loadingBar:{"10.0.0":()=>"Panel loading bar"},HoverWidget:{container:{"10.1.0":"data-testid hover-header-container",[u]:"hover-header-container"},dragIcon:{"10.0.0":"data-testid drag-icon"}},PanelDataErrorMessage:{"10.4.0":"data-testid Panel data error message"}},Visualization:{Graph:{container:{"9.5.0":"Graph container"},VisualizationTab:{legendSection:{[u]:"Legend section"}},Legend:{legendItemAlias:{[u]:e=>`gpl alias ${e}`},showLegendSwitch:{[u]:"gpl show legend"}},xAxis:{labels:{[u]:()=>"div.flot-x-axis > div.flot-tick-label"}}},BarGauge:{valueV2:{[u]:"data-testid Bar gauge value"}},PieChart:{svgSlice:{"10.3.0":"data testid Pie Chart Slice"}},Text:{container:{[u]:()=>".markdown-html"}},Table:{header:{[u]:"table header"},footer:{[u]:"table-footer"},body:{"10.2.0":"data-testid table body"}}}},VizLegend:{seriesName:{"10.3.0":e=>`data-testid VizLegend series ${e}`}},Drawer:{General:{title:{[u]:e=>`Drawer title ${e}`},expand:{[u]:"Drawer expand"},contract:{[u]:"Drawer contract"},close:{"10.3.0":"data-testid Drawer close",[u]:"Drawer close"},rcContentWrapper:{"9.4.0":()=>".rc-drawer-content-wrapper"},subtitle:{"10.4.0":"data-testid drawer subtitle"}},DashboardSaveDrawer:{saveButton:{"11.1.0":"data-testid Save dashboard drawer button"},saveAsButton:{"11.1.0":"data-testid Save as dashboard drawer button"},saveAsTitleInput:{"11.1.0":"Save dashboard title field"}}},PanelEditor:{General:{content:{"11.1.0":"data-testid Panel editor content","8.0.0":"Panel editor content"}},OptionsPane:{content:{"11.1.0":"data-testid Panel editor option pane content",[u]:"Panel editor option pane content"},select:{[u]:"Panel editor option pane select"},fieldLabel:{[u]:e=>`${e} field property editor`},fieldInput:{"11.0.0":e=>`data-testid Panel editor option pane field input ${e}`}},DataPane:{content:{"11.1.0":"data-testid Panel editor data pane content",[u]:"Panel editor data pane content"}},applyButton:{"9.2.0":"data-testid Apply changes and go back to dashboard","9.1.0":"Apply changes and go back to dashboard","8.0.0":"panel editor apply"},toggleVizPicker:{"10.0.0":"data-testid toggle-viz-picker","8.0.0":"toggle-viz-picker"},toggleVizOptions:{"10.1.0":"data-testid toggle-viz-options",[u]:"toggle-viz-options"},toggleTableView:{"11.1.0":"data-testid toggle-table-view",[u]:"toggle-table-view"},showZoomField:{"10.2.0":"Map controls Show zoom control field property editor"},showAttributionField:{"10.2.0":"Map controls Show attribution field property editor"},showScaleField:{"10.2.0":"Map controls Show scale field property editor"},showMeasureField:{"10.2.0":"Map controls Show measure tools field property editor"},showDebugField:{"10.2.0":"Map controls Show debug field property editor"},measureButton:{"12.1.0":"data-testid panel-editor-measure-button","9.2.0":"show measure tools"},Outline:{section:{"12.0.0":"data-testid Outline section"},node:{"12.0.0":e=>`data-testid outline node ${e}`},item:{"12.0.0":e=>`data-testid outline item ${e}`}},ElementEditPane:{variableType:{"12.0.0":e=>`data-testid variable type ${e}`},addVariableButton:{"12.0.0":"data-testid add variable button"},variableNameInput:{"12.0.0":"data-testid variable name input"},variableLabelInput:{"12.0.0":"data-testid variable label input"},AutoGridLayout:{minColumnWidth:{"12.1.0":"data-testid min column width selector"},customMinColumnWidth:{"12.1.0":"data-testid custom min column width input"},clearCustomMinColumnWidth:{"12.1.0":"data-testid clear custom min column width input"},maxColumns:{"12.1.0":"data-testid max columns selector"},rowHeight:{"12.1.0":"data-testid row height selector"},customRowHeight:{"12.1.0":"data-testid custom row height input"},clearCustomRowHeight:{"12.1.0":"data-testid clear custom row height input"},fillScreen:{"12.1.0":"data-testid fill screen switch"}}}},PanelInspector:{Data:{content:{[u]:"Panel inspector Data content"}},Stats:{content:{[u]:"Panel inspector Stats content"}},Json:{content:{"11.1.0":"data-testid Panel inspector Json content",[u]:"Panel inspector Json content"}},Query:{content:{[u]:"Panel inspector Query content"},refreshButton:{[u]:"Panel inspector Query refresh button"},jsonObjectKeys:{[u]:()=>".json-formatter-key"}}},Tab:{title:{"11.2.0":e=>`data-testid Tab ${e}`},active:{[u]:()=>'[class*="-activeTabStyle"]'}},RefreshPicker:{runButtonV2:{[u]:"data-testid RefreshPicker run button"},intervalButtonV2:{[u]:"data-testid RefreshPicker interval button"}},QueryTab:{content:{[u]:"Query editor tab content"},queryInspectorButton:{[u]:"Query inspector button"},queryHistoryButton:{"10.2.0":"data-testid query-history-button",[u]:"query-history-button"},addQuery:{"10.2.0":"data-testid query-tab-add-query",[u]:"Query editor add query button"},addQueryFromLibrary:{"11.5.0":"data-testid query-tab-add-query-from-library"},queryGroupTopSection:{"11.2.0":"data-testid query group top section"},addExpression:{"11.2.0":"data-testid query-tab-add-expression"}},QueryHistory:{queryText:{"9.0.0":"Query text"}},QueryEditorRows:{rows:{[u]:"Query editor row"}},QueryEditorRow:{actionButton:{"10.4.0":e=>`data-testid ${e}`},title:{[u]:e=>`Query editor row title ${e}`},container:{[u]:e=>`Query editor row ${e}`}},AlertTab:{content:{"10.2.3":"data-testid Alert editor tab content",[u]:"Alert editor tab content"}},AlertRules:{groupToggle:{"11.0.0":"data-testid group-collapse-toggle"},toggle:{"11.0.0":"data-testid collapse-toggle"},expandedContent:{"11.0.0":"data-testid expanded-content"},previewButton:{"11.1.0":"data-testid alert-rule preview-button"},ruleNameField:{"11.1.0":"data-testid alert-rule name-field"},newFolderButton:{"11.1.0":"data-testid alert-rule new-folder-button"},newFolderNameField:{"11.1.0":"data-testid alert-rule name-folder-name-field"},newFolderNameCreateButton:{"11.1.0":"data-testid alert-rule name-folder-name-create-button"},newEvaluationGroupButton:{"11.1.0":"data-testid alert-rule new-evaluation-group-button"},newEvaluationGroupName:{"11.1.0":"data-testid alert-rule new-evaluation-group-name"},newEvaluationGroupInterval:{"11.1.0":"data-testid alert-rule new-evaluation-group-interval"},newEvaluationGroupCreate:{"11.1.0":"data-testid alert-rule new-evaluation-group-create-button"},step:{"11.5.0":e=>`data-testid alert-rule step-${e}`},stepAdvancedModeSwitch:{"11.5.0":e=>`data-testid advanced-mode-switch step-${e}`}},Alert:{alertV2:{[u]:e=>`data-testid Alert ${e}`}},TransformTab:{content:{"10.1.0":"data-testid Transform editor tab content",[u]:"Transform editor tab content"},newTransform:{"10.1.0":e=>`data-testid New transform ${e}`},transformationEditor:{"10.1.0":e=>`data-testid Transformation editor ${e}`},transformationEditorDebugger:{"10.1.0":e=>`data-testid Transformation editor debugger ${e}`}},Transforms:{card:{"10.1.0":e=>`data-testid New transform ${e}`},disableTransformationButton:{"10.4.0":"data-testid Disable transformation button"},Reduce:{modeLabel:{"10.2.3":"data-testid Transform mode label",[u]:"Transform mode label"},calculationsLabel:{"10.2.3":"data-testid Transform calculations label",[u]:"Transform calculations label"}},SpatialOperations:{actionLabel:{"9.1.2":"root Action field property editor"},locationLabel:{"10.2.0":"root Location Mode field property editor"},location:{autoOption:{"9.1.2":"Auto location option"},coords:{option:{"9.1.2":"Coords location option"},latitudeFieldLabel:{"9.1.2":"root Latitude field field property editor"},longitudeFieldLabel:{"9.1.2":"root Longitude field field property editor"}},geohash:{option:{"9.1.2":"Geohash location option"},geohashFieldLabel:{"9.1.2":"root Geohash field field property editor"}},lookup:{option:{"9.1.2":"Lookup location option"},lookupFieldLabel:{"9.1.2":"root Lookup field field property editor"},gazetteerFieldLabel:{"9.1.2":"root Gazetteer field property editor"}}}},searchInput:{"10.2.3":"data-testid search transformations",[u]:"search transformations"},noTransformationsMessage:{"10.2.3":"data-testid no transformations message"},addTransformationButton:{"10.1.0":"data-testid add transformation button",[u]:"add transformation button"},removeAllTransformationsButton:{"10.4.0":"data-testid remove all transformations button"}},NavBar:{Configuration:{button:{"9.5.0":"Configuration"}},Toggle:{button:{"10.2.3":"data-testid Toggle menu",[u]:"Toggle menu"}},Reporting:{button:{"9.5.0":"Reporting"}}},NavMenu:{Menu:{"10.2.3":"data-testid navigation mega-menu"},item:{"9.5.0":"data-testid Nav menu item"}},NavToolbar:{container:{"9.4.0":"data-testid Nav toolbar"},commandPaletteTrigger:{"11.5.0":"data-testid Command palette trigger"},shareDashboard:{"11.1.0":"data-testid Share dashboard"},markAsFavorite:{"11.1.0":"data-testid Mark as favorite"},editDashboard:{editButton:{"11.1.0":"data-testid Edit dashboard button"},saveButton:{"11.1.0":"data-testid Save dashboard button"},exitButton:{"11.1.0":"data-testid Exit edit mode button"},settingsButton:{"11.1.0":"data-testid Dashboard settings"},addRowButton:{"11.1.0":"data-testid Add row button"},addLibraryPanelButton:{"11.1.0":"data-testid Add a panel from the panel library button"},addVisualizationButton:{"11.1.0":"data-testid Add new visualization menu item"},pastePanelButton:{"11.1.0":"data-testid Paste panel button"},discardChangesButton:{"11.1.0":"data-testid Discard changes button"},discardLibraryPanelButton:{"11.1.0":"data-testid Discard library panel button"},unlinkLibraryPanelButton:{"11.1.0":"data-testid Unlink library panel button"},saveLibraryPanelButton:{"11.1.0":"data-testid Save library panel button"},backToDashboardButton:{"11.1.0":"data-testid Back to dashboard button"}}},PageToolbar:{container:{[u]:()=>".page-toolbar"},item:{[u]:e=>`${e}`},itemButton:{"9.5.0":e=>`data-testid ${e}`}},QueryEditorToolbarItem:{button:{[u]:e=>`QueryEditor toolbar item button ${e}`}},BackButton:{backArrow:{"10.3.0":"data-testid Go Back",[u]:"Go Back"}},OptionsGroup:{group:{"11.1.0":e=>e?`data-testid Options group ${e}`:"data-testid Options group",[u]:e=>e?`Options group ${e}`:"Options group"},toggle:{"11.1.0":e=>e?`data-testid Options group ${e} toggle`:"data-testid Options group toggle",[u]:e=>e?`Options group ${e} toggle`:"Options group toggle"}},PluginVisualization:{item:{[u]:e=>`Plugin visualization item ${e}`},current:{[u]:()=>'[class*="-currentVisualizationItem"]'}},Select:{menu:{"11.5.0":"data-testid Select menu",[u]:"Select options menu"},option:{"11.1.0":"data-testid Select option",[u]:"Select option"},toggleAllOptions:{"11.3.0":"data-testid toggle all options"},input:{[u]:()=>'input[id*="time-options-input"]'},singleValue:{[u]:()=>'div[class*="-singleValue"]'}},FieldConfigEditor:{content:{[u]:"Field config editor content"}},OverridesConfigEditor:{content:{[u]:"Field overrides editor content"}},FolderPicker:{containerV2:{[u]:"data-testid Folder picker select container"},input:{"10.4.0":"data-testid folder-picker-input"}},ReadonlyFolderPicker:{container:{[u]:"data-testid Readonly folder picker select container"}},DataSourcePicker:{container:{"10.0.0":"data-testid Data source picker select container","8.0.0":"Data source picker select container"},inputV2:{"10.1.0":"data-testid Select a data source",[u]:"Select a data source"},dataSourceList:{"10.4.0":"data-testid Data source list dropdown"},advancedModal:{dataSourceList:{"10.4.0":"data-testid Data source list"},builtInDataSourceList:{"10.4.0":"data-testid Built in data source list"}}},TimeZonePicker:{containerV2:{[u]:"data-testid Time zone picker select container"},changeTimeSettingsButton:{"11.0.0":"data-testid Time zone picker Change time settings button"}},WeekStartPicker:{containerV2:{[u]:"data-testid Choose starting day of the week"},placeholder:{[u]:"Choose starting day of the week"}},TraceViewer:{spanBar:{"9.0.0":"data-testid SpanBar--wrapper"}},QueryField:{container:{"10.3.0":"data-testid Query field",[u]:"Query field"}},QueryBuilder:{queryPatterns:{"10.3.0":"data-testid Query patterns",[u]:"Query patterns"},labelSelect:{"10.3.0":"data-testid Select label",[u]:"Select label"},inputSelect:{"11.1.0":"data-testid Select label-input"},valueSelect:{"10.3.0":"data-testid Select value",[u]:"Select value"},matchOperatorSelect:{"10.3.0":"data-testid Select match operator",[u]:"Select match operator"}},ValuePicker:{button:{"10.3.0":e=>`data-testid Value picker button ${e}`},select:{"10.3.0":e=>`data-testid Value picker select ${e}`}},Search:{sectionV2:{[u]:"data-testid Search section"},itemsV2:{[u]:"data-testid Search items"},cards:{[u]:"data-testid Search cards"},collapseFolder:{[u]:e=>`data-testid Collapse folder ${e}`},expandFolder:{[u]:e=>`data-testid Expand folder ${e}`},dashboardItem:{[u]:e=>`data-testid Dashboard search item ${e}`},dashboardCard:{[u]:e=>`data-testid Search card ${e}`},folderHeader:{"9.3.0":e=>`data-testid Folder header ${e}`},folderContent:{"9.3.0":e=>`data-testid Folder content ${e}`},dashboardItems:{[u]:"data-testid Dashboard search item"}},DashboardLinks:{container:{[u]:"data-testid Dashboard link container"},dropDown:{[u]:"data-testid Dashboard link dropdown"},link:{[u]:"data-testid Dashboard link"}},LoadingIndicator:{icon:{"10.4.0":"data-testid Loading indicator",[u]:"Loading indicator"}},CallToActionCard:{buttonV2:{[u]:e=>`data-testid Call to action button ${e}`}},DataLinksContextMenu:{singleLink:{"10.3.0":"data-testid Data link",[u]:"Data link"}},DataLinksActionsTooltip:{tooltipWrapper:{"12.1.0":"data-testid Data links actions tooltip wrapper"}},CodeEditor:{container:{"10.2.3":"data-testid Code editor container",[u]:"Code editor container"}},ReactMonacoEditor:{editorLazy:{"11.1.0":"data-testid ReactMonacoEditor editorLazy"}},DashboardImportPage:{textarea:{[u]:"data-testid-import-dashboard-textarea"},submit:{[u]:"data-testid-load-dashboard"}},ImportDashboardForm:{name:{[u]:"data-testid-import-dashboard-title"},submit:{[u]:"data-testid-import-dashboard-submit"}},PanelAlertTabContent:{content:{"10.2.3":"data-testid Unified alert editor tab content",[u]:"Unified alert editor tab content"}},VisualizationPreview:{card:{[u]:e=>`data-testid suggestion-${e}`}},ColorSwatch:{name:{[u]:"data-testid-colorswatch"}},DashboardRow:{title:{[u]:e=>`data-testid dashboard-row-title-${e}`}},UserProfile:{profileSaveButton:{[u]:"data-testid-user-profile-save"},preferencesSaveButton:{[u]:"data-testid-shared-prefs-save"},orgsTable:{[u]:"data-testid-user-orgs-table"},sessionsTable:{[u]:"data-testid-user-sessions-table"},extensionPointTabs:{"10.2.3":"data-testid-extension-point-tabs"},extensionPointTab:{"10.2.3":e=>`data-testid-extension-point-tab-${e}`}},FileUpload:{inputField:{"9.0.0":"data-testid-file-upload-input-field"},fileNameSpan:{"9.0.0":"data-testid-file-upload-file-name"}},DebugOverlay:{wrapper:{"9.2.0":"debug-overlay"}},OrgRolePicker:{input:{"9.5.0":"Role"}},AnalyticsToolbarButton:{button:{"9.5.0":"Dashboard insights"}},Variables:{variableOption:{"9.5.0":"data-testid variable-option"},variableLinkWrapper:{"11.1.1":"data-testid variable-link-wrapper"}},Annotations:{annotationsTypeInput:{"11.1.0":"data-testid annotations-type-input",[u]:"annotations-type-input"},annotationsChoosePanelInput:{"11.1.0":"data-testid choose-panels-input",[u]:"choose-panels-input"},editor:{testButton:{"11.0.0":"data-testid annotations-test-button"},resultContainer:{"11.0.0":"data-testid annotations-query-result-container"}}},Tooltip:{container:{"10.2.0":"data-testid tooltip"}},ReturnToPrevious:{buttonGroup:{"11.0.0":"data-testid dismissable button group"},backButton:{"11.0.0":"data-testid back"},dismissButton:{"11.0.0":"data-testid dismiss"}},SQLQueryEditor:{selectColumn:{"11.0.0":"data-testid select-column"},selectColumnInput:{"11.0.0":"data-testid select-column-input"},selectFunctionParameter:{"11.0.0":e=>`data-testid select-function-parameter-${e}`},selectAggregation:{"11.0.0":"data-testid select-aggregation"},selectAggregationInput:{"11.0.0":"data-testid select-aggregation-input"},selectAlias:{"11.0.0":"data-testid select-alias"},selectAliasInput:{"11.0.0":"data-testid select-alias-input"},selectInputParameter:{"11.0.0":"data-testid select-input-parameter"},filterConjunction:{"11.0.0":"data-testid filter-conjunction"},filterField:{"11.0.0":"data-testid filter-field"},filterOperator:{"11.0.0":"data-testid filter-operator"},headerTableSelector:{"11.0.0":"data-testid header-table-selector"},headerFilterSwitch:{"11.0.0":"data-testid header-filter-switch"},headerGroupSwitch:{"11.0.0":"data-testid header-group-switch"},headerOrderSwitch:{"11.0.0":"data-testid header-order-switch"},headerPreviewSwitch:{"11.0.0":"data-testid header-preview-switch"}},EntityNotFound:{container:{"11.2.0":"data-testid entity-not-found"}},Portal:{container:{"11.5.0":"data-testid portal-container"}}},d={pages:a({Alerting:{AddAlertRule:{url:{"10.1.0":"/alerting/new/alerting",[u]:"/alerting/new"}},EditAlertRule:{url:{[u]:e=>`alerting/${e}/edit`}}},Login:{url:{[u]:"/login"},username:{"10.2.3":"data-testid Username input field",[u]:"Username input field"},password:{"10.2.3":"data-testid Password input field",[u]:"Password input field"},submit:{"10.2.3":"data-testid Login button",[u]:"Login button"},skip:{"10.2.3":"data-testid Skip change password button"}},PasswordlessLogin:{url:{[u]:"/login/passwordless/authenticate"},email:{"10.2.3":"data-testid Email input field",[u]:"Email input field"},submit:{"10.2.3":"data-testid PasswordlessLogin button",[u]:"PasswordlessLogin button"}},Home:{url:{[u]:"/"}},DataSource:{name:{"10.3.0":"data-testid Data source settings page name input field",[u]:"Data source settings page name input field"},delete:{[u]:"Data source settings page Delete button"},readOnly:{"10.3.0":"data-testid Data source settings page read only message",[u]:"Data source settings page read only message"},saveAndTest:{"10.0.0":"data-testid Data source settings page Save and Test button",[u]:"Data source settings page Save and Test button"},alert:{"10.3.0":"data-testid Data source settings page Alert",[u]:"Data source settings page Alert"}},DataSources:{url:{[u]:"/datasources"},dataSources:{[u]:e=>`Data source list item ${e}`}},EditDataSource:{url:{"9.5.0":e=>`/datasources/edit/${e}`},settings:{"9.5.0":"Datasource settings page basic settings"}},AddDataSource:{url:{[u]:"/datasources/new"},dataSourcePluginsV2:{"9.3.1":e=>`Add new data source ${e}`,[u]:e=>`Data source plugin item ${e}`}},ConfirmModal:{delete:{"10.0.0":"data-testid Confirm Modal Danger Button",[u]:"Confirm Modal Danger Button"}},AddDashboard:{url:{[u]:"/dashboard/new"},itemButton:{"9.5.0":e=>`data-testid ${e}`},addNewPanel:{"11.1.0":"data-testid Add new panel","8.0.0":"Add new panel",[u]:"Add new panel"},itemButtonAddViz:{[u]:"Add new visualization menu item"},addNewRow:{"11.1.0":"data-testid Add new row",[u]:"Add new row"},addNewPanelLibrary:{"11.1.0":"data-testid Add new panel from panel library",[u]:"Add new panel from panel library"},Settings:{Annotations:{List:{url:{[u]:"/dashboard/new?orgId=1&editview=annotations"}},Edit:{url:{[u]:e=>`/dashboard/new?editview=annotations&editIndex=${e}`}}},Variables:{List:{url:{"11.3.0":"/dashboard/new?orgId=1&editview=variables",[u]:"/dashboard/new?orgId=1&editview=templating"}},Edit:{url:{"11.3.0":e=>`/dashboard/new?orgId=1&editview=variables&editIndex=${e}`,[u]:e=>`/dashboard/new?orgId=1&editview=templating&editIndex=${e}`}}}}},ImportDashboard:{url:{[u]:"/dashboard/import"}},Dashboard:{url:{[u]:e=>`/d/${e}`},DashNav:{nav:{[u]:"Dashboard navigation"},navV2:{[u]:"data-testid Dashboard navigation"},publicDashboardTag:{"9.1.0":"data-testid public dashboard tag"},shareButton:{"10.4.0":"data-testid share-button"},scrollContainer:{"11.1.0":"data-testid Dashboard canvas scroll container"},newShareButton:{container:{"11.1.0":"data-testid new share button"},shareLink:{"11.1.0":"data-testid new share link-button"},arrowMenu:{"11.1.0":"data-testid new share button arrow menu"},menu:{container:{"11.1.0":"data-testid new share button menu"},shareInternally:{"11.1.0":"data-testid new share button share internally"},shareExternally:{"11.1.1":"data-testid new share button share externally"},shareSnapshot:{"11.2.0":"data-testid new share button share snapshot"}}},NewExportButton:{container:{"11.2.0":"data-testid new export button"},arrowMenu:{"11.2.0":"data-testid new export button arrow menu"},Menu:{container:{"11.2.0":"data-testid new export button menu"},exportAsJson:{"11.2.0":"data-testid new export button export as json"}}},playlistControls:{prev:{"11.0.0":"data-testid playlist previous dashboard button"},stop:{"11.0.0":"data-testid playlist stop dashboard button"},next:{"11.0.0":"data-testid playlist next dashboard button"}}},Controls:{"11.1.0":"data-testid dashboard controls"},SubMenu:{submenu:{[u]:"Dashboard submenu"},submenuItem:{[u]:"data-testid template variable"},submenuItemLabels:{[u]:e=>`data-testid Dashboard template variables submenu Label ${e}`},submenuItemValueDropDownValueLinkTexts:{[u]:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`},submenuItemValueDropDownDropDown:{[u]:"Variable options"},submenuItemValueDropDownOptionTexts:{[u]:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`},Annotations:{annotationsWrapper:{"10.0.0":"data-testid annotation-wrapper"},annotationLabel:{"10.0.0":e=>`data-testid Dashboard annotations submenu Label ${e}`},annotationToggle:{"10.0.0":e=>`data-testid Dashboard annotations submenu Toggle ${e}`}}},Settings:{Actions:{close:{"9.5.0":"data-testid dashboard-settings-close"}},General:{deleteDashBoard:{"11.1.0":"data-testid Dashboard settings page delete dashboard button"},sectionItems:{[u]:e=>`Dashboard settings section item ${e}`},saveDashBoard:{[u]:"Dashboard settings aside actions Save button"},saveAsDashBoard:{[u]:"Dashboard settings aside actions Save As button"},title:{"11.2.0":"General"}},Annotations:{Edit:{urlParams:{[u]:e=>`editview=annotations&editIndex=${e}`}},List:{url:{[u]:e=>`/d/${e}?editview=annotations`},addAnnotationCTAV2:{[u]:"data-testid Call to action button Add annotation query"},annotations:{"10.4.0":"data-testid list-annotations"}},Settings:{name:{"11.1.0":"data-testid Annotations settings name input",[u]:"Annotations settings name input"}},NewAnnotation:{panelFilterSelect:{"10.0.0":"data-testid annotations-panel-filter"},showInLabel:{"11.1.0":"data-testid show-in-label"},previewInDashboard:{"10.0.0":"data-testid annotations-preview"},delete:{"10.4.0":"data-testid annotations-delete"},apply:{"10.4.0":"data-testid annotations-apply"},enable:{"10.4.0":"data-testid annotation-enable"},hide:{"10.4.0":"data-testid annotation-hide"}}},Variables:{List:{url:{"11.3.0":e=>`/d/${e}?editview=variables`,[u]:e=>`/d/${e}?editview=templating`},addVariableCTAV2:{[u]:"data-testid Call to action button Add variable"},newButton:{[u]:"Variable editor New variable button"},table:{[u]:"Variable editor Table"},tableRowNameFields:{[u]:e=>`Variable editor Table Name field ${e}`},tableRowDefinitionFields:{"10.1.0":e=>`Variable editor Table Definition field ${e}`},tableRowArrowUpButtons:{[u]:e=>`Variable editor Table ArrowUp button ${e}`},tableRowArrowDownButtons:{[u]:e=>`Variable editor Table ArrowDown button ${e}`},tableRowDuplicateButtons:{[u]:e=>`Variable editor Table Duplicate button ${e}`},tableRowRemoveButtons:{[u]:e=>`Variable editor Table Remove button ${e}`}},Edit:{urlParams:{"11.3.0":e=>`editview=variables&editIndex=${e}`,[u]:e=>`editview=templating&editIndex=${e}`},General:{headerLink:{[u]:"Variable editor Header link"},modeLabelNew:{[u]:"Variable editor Header mode New"},modeLabelEdit:{[u]:"Variable editor Header mode Edit"},generalNameInput:{[u]:"Variable editor Form Name field"},generalNameInputV2:{[u]:"data-testid Variable editor Form Name field"},generalTypeSelect:{[u]:"Variable editor Form Type select"},generalTypeSelectV2:{[u]:"data-testid Variable editor Form Type select"},generalLabelInput:{[u]:"Variable editor Form Label field"},generalLabelInputV2:{[u]:"data-testid Variable editor Form Label field"},generalHideSelect:{[u]:"Variable editor Form Hide select"},generalHideSelectV2:{[u]:"data-testid Variable editor Form Hide select"},selectionOptionsAllowCustomValueSwitch:{[u]:"data-testid Variable editor Form Allow Custom Value switch"},selectionOptionsMultiSwitch:{"10.4.0":"data-testid Variable editor Form Multi switch",[u]:"Variable editor Form Multi switch"},selectionOptionsIncludeAllSwitch:{"10.4.0":"data-testid Variable editor Form IncludeAll switch",[u]:"Variable editor Form IncludeAll switch"},selectionOptionsCustomAllInput:{"10.4.0":"data-testid Variable editor Form IncludeAll field",[u]:"Variable editor Form IncludeAll field"},previewOfValuesOption:{"10.4.0":"data-testid Variable editor Preview of Values option",[u]:"Variable editor Preview of Values option"},submitButton:{"10.4.0":"data-testid Variable editor Run Query button",[u]:"Variable editor Submit button"},applyButton:{"9.3.0":"data-testid Variable editor Apply button"}},QueryVariable:{closeButton:{[u]:"data-testid Query Variable editor close button"},editor:{[u]:"data-testid Query Variable editor"},previewButton:{[u]:"data-testid Query Variable editor preview button"},queryOptionsDataSourceSelect:{"10.4.0":"data-testid Select a data source","10.0.0":"data-testid Data source picker select container",[u]:"Data source picker select container"},queryOptionsOpenButton:{[u]:"data-testid Query Variable editor open button"},queryOptionsRefreshSelect:{[u]:"Variable editor Form Query Refresh select"},queryOptionsRefreshSelectV2:{[u]:"data-testid Variable editor Form Query Refresh select"},queryOptionsRegExInput:{[u]:"Variable editor Form Query RegEx field"},queryOptionsRegExInputV2:{[u]:"data-testid Variable editor Form Query RegEx field"},queryOptionsSortSelect:{[u]:"Variable editor Form Query Sort select"},queryOptionsSortSelectV2:{[u]:"data-testid Variable editor Form Query Sort select"},queryOptionsQueryInput:{"10.4.0":"data-testid Variable editor Form Default Variable Query Editor textarea"},valueGroupsTagsEnabledSwitch:{[u]:"Variable editor Form Query UseTags switch"},valueGroupsTagsTagsQueryInput:{[u]:"Variable editor Form Query TagsQuery field"},valueGroupsTagsTagsValuesQueryInput:{[u]:"Variable editor Form Query TagsValuesQuery field"}},ConstantVariable:{constantOptionsQueryInput:{[u]:"Variable editor Form Constant Query field"},constantOptionsQueryInputV2:{[u]:"data-testid Variable editor Form Constant Query field"}},DatasourceVariable:{datasourceSelect:{[u]:"data-testid datasource variable datasource type"},nameFilter:{[u]:"data-testid datasource variable datasource name filter"}},TextBoxVariable:{textBoxOptionsQueryInput:{[u]:"Variable editor Form TextBox Query field"},textBoxOptionsQueryInputV2:{[u]:"data-testid Variable editor Form TextBox Query field"}},CustomVariable:{customValueInput:{[u]:"data-testid custom-variable-input"}},IntervalVariable:{intervalsValueInput:{[u]:"data-testid interval variable intervals input"},autoEnabledCheckbox:{"10.4.0":"data-testid interval variable auto value checkbox"},stepCountIntervalSelect:{"10.4.0":"data-testid interval variable step count input"},minIntervalInput:{"10.4.0":"data-testid interval variable mininum interval input"}},GroupByVariable:{dataSourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid group by variable info text"},modeToggle:{"10.4.0":"data-testid group by variable mode toggle"}},AdHocFiltersVariable:{datasourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid ad-hoc filters variable info text"},modeToggle:{"11.0.0":"data-testid ad-hoc filters variable mode toggle"}}}}},Annotations:{marker:{"10.0.0":"data-testid annotation-marker"}},Rows:{Repeated:{ConfigSection:{warningMessage:{"10.2.0":"data-testid Repeated rows warning message"}}}}},Dashboards:{url:{[u]:"/dashboards"},dashboards:{"10.2.0":e=>`Dashboard search item ${e}`},toggleView:{[u]:"data-testid radio-button"}},SaveDashboardAsModal:{newName:{"10.2.0":"Save dashboard title field"},save:{"10.2.0":"Save dashboard button"}},SaveDashboardModal:{save:{"10.2.0":"Dashboard settings Save Dashboard Modal Save button"},saveVariables:{"10.2.0":"Dashboard settings Save Dashboard Modal Save variables checkbox"},saveTimerange:{"10.2.0":"Dashboard settings Save Dashboard Modal Save timerange checkbox"},saveRefresh:{"11.1.0":"Dashboard settings Save Dashboard Modal Save refresh checkbox"}},SharePanelModal:{linkToRenderedImage:{[u]:"Link to rendered image"}},ShareDashboardModal:{PublicDashboard:{WillBePublicCheckbox:{"9.1.0":"data-testid public dashboard will be public checkbox"},LimitedDSCheckbox:{"9.1.0":"data-testid public dashboard limited datasources checkbox"},CostIncreaseCheckbox:{"9.1.0":"data-testid public dashboard cost may increase checkbox"},PauseSwitch:{"9.5.0":"data-testid public dashboard pause switch"},EnableAnnotationsSwitch:{"9.3.0":"data-testid public dashboard on off switch for annotations"},CreateButton:{"9.5.0":"data-testid public dashboard create button"},DeleteButton:{"9.3.0":"data-testid public dashboard delete button"},CopyUrlInput:{"9.1.0":"data-testid public dashboard copy url input"},CopyUrlButton:{"9.1.0":"data-testid public dashboard copy url button"},SettingsDropdown:{"10.1.0":"data-testid public dashboard settings dropdown"},TemplateVariablesWarningAlert:{"9.1.0":"data-testid public dashboard disabled template variables alert"},UnsupportedDataSourcesWarningAlert:{"9.5.0":"data-testid public dashboard unsupported data sources alert"},NoUpsertPermissionsWarningAlert:{"9.5.0":"data-testid public dashboard no upsert permissions alert"},EnableTimeRangeSwitch:{"9.4.0":"data-testid public dashboard on off switch for time range"},EmailSharingConfiguration:{Container:{"9.5.0":"data-testid email sharing config container"},ShareType:{"9.5.0":"data-testid public dashboard share type"},EmailSharingInput:{"9.5.0":"data-testid public dashboard email sharing input"},EmailSharingInviteButton:{"9.5.0":"data-testid public dashboard email sharing invite button"},EmailSharingList:{"9.5.0":"data-testid public dashboard email sharing list"},DeleteEmail:{"9.5.0":"data-testid public dashboard delete email button"},ReshareLink:{"9.5.0":"data-testid public dashboard reshare link button"}}},SnapshotScene:{url:{"11.1.0":e=>`/dashboard/snapshot/${e}`},PublishSnapshot:{"11.1.0":"data-testid publish snapshot button"},CopyUrlButton:{"11.1.0":"data-testid snapshot copy url button"},CopyUrlInput:{"11.1.0":"data-testid snapshot copy url input"}}},ShareDashboardDrawer:{ShareInternally:{container:{"11.3.0":"data-testid share internally drawer container"},lockTimeRangeSwitch:{"11.3.0":"data-testid share internally lock time range switch"},shortenUrlSwitch:{"11.3.0":"data-testid share internally shorten url switch"},copyUrlButton:{"11.3.0":"data-testid share internally copy url button"},SharePanel:{preview:{"11.5.0":"data-testid share panel internally image generation preview"},widthInput:{"11.5.0":"data-testid share panel internally width input"},heightInput:{"11.5.0":"data-testid share panel internally height input"},scaleFactorInput:{"11.5.0":"data-testid share panel internally scale factor input"},generateImageButton:{"11.5.0":"data-testid share panel internally generate image button"},downloadImageButton:{"11.5.0":"data-testid share panel internally download image button"}}},ShareExternally:{container:{"11.3.0":"data-testid share externally drawer container"},publicAlert:{"11.3.0":"data-testid public share alert"},emailSharingAlert:{"11.3.0":"data-testid email share alert"},shareTypeSelect:{"11.3.0":"data-testid share externally share type select"},Creation:{PublicShare:{createButton:{"11.3.0":"data-testid public share dashboard create button"},cancelButton:{"11.3.0":"data-testid public share dashboard cancel button"}},EmailShare:{createButton:{"11.3.0":"data-testid email share dashboard create button"},cancelButton:{"11.3.0":"data-testid email share dashboard cancel button"}},willBePublicCheckbox:{"11.3.0":"data-testid share dashboard will be public checkbox"}},Configuration:{enableTimeRangeSwitch:{"11.3.0":"data-testid share externally enable time range switch"},enableAnnotationsSwitch:{"11.3.0":"data-testid share externally enable annotations switch"},copyUrlButton:{"11.3.0":"data-testid share externally copy url button"},revokeAccessButton:{"11.3.0":"data-testid share externally revoke access button"},toggleAccessButton:{"11.3.0":"data-testid share externally pause or resume access button"}}},ShareSnapshot:{url:{"11.3.0":e=>`/dashboard/snapshot/${e}`},container:{"11.3.0":"data-testid share snapshot drawer container"},publishSnapshot:{"11.3.0":"data-testid share snapshot publish button"},copyUrlButton:{"11.3.0":"data-testid share snapshot copy url button"}}},ExportDashboardDrawer:{ExportAsJson:{container:{"11.3.0":"data-testid export as json drawer container"},codeEditor:{"11.3.0":"data-testid export as json code editor"},exportExternallyToggle:{"11.3.0":"data-testid export as json externally switch"},saveToFileButton:{"11.3.0":"data-testid export as json save to file button"},copyToClipboardButton:{"11.3.0":"data-testid export as json copy to clipboard button"},cancelButton:{"11.3.0":"data-testid export as json cancel button"}}},PublicDashboard:{page:{"9.5.0":"public-dashboard-page"},NotAvailable:{container:{"9.5.0":"public-dashboard-not-available"},title:{"9.5.0":"public-dashboard-title"},pausedDescription:{"9.5.0":"public-dashboard-paused-description"}},footer:{"11.0.0":"public-dashboard-footer"}},PublicDashboardScene:{loadingPage:{"11.0.0":"public-dashboard-scene-loading-page"},page:{"11.0.0":"public-dashboard-scene-page"},controls:{"11.0.0":"public-dashboard-controls"}},RequestViewAccess:{form:{"9.5.0":"request-view-access-form"},recipientInput:{"9.5.0":"request-view-access-recipient-input"},submitButton:{"9.5.0":"request-view-access-submit-button"}},PublicDashboardConfirmAccess:{submitButton:{"10.2.0":"data-testid confirm-access-submit-button"}},Explore:{url:{[u]:"/explore"},General:{container:{[u]:"data-testid Explore"},graph:{[u]:"Explore Graph"},table:{[u]:"Explore Table"},scrollView:{"9.0.0":"data-testid explorer scroll view"},addFromQueryLibrary:{"11.5.0":"data-testid explore add from query library button"}},QueryHistory:{container:{"11.1.0":"data-testid QueryHistory"}}},SoloPanel:{url:{[u]:e=>`/d-solo/${e}`}},PluginsList:{page:{[u]:"Plugins list page"},list:{[u]:"Plugins list"},listItem:{[u]:"Plugins list item"},signatureErrorNotice:{"10.3.0":"data-testid Unsigned plugins notice",[u]:"Unsigned plugins notice"}},PluginPage:{page:{[u]:"Plugin page"},signatureInfo:{"10.3.0":"data-testid Plugin signature info",[u]:"Plugin signature info"},disabledInfo:{"10.3.0":"data-testid Plugin disabled info",[u]:"Plugin disabled info"}},PlaylistForm:{name:{[u]:"Playlist name"},interval:{[u]:"Playlist interval"},itemDelete:{"10.2.0":"data-testid playlist-form-delete-item"}},BrowseDashboards:{table:{body:{"10.2.0":"data-testid browse-dashboards-table"},row:{"10.2.0":e=>`data-testid browse dashboards row ${e}`},checkbox:{"10.0.0":e=>`data-testid ${e} checkbox`}},NewFolderForm:{form:{"10.2.0":"data-testid new folder form"},nameInput:{"10.2.0":"data-testid new-folder-name-input"},createButton:{"10.2.0":"data-testid new-folder-create-button"}}},SearchDashboards:{table:{"10.2.0":"Search results table"}},Search:{url:{"9.3.0":"/?search=openn"},FolderView:{url:{"9.3.0":"/?search=open&layout=folders"}}},PublicDashboards:{ListItem:{linkButton:{"9.3.0":"public-dashboard-link-button"},configButton:{"9.3.0":"public-dashboard-configuration-button"},trashcanButton:{"9.3.0":"public-dashboard-remove-button"},pauseSwitch:{"10.1.0":"data-testid public dashboard pause switch"}}},UserListPage:{tabs:{allUsers:{"10.0.0":"data-testid all-users-tab"},orgUsers:{"10.0.0":"data-testid org-users-tab"},anonUserDevices:{"10.2.3":"data-testid anon-user-devices-tab"},publicDashboardsUsers:{"10.0.0":"data-testid public-dashboards-users-tab"},users:{"10.0.0":"data-testid users-tab"}},org:{url:{"10.2.0":"/admin/users","9.5.0":"/org/users"}},admin:{url:{"9.5.0":"/admin/users"}},publicDashboards:{container:{"11.1.0":"data-testid public-dashboards-users-list"}},UserListAdminPage:{container:{"10.0.0":"data-testid user-list-admin-page"}},UsersListPage:{container:{"10.0.0":"data-testid users-list-page"}},UserAnonListPage:{container:{"10.4.0":"data-testid user-anon-list-page"}},UsersListPublicDashboardsPage:{container:{"10.0.0":"data-testid users-list-public-dashboards-page"},DashboardsListModal:{listItem:{"10.0.0":e=>`data-testid dashboards-list-item-${e}`}}}},ProfilePage:{url:{"10.2.0":"/profile"}},Plugin:{url:{[u]:e=>`/plugins/${e}`}},MigrateToCloud:{url:{"11.2.0":"/admin/migrate-to-cloud"}}}),components:a(c)}},7222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resizeHandleType=t.resizeHandleAxesType=t.default=void 0;var r=o(n(2688)),a=o(n(5959));function o(e){return e&&e.__esModule?e:{default:e}}const i=t.resizeHandleAxesType=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),s=t.resizeHandleType=r.default.oneOfType([r.default.node,r.default.func]);t.default={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(e){e.verticalCompact},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&n(414).validateLayout(t,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,allowOverlap:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:i,resizeHandle:s,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(e,t){const n=e[t],r={};a.default.Children.forEach(n,function(e){if(null!=e?.key){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}})},innerRef:r.default.any}},7350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?`-${t.toLowerCase()}-${e}`:e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const t=window.document?.documentElement?.style;if(!t)return"";if(e in t)return"";for(let r=0;r<n.length;r++)if(a(e,n[r])in t)return n[r];return""}function a(e,t){return t?`${t}${function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)}`:e}t.default=r()},7405:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1705);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},7434:e=>{e.exports=function(e,t,n){return e===t||e.className===t.className&&n(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&n(e.verticalCompact,t.verticalCompact)&&n(e.compactType,t.compactType)&&n(e.layout,t.layout)&&n(e.margin,t.margin)&&n(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&n(e.resizeHandles,t.resizeHandles)&&n(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&n(e.droppingItem,t.droppingItem)&&n(e.innerRef,t.innerRef)}},7451:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{A:()=>r})},7494:(e,t,n)=>{"use strict";const r=n(8395);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},7645:(e,t,n)=>{"use strict";const r=n(5860);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},7659:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>0!==r(e,t,n)},7694:e=>{"use strict";e.exports=c},7767:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(7405),a=n(1705),o=n(4300),i=n(7850),s=n(694),l=n(4452),u=n.n(l),c=n(9273),d=n(4358);var p=n(5959),f=n(8102),h=n(9644);function g(e,t,n){return(e-t)/(n-t)}function m(e,t,n,r){var a=g(t,n,r),o={};switch(e){case"rtl":o.right="".concat(100*a,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(100*a,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(100*a,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(100*a,"%"),o.transform="translateX(-50%)"}return o}function v(e,t){return Array.isArray(e)?e[t]:e}var b={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=b.F1&&t<=b.F12)return!1;switch(t){case b.ALT:case b.CAPS_LOCK:case b.CONTEXT_MENU:case b.CTRL:case b.DOWN:case b.END:case b.ESC:case b.HOME:case b.INSERT:case b.LEFT:case b.MAC_FF_META:case b.META:case b.NUMLOCK:case b.NUM_CENTER:case b.PAGE_DOWN:case b.PAGE_UP:case b.PAUSE:case b.PRINT_SCREEN:case b.RIGHT:case b.SHIFT:case b.UP:case b.WIN_KEY:case b.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=b.ZERO&&e<=b.NINE)return!0;if(e>=b.NUM_ZERO&&e<=b.NUM_MULTIPLY)return!0;if(e>=b.A&&e<=b.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case b.SPACE:case b.QUESTION_MARK:case b.NUM_PLUS:case b.NUM_MINUS:case b.NUM_PERIOD:case b.NUM_DIVISION:case b.SEMICOLON:case b.DASH:case b.EQUALS:case b.COMMA:case b.PERIOD:case b.SLASH:case b.APOSTROPHE:case b.SINGLE_QUOTE:case b.OPEN_SQUARE_BRACKET:case b.BACKSLASH:case b.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const y=b,w=p.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});var S=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"];const x=p.forwardRef(function(e,t){var n,o=e.prefixCls,i=e.value,s=e.valueIndex,l=e.onStartMove,c=e.style,d=e.render,g=e.dragging,b=e.onOffsetChange,x=e.onChangeComplete,E=e.onFocus,C=e.onMouseEnter,A=(0,h.A)(e,S),O=p.useContext(w),R=O.min,I=O.max,D=O.direction,P=O.disabled,_=O.keyboard,T=O.range,k=O.tabIndex,M=O.ariaLabelForHandle,B=O.ariaLabelledByForHandle,L=O.ariaValueTextFormatterForHandle,N=O.styles,V=O.classNames,F="".concat(o,"-handle"),j=function(e){P||l(e,s)},$=m(D,i,R,I),z={};null!==s&&(z={tabIndex:P?null:v(k,s),role:"slider","aria-valuemin":R,"aria-valuemax":I,"aria-valuenow":i,"aria-disabled":P,"aria-label":v(M,s),"aria-labelledby":v(B,s),"aria-valuetext":null===(n=v(L,s))||void 0===n?void 0:n(i),"aria-orientation":"ltr"===D||"rtl"===D?"horizontal":"vertical",onMouseDown:j,onTouchStart:j,onFocus:function(e){null==E||E(e,s)},onMouseEnter:function(e){C(e,s)},onKeyDown:function(e){if(!P&&_){var t=null;switch(e.which||e.keyCode){case y.LEFT:t="ltr"===D||"btt"===D?-1:1;break;case y.RIGHT:t="ltr"===D||"btt"===D?1:-1;break;case y.UP:t="ttb"!==D?1:-1;break;case y.DOWN:t="ttb"!==D?-1:1;break;case y.HOME:t="min";break;case y.END:t="max";break;case y.PAGE_UP:t=2;break;case y.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),b(t,s))}},onKeyUp:function(e){switch(e.which||e.keyCode){case y.LEFT:case y.RIGHT:case y.UP:case y.DOWN:case y.HOME:case y.END:case y.PAGE_UP:case y.PAGE_DOWN:null==x||x()}}});var H=p.createElement("div",(0,f.A)({ref:t,className:u()(F,(0,a.A)((0,a.A)({},"".concat(F,"-").concat(s+1),null!==s&&T),"".concat(F,"-dragging"),g),V.handle),style:(0,r.A)((0,r.A)((0,r.A)({},$),c),N.handle)},z,A));return d&&(H=d(H,{index:s,prefixCls:o,value:i,dragging:g})),H});var E=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","onFocus"];const C=p.forwardRef(function(e,t){var n=e.prefixCls,a=e.style,o=e.onStartMove,s=e.onOffsetChange,l=e.values,u=e.handleRender,c=e.activeHandleRender,d=e.draggingIndex,g=e.onFocus,m=(0,h.A)(e,E),b=p.useRef({});p.useImperativeHandle(t,function(){return{focus:function(e){var t;null===(t=b.current[e])||void 0===t||t.focus()}}});var y=p.useState(-1),w=(0,i.A)(y,2),S=w[0],C=w[1],A=(0,r.A)({prefixCls:n,onStartMove:o,onOffsetChange:s,render:u,onFocus:function(e,t){C(t),null==g||g(e)},onMouseEnter:function(e,t){C(t)}},m);return p.createElement(p.Fragment,null,l.map(function(e,t){return p.createElement(x,(0,f.A)({ref:function(e){e?b.current[t]=e:delete b.current[t]},dragging:d===t,style:v(a,t),key:t,value:e,valueIndex:t},A))}),c&&p.createElement(x,(0,f.A)({key:"a11y"},A,{value:l[S],valueIndex:null,dragging:-1!==d,render:c,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),A=function(e){var t=e.prefixCls,n=e.style,o=e.children,i=e.value,s=e.onClick,l=p.useContext(w),c=l.min,d=l.max,f=l.direction,h=l.includedStart,g=l.includedEnd,v=l.included,b="".concat(t,"-text"),y=m(f,i,c,d);return p.createElement("span",{className:u()(b,(0,a.A)({},"".concat(b,"-active"),v&&h<=i&&i<=g)),style:(0,r.A)((0,r.A)({},y),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){s(i)}},o)},O=function(e){var t=e.prefixCls,n=e.marks,r=e.onClick,a="".concat(t,"-mark");return n.length?p.createElement("div",{className:a},n.map(function(e){var t=e.value,n=e.style,o=e.label;return p.createElement(A,{key:t,prefixCls:a,style:n,value:t,onClick:r},o)})):null},R=function(e){var t=e.prefixCls,n=e.value,o=e.style,i=e.activeStyle,s=p.useContext(w),l=s.min,c=s.max,d=s.direction,f=s.included,h=s.includedStart,g=s.includedEnd,v="".concat(t,"-dot"),b=f&&h<=n&&n<=g,y=(0,r.A)((0,r.A)({},m(d,n,l,c)),"function"==typeof o?o(n):o);return b&&(y=(0,r.A)((0,r.A)({},y),"function"==typeof i?i(n):i)),p.createElement("span",{className:u()(v,(0,a.A)({},"".concat(v,"-active"),b)),style:y})},I=function(e){var t=e.prefixCls,n=e.marks,r=e.dots,a=e.style,o=e.activeStyle,i=p.useContext(w),s=i.min,l=i.max,u=i.step,c=p.useMemo(function(){var e=new Set;if(n.forEach(function(t){e.add(t.value)}),r&&null!==u)for(var t=s;t<=l;)e.add(t),t+=u;return Array.from(e)},[s,l,u,r,n]);return p.createElement("div",{className:"".concat(t,"-step")},c.map(function(e){return p.createElement(R,{prefixCls:t,key:e,value:e,style:a,activeStyle:o})}))},D=function(e){var t=e.prefixCls,n=e.style,o=e.start,i=e.end,s=e.index,l=e.onStartMove,c=e.replaceCls,d=p.useContext(w),f=d.direction,h=d.min,m=d.max,v=d.disabled,b=d.range,y=d.classNames,S="".concat(t,"-track"),x=g(o,h,m),E=g(i,h,m),C=function(e){!v&&l&&l(e,-1)},A={};switch(f){case"rtl":A.right="".concat(100*x,"%"),A.width="".concat(100*E-100*x,"%");break;case"btt":A.bottom="".concat(100*x,"%"),A.height="".concat(100*E-100*x,"%");break;case"ttb":A.top="".concat(100*x,"%"),A.height="".concat(100*E-100*x,"%");break;default:A.left="".concat(100*x,"%"),A.width="".concat(100*E-100*x,"%")}var O=c||u()(S,(0,a.A)((0,a.A)({},"".concat(S,"-").concat(s+1),null!==s&&b),"".concat(t,"-track-draggable"),l),y.track);return p.createElement("div",{className:O,style:(0,r.A)((0,r.A)({},A),n),onMouseDown:C,onTouchStart:C})},P=function(e){var t=e.prefixCls,n=e.style,a=e.values,o=e.startPoint,i=e.onStartMove,s=p.useContext(w),l=s.included,c=s.range,d=s.min,f=s.styles,h=s.classNames,g=p.useMemo(function(){if(!c){if(0===a.length)return[];var e=null!=o?o:d,t=a[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],r=0;r<a.length-1;r+=1)n.push({start:a[r],end:a[r+1]});return n},[a,c,o,d]);if(!l)return null;var m=h.tracks||f.tracks?p.createElement(D,{index:null,prefixCls:t,start:g[0].start,end:g[g.length-1].end,replaceCls:u()(h.tracks,"".concat(t,"-tracks")),style:f.tracks}):null;return p.createElement(p.Fragment,null,m,g.map(function(e,a){var o=e.start,s=e.end;return p.createElement(D,{index:a,prefixCls:t,style:(0,r.A)((0,r.A)({},v(n,a)),f.track),start:o,end:s,key:a,onStartMove:i})}))};var _=n(291);function T(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}const k=p.forwardRef(function(e,t){var n=e.prefixCls,l=void 0===n?"rc-slider":n,f=e.className,h=e.style,g=e.classNames,m=e.styles,v=e.disabled,b=void 0!==v&&v,y=e.keyboard,S=void 0===y||y,x=e.autoFocus,E=e.onFocus,A=e.onBlur,R=e.min,D=void 0===R?0:R,k=e.max,M=void 0===k?100:k,B=e.step,L=void 0===B?1:B,N=e.value,V=e.defaultValue,F=e.range,j=e.count,$=e.onChange,z=e.onBeforeChange,H=e.onAfterChange,U=e.onChangeComplete,G=e.allowCross,W=void 0===G||G,q=e.pushable,Q=void 0!==q&&q,Y=e.draggableTrack,X=e.reverse,K=e.vertical,Z=e.included,J=void 0===Z||Z,ee=e.startPoint,te=e.trackStyle,ne=e.handleStyle,re=e.railStyle,ae=e.dotStyle,oe=e.activeDotStyle,ie=e.marks,se=e.dots,le=e.handleRender,ue=e.activeHandleRender,ce=e.tabIndex,de=void 0===ce?0:ce,pe=e.ariaLabelForHandle,fe=e.ariaLabelledByForHandle,he=e.ariaValueTextFormatterForHandle,ge=p.useRef(null),me=p.useRef(null),ve=p.useMemo(function(){return K?X?"ttb":"btt":X?"rtl":"ltr"},[X,K]),be=p.useMemo(function(){return isFinite(D)?D:0},[D]),ye=p.useMemo(function(){return isFinite(M)?M:100},[M]),we=p.useMemo(function(){return null!==L&&L<=0?1:L},[L]),Se=p.useMemo(function(){return"boolean"==typeof Q?!!Q&&we:Q>=0&&Q},[Q,we]),xe=p.useMemo(function(){return Object.keys(ie||{}).map(function(e){var t=ie[e],n={value:Number(e)};return t&&"object"===(0,s.A)(t)&&!p.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n}).filter(function(e){var t=e.label;return t||"number"==typeof t}).sort(function(e,t){return e.value-t.value})},[ie]),Ee=function(e,t,n,r,a,i){var s=p.useCallback(function(n){return Math.max(e,Math.min(t,n))},[e,t]),l=p.useCallback(function(r){if(null!==n){var a=e+Math.round((s(r)-e)/n)*n,o=function(e){return(String(e).split(".")[1]||"").length},i=Math.max(o(n),o(t),o(e)),l=Number(a.toFixed(i));return e<=l&&l<=t?l:null}return null},[n,e,t,s]),u=p.useCallback(function(a){var o=s(a),i=r.map(function(e){return e.value});null!==n&&i.push(l(a)),i.push(e,t);var u=i[0],c=t-e;return i.forEach(function(e){var t=Math.abs(o-e);t<=c&&(u=e,c=t)}),u},[e,t,r,n,s,l]),c=function a(i,s,u){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof s){var d,p=i[u],f=p+s,h=[];r.forEach(function(e){h.push(e.value)}),h.push(e,t),h.push(l(p));var g=s>0?1:-1;"unit"===c?h.push(l(p+g*n)):h.push(l(f)),h=h.filter(function(e){return null!==e}).filter(function(e){return s<0?e<=p:e>=p}),"unit"===c&&(h=h.filter(function(e){return e!==p}));var m="unit"===c?p:f;d=h[0];var v=Math.abs(d-m);if(h.forEach(function(e){var t=Math.abs(e-m);t<v&&(d=e,v=t)}),void 0===d)return s<0?e:t;if("dist"===c)return d;if(Math.abs(s)>1){var b=(0,o.A)(i);return b[u]=d,a(b,s-g,u,c)}return d}return"min"===s?e:"max"===s?t:void 0},d=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e[n],o=c(e,t,n,r);return{value:o,changed:o!==a}},f=function(e){return null===i&&0===e||"number"==typeof i&&e<i};return[u,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e.map(u),s=o[n],l=c(o,t,n,r);if(o[n]=l,!1===a){var p=i||0;n>0&&o[n-1]!==s&&(o[n]=Math.max(o[n],o[n-1]+p)),n<o.length-1&&o[n+1]!==s&&(o[n]=Math.min(o[n],o[n+1]-p))}else if("number"==typeof i||null===i){for(var h=n+1;h<o.length;h+=1)for(var g=!0;f(o[h]-o[h-1])&&g;){var m=d(o,1,h);o[h]=m.value,g=m.changed}for(var v=n;v>0;v-=1)for(var b=!0;f(o[v]-o[v-1])&&b;){var y=d(o,-1,v-1);o[v-1]=y.value,b=y.changed}for(var w=o.length-1;w>0;w-=1)for(var S=!0;f(o[w]-o[w-1])&&S;){var x=d(o,-1,w-1);o[w-1]=x.value,S=x.changed}for(var E=0;E<o.length-1;E+=1)for(var C=!0;f(o[E+1]-o[E])&&C;){var A=d(o,1,E+1);o[E+1]=A.value,C=A.changed}}return{value:o[n],values:o}}]}(be,ye,we,xe,W,Se),Ce=(0,i.A)(Ee,2),Ae=Ce[0],Oe=Ce[1],Re=(0,c.A)(V,{value:N}),Ie=(0,i.A)(Re,2),De=Ie[0],Pe=Ie[1],_e=p.useMemo(function(){var e=null==De?[]:Array.isArray(De)?De:[De],t=(0,i.A)(e,1)[0],n=null===De?[]:[void 0===t?be:t];if(F){if(n=(0,o.A)(e),j||void 0===De){var r=j>=0?j+1:2;for(n=n.slice(0,r);n.length<r;){var a;n.push(null!==(a=n[n.length-1])&&void 0!==a?a:be)}}n.sort(function(e,t){return e-t})}return n.forEach(function(e,t){n[t]=Ae(e)}),n},[De,F,be,j,Ae]),Te=p.useRef(_e);Te.current=_e;var ke=function(e){return F?e:e[0]},Me=function(e){var t=(0,o.A)(e).sort(function(e,t){return e-t});$&&!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=r.has(t);if((0,d.Ay)(!i,"Warning: There may be circular references"),i)return!1;if(t===a)return!0;if(n&&o>1)return!1;r.add(t);var l=o+1;if(Array.isArray(t)){if(!Array.isArray(a)||t.length!==a.length)return!1;for(var u=0;u<t.length;u++)if(!e(t[u],a[u],l))return!1;return!0}if(t&&a&&"object"===(0,s.A)(t)&&"object"===(0,s.A)(a)){var c=Object.keys(t);return c.length===Object.keys(a).length&&c.every(function(n){return e(t[n],a[n],l)})}return!1}(e,t)}(t,Te.current,!0)&&$(ke(t)),Pe(t)},Be=function(){var e=ke(Te.current);null==H||H(e),(0,d.Ay)(!H,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==U||U(e)},Le=function(e,t,n,r,a,s,l,u,c){var d=p.useState(null),f=(0,i.A)(d,2),h=f[0],g=f[1],m=p.useState(-1),v=(0,i.A)(m,2),b=v[0],y=v[1],w=p.useState(n),S=(0,i.A)(w,2),x=S[0],E=S[1],C=p.useState(n),A=(0,i.A)(C,2),O=A[0],R=A[1],I=p.useRef(null),D=p.useRef(null);p.useLayoutEffect(function(){-1===b&&E(n)},[n,b]),p.useEffect(function(){return function(){document.removeEventListener("mousemove",I.current),document.removeEventListener("mouseup",D.current),document.removeEventListener("touchmove",I.current),document.removeEventListener("touchend",D.current)}},[]);var P=function(e,t){x.some(function(t,n){return t!==e[n]})&&(void 0!==t&&g(t),E(e),l(e))},k=(0,_._q)(function(e,t){if(-1===e){var n=O[0],i=O[O.length-1],l=r-n,u=a-i,d=t*(a-r);d=Math.max(d,l),d=Math.min(d,u);var p=s(n+d);d=p-n;var f=O.map(function(e){return e+d});P(f)}else{var h=(a-r)*t,g=(0,o.A)(x);g[e]=O[e];var m=c(g,h,e,"dist");P(m.values,m.value)}}),M=p.useMemo(function(){var e=(0,o.A)(n).sort(function(e,t){return e-t}),t=(0,o.A)(x).sort(function(e,t){return e-t});return e.every(function(e,n){return e===t[n]})?x:n},[n,x]);return[b,h,M,function(r,a,o){r.stopPropagation();var i=o||n,s=i[a];y(a),g(s),R(i);var l=T(r),c=l.pageX,d=l.pageY,p=function(n){n.preventDefault();var r,o=T(n),i=o.pageX,s=o.pageY,l=i-c,u=s-d,p=e.current.getBoundingClientRect(),f=p.width,h=p.height;switch(t){case"btt":r=-u/h;break;case"ttb":r=u/h;break;case"rtl":r=-l/f;break;default:r=l/f}k(a,r)},f=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",p),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",p),I.current=null,D.current=null,y(-1),u()};document.addEventListener("mouseup",f),document.addEventListener("mousemove",p),document.addEventListener("touchend",f),document.addEventListener("touchmove",p),I.current=p,D.current=f}]}(me,ve,_e,be,ye,Ae,Me,Be,Oe),Ne=(0,i.A)(Le,4),Ve=Ne[0],Fe=Ne[1],je=Ne[2],$e=Ne[3],ze=function(e,t){if(!b){var n=0,r=ye-be;_e.forEach(function(t,a){var o=Math.abs(e-t);o<=r&&(r=o,n=a)});var a,i,s=(0,o.A)(_e);s[n]=e,F&&!_e.length&&void 0===j&&s.push(e),null==z||z(ke(s)),Me(s),t&&(null===(a=document.activeElement)||void 0===a||null===(i=a.blur)||void 0===i||i.call(a),ge.current.focus(n),$e(t,n,s))}},He=p.useState(null),Ue=(0,i.A)(He,2),Ge=Ue[0],We=Ue[1];p.useEffect(function(){if(null!==Ge){var e=_e.indexOf(Ge);e>=0&&ge.current.focus(e)}We(null)},[Ge]);var qe=p.useMemo(function(){return(!Y||null!==we)&&Y},[Y,we]),Qe=function(e,t){$e(e,t),null==z||z(ke(Te.current))},Ye=-1!==Ve;p.useEffect(function(){if(!Ye){var e=_e.lastIndexOf(Fe);ge.current.focus(e)}},[Ye]);var Xe=p.useMemo(function(){return(0,o.A)(je).sort(function(e,t){return e-t})},[je]),Ke=p.useMemo(function(){return F?[Xe[0],Xe[Xe.length-1]]:[be,Xe[0]]},[Xe,F,be]),Ze=(0,i.A)(Ke,2),Je=Ze[0],et=Ze[1];p.useImperativeHandle(t,function(){return{focus:function(){ge.current.focus(0)},blur:function(){var e,t=document.activeElement;null!==(e=me.current)&&void 0!==e&&e.contains(t)&&(null==t||t.blur())}}}),p.useEffect(function(){x&&ge.current.focus(0)},[]);var tt=p.useMemo(function(){return{min:be,max:ye,direction:ve,disabled:b,keyboard:S,step:we,included:J,includedStart:Je,includedEnd:et,range:F,tabIndex:de,ariaLabelForHandle:pe,ariaLabelledByForHandle:fe,ariaValueTextFormatterForHandle:he,styles:m||{},classNames:g||{}}},[be,ye,ve,b,S,we,J,Je,et,F,de,pe,fe,he,m,g]);return p.createElement(w.Provider,{value:tt},p.createElement("div",{ref:me,className:u()(l,f,(0,a.A)((0,a.A)((0,a.A)((0,a.A)({},"".concat(l,"-disabled"),b),"".concat(l,"-vertical"),K),"".concat(l,"-horizontal"),!K),"".concat(l,"-with-marks"),xe.length)),style:h,onMouseDown:function(e){e.preventDefault();var t,n=me.current.getBoundingClientRect(),r=n.width,a=n.height,o=n.left,i=n.top,s=n.bottom,l=n.right,u=e.clientX,c=e.clientY;switch(ve){case"btt":t=(s-c)/a;break;case"ttb":t=(c-i)/a;break;case"rtl":t=(l-u)/r;break;default:t=(u-o)/r}ze(Ae(be+t*(ye-be)),e)}},p.createElement("div",{className:u()("".concat(l,"-rail"),null==g?void 0:g.rail),style:(0,r.A)((0,r.A)({},re),null==m?void 0:m.rail)}),p.createElement(P,{prefixCls:l,style:te,values:Xe,startPoint:ee,onStartMove:qe?Qe:void 0}),p.createElement(I,{prefixCls:l,marks:xe,dots:se,style:ae,activeStyle:oe}),p.createElement(C,{ref:ge,prefixCls:l,style:ne,values:je,draggingIndex:Ve,onStartMove:Qe,onOffsetChange:function(e,t){if(!b){var n=Oe(_e,e,t);null==z||z(ke(_e)),Me(n.values),We(n.value)}},onFocus:E,onBlur:A,handleRender:le,activeHandleRender:ue,onChangeComplete:Be}),p.createElement(O,{prefixCls:l,marks:xe,onClick:ze})))})},7774:(e,t,n)=>{"use strict";var r=n(9997),a=n(2007),o=n(5959),i=n(6089),s=(n(3241),n(8531)),l=(n(8088),n(7781)),u=n(1269),c=n(9089);n(4354);const d={form:{root:r.createSelector(e=>`data-testid form-${e}`),sectionHeader:r.createSelector(e=>`data-testid form section-${e}`,"headerDataTestId"),sectionContent:r.createSelector(e=>`data-testid form section-content-${e}`,"contentDataTestId"),fieldSelect:r.createSelector(e=>`form field-select-${e}`),fieldCustom:r.createSelector(e=>`data-testid form field-custom-${e}`),fieldSlider:r.createSelector(e=>`data-testid form field-slider-${e}`),fieldRangeSlider:r.createSelector(e=>`form field-range-slider-${e}`,"sliderAriaLabel"),fieldNumberInput:r.createSelector(e=>`data-testid form field-number-input-${e}`),fieldColor:r.createSelector(e=>`data-testid form field-color-${e}`),fieldInput:r.createSelector(e=>`data-testid form field-input-${e}`),fieldDatetime:r.createSelector(()=>"data-testid date-time-input"),fieldRadio:r.createSelector(e=>`data-testid form field-radio-${e}`)},codeEditor:{copyButton:r.createSelector(()=>"data-testid code-editor copy-button"),copyPasteText:r.createSelector(()=>"data-testid code-editor copy-paste-text"),modal:r.createSelector(()=>"data-testid code-editor modal-window"),miniMapButton:r.createSelector(()=>"data-testid code-editor mini-map-button"),modalButton:r.createSelector(e=>`data-testid code-editor modal-button-${e}`),pasteButton:r.createSelector(()=>"data-testid code-editor paste-button"),wrapButton:r.createSelector(()=>"data-testid code-editor wrap-button")},datasourceEditor:{fieldSelect:r.createSelector("data-testid datasource-editor field-select")},payloadEditor:{loadingMessage:r.createSelector("data-testid payload-editor loading-message"),errorMessage:r.createSelector("data-testid payload-editor error-message")},alertWithDetails:{root:r.createSelector("data-testid alert-with-details root"),detailsSectionHeader:r.createSelector("data-testid alert-with-details details-section-header"),detailsSectionContent:r.createSelector("data-testid alert-with-details details-section-content")}},p=e=>({rootOutline:i.css`
      border: 1px solid ${e.colors.border.weak};
      background-color: ${e.colors.background.primary};
    `,header:i.css`
      padding: ${e.spacing(.5,.5)};
      min-height: ${e.spacing(4)};
      display: flex;
      align-items: center;
      justify-content: flex-start;
      white-space: nowrap;

      &:focus {
        outline: none;
      }
    `,headerSolid:i.css`
      border-radius: ${e.shape.radius?.default};
      background: ${e.colors.background.secondary};
    `,title:i.css`
      font-weight: ${e.typography.fontWeightBold};
      margin: ${e.spacing(0,.5)};
      overflow: hidden;
      text-overflow: ellipsis;
    `,collapseIcon:i.css`
      margin-left: ${e.spacing(.5)};
      color: ${e.colors.text.disabled};
    `,actions:i.css`
      margin-left: auto;
      display: flex;
      align-items: center;
    `});class f{constructor(e,t){this.error=e,e&&"object"==typeof e?"message"in e&&"string"==typeof e.message?this.message=e.message:this.message=JSON.stringify(e,null,2):this.message="Unknown Error",this.message+=`\nRequest: ${t}`}}const h=()=>{const[e,t]=o.useState([]);return o.useEffect(()=>{(async()=>{const e=s.getDataSourceSrv().getList({alerting:!1,tracing:!1,metrics:!1,logs:!1,dashboard:!1,mixed:!1,variables:!0,annotations:!1,filter:e=>"grafana"!==e.uid});t(e)})()},[]),e};var g=(e=>(e.SELECT="select",e.SLIDER="slider",e.GROUP="group",e.CUSTOM="custom",e.COLOR="color",e.RADIO="radio",e.HIDDEN="hidden",e.INPUT="input",e.NUMBER_INPUT="numberInput",e.RANGE_SLIDER="rangeSlider",e.DATETIME_PICKER="datetimePicker",e))(g||{});const m=(e,t)=>{if(0===t.length)return e;let n=0;for(;n<t.length;){if(e<=t[n]){if(e===t[n])return e;const r=t[Math.max(n-1,0)],a=t[n];return e-r<a-e?r:a}n+=1}return t[t.length-1]},v=({value:e,onChange:t,min:n,max:r,step:i,steps:s,...l})=>{const u=o.useRef(null),c=o.useRef(!1),[d,p]=o.useState(e?.toString()??"0"),f=o.useCallback(e=>{p(e.currentTarget.value),c.current=!0},[]),h=o.useCallback(()=>{let e=Number(d);if(Number.isNaN(e)&&(e=0),void 0!==i){let t=1e3*i;for(void 0!==n&&(t=1e3*n);t<1e3*e;)t+=1e3*i;e=t/1e3}void 0!==r&&e>r?e=r:void 0!==n&&e<n&&(e=n),void 0!==s&&(e=m(e,s)),c.current&&(t?.(e),p(e.toString()),c.current=!1)},[d,r,n,t,i,s]),g=o.useCallback(e=>{"Enter"===e.key&&u.current?.blur()},[h]);return o.useEffect(()=>{p(e?.toString()||"0")},[e]),o.createElement(a.Input,{ref:u,...l,type:"text",value:d,onChange:f,onBlur:h,onKeyDown:g})},{default:b}=n(1150),{default:y}=(a.stylesFactory((e,t,n=!1)=>{const{spacing:r}=e,a=e.colors.border.strong,o=e.colors.primary.main,s=e.colors.primary.main,l=`box-shadow: 0px 0px 0px 6px ${e.colors.primary.transparent}`;return{container:i.css({width:"100%",margin:t?r(1,0,2.5):r(1,3,1,1),paddingBottom:t&&n?e.spacing(1):"inherit",height:t?"auto":"100%"}),slider:i.css`
      .rc-slider {
        display: flex;
        flex-grow: 1;
        margin-left: 7px; // half the size of the handle to align handle to the left on 0 value
      }
      .rc-slider-mark {
        top: ${e.spacing(1.75)};
      }
      .rc-slider-mark-text {
        color: ${e.colors.text.disabled};
        font-size: ${e.typography.bodySmall.fontSize};
      }
      .rc-slider-mark-text-active {
        color: ${e.colors.text.primary};
      }
      .rc-slider-handle {
        border: none;
        background-color: ${s};
        box-shadow: ${e.shadows.z1};
        cursor: pointer;
        opacity: 1;
      }

      .rc-slider-handle:hover,
      .rc-slider-handle:active,
      .rc-slider-handle-click-focused:focus {
        ${l};
      }

      // The triple class names is needed because that's the specificity used in the source css :(
      .rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging,
      .rc-slider-handle:focus-visible {
        box-shadow: 0 0 0 4px ${e.colors.text.primary};
      }

      .rc-slider-dot,
      .rc-slider-dot-active {
        background-color: ${e.colors.text.primary};
        border-color: ${e.colors.text.primary};
      }

      .rc-slider-track {
        background-color: ${o};
      }
      .rc-slider-rail {
        background-color: ${a};
        cursor: pointer;
      }
    `,tooltip:c.css`
      body {
        .rc-slider-tooltip {
          cursor: grab;
          user-select: none;
          z-index: ${e.zIndex.tooltip};
        }

        .rc-slider-tooltip-inner {
          color: ${e.colors.text.primary};
          background-color: transparent !important;
          border-radius: 0;
          box-shadow: none;
        }

        .rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {
          display: none;
        }

        .rc-slider-tooltip-placement-top {
          padding: 0;
        }
        
        .rc-tooltip-hidden {
          display: none;
        }
      }
    `,sliderInput:i.css({display:"flex",flexDirection:"row",alignItems:"center",width:"100%"}),sliderInputVertical:i.css({flexDirection:"column",height:"100%",".rc-slider":{margin:0,order:2}}),sliderInputField:i.css({marginLeft:e.spacing(3),input:{textAlign:"center"}}),sliderInputFieldVertical:i.css({margin:`0 0 ${e.spacing(3)} 0`,order:1})}}),n(7767)),{default:w}=n(7767),S=({min:e,max:t,onChange:n,onAfterChange:r,orientation:s="horizontal",reverse:l,step:u,value:d,marks:p,included:f,inputWidth:h=8,sliderAriaLabel:g,disabled:b,steps:y,...S})=>{const x="horizontal"===s,E=a.useTheme2(),C=((e,t,n=!1)=>{const{spacing:r}=e,a=e.colors.border.strong,o=e.colors.primary.main,s=e.colors.primary.main,l=`box-shadow: 0px 0px 0px 6px ${e.colors.primary.transparent}`;return{container:i.css({width:"100%",margin:t?"inherit":r(1,3,1,1),paddingBottom:t&&n?e.spacing(1):"inherit",height:t?"auto":"100%"}),slider:i.css`
      .rc-slider {
        display: flex;
        flex-grow: 1;
        margin-left: 7px; // half the size of the handle to align handle to the left on 0 value
      }
      .rc-slider-mark {
        top: ${e.spacing(1.75)};
      }
      .rc-slider-mark-text {
        color: ${e.colors.text.disabled};
        font-size: ${e.typography.bodySmall.fontSize};
      }
      .rc-slider-mark-text-active {
        color: ${e.colors.text.primary};
      }
      .rc-slider-handle {
        border: none;
        background-color: ${s};
        box-shadow: ${e.shadows.z1};
        cursor: pointer;
        opacity: 1;
      }

      .rc-slider-handle:hover,
      .rc-slider-handle:active,
      .rc-slider-handle-click-focused:focus {
        ${l};
      }

      // The triple class names is needed because that's the specificity used in the source css :(
      .rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging,
      .rc-slider-handle:focus-visible {
        box-shadow: 0 0 0 5px ${e.colors.text.primary};
      }

      .rc-slider-dot,
      .rc-slider-dot-active {
        background-color: ${e.colors.text.primary};
        border-color: ${e.colors.text.primary};
      }

      .rc-slider-track {
        background-color: ${o};
      }
      .rc-slider-rail {
        background-color: ${a};
        cursor: pointer;
      }
    `,tooltip:c.css`
      body {
        .rc-slider-tooltip {
          cursor: grab;
          user-select: none;
          z-index: ${e.zIndex.tooltip};
        }

        .rc-slider-tooltip-inner {
          color: ${e.colors.text.primary};
          background-color: transparent !important;
          border-radius: 0;
          box-shadow: none;
        }

        .rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {
          display: none;
        }

        .rc-slider-tooltip-placement-top {
          padding: 0;
        }
      }
    `,sliderInput:i.css({display:"flex",flexDirection:"row",alignItems:"center",width:"100%"}),sliderInputVertical:i.css({flexDirection:"column",height:"100%",".rc-slider":{margin:0,order:2}}),sliderInputField:i.css({marginLeft:e.spacing(3),input:{textAlign:"center"}}),sliderInputFieldVertical:i.css({margin:`0 0 ${e.spacing(3)} 0`,order:1})}})(E,x,Boolean(p)),A=w,[O,R]=o.useState(d??e),I=o.useCallback(e=>y?m(e,y):e,[y]),D=o.useCallback(e=>{const t="number"==typeof e?e:e[0],r=I(t);R(r),n?.(r)},[R,n,I]),P=o.useCallback(e=>{R(e),n&&n(e),r&&r(e)},[r,n]),_=o.useCallback(e=>{const t="number"==typeof e?e:e[0],n=I(t);r?.(n)},[r,I]);o.useEffect(()=>{d!==O&&R(d??e)},[d,O,e]);const T=x?[]:[C.sliderInputVertical],k=x?[]:[C.sliderInputFieldVertical];return o.createElement("div",{className:i.cx(C.container,C.slider)},o.createElement(c.Global,{styles:C.tooltip}),o.createElement("div",{className:i.cx(C.sliderInput,...T)},o.createElement(A,{min:e,max:t,step:u,defaultValue:d,value:O,onChange:D,onChangeComplete:_,vertical:!x,reverse:l,marks:p,included:f,ariaLabelForHandle:g,disabled:b}),h>0&&o.createElement(v,{className:i.cx(C.sliderInputField,...k,i.css`
                min-width: ${E.spacing(h)};
                width: ${E.spacing(h)};
              `),value:O,onChange:P,min:e,max:t,step:u,"data-testid":S["data-testid"],disabled:b,steps:y})))};S.displayName="Slider";d.form;t.SD=({title:e,actions:t,children:n,isOpen:r=!1,onToggle:s,headerTestId:l,contentTestId:u,fill:c="outline",isInlineContent:d=!1,isExpandDisabled:f=!1})=>{const h=a.useTheme2(),g=a.useStyles2(p),m="solid"===c,v="outline"===c;return o.createElement("div",{className:i.cx({[g.rootOutline]:v})},o.createElement("div",{className:i.cx(g.header,{[g.headerSolid]:m}),"data-testid":l,onClick:()=>{f||s?.(!r)}},o.createElement(a.IconButton,{name:r?"angle-down":"angle-right",tooltip:r?"Collapse":"Expand",className:g.collapseIcon,disabled:f,"aria-expanded":r}),o.createElement("div",{className:g.title},e),t&&o.createElement("div",{className:g.actions,onClick:e=>e.stopPropagation()},t)),r&&o.createElement("div",{style:{padding:d?0:h.spacing(.5)},"data-testid":u},n))},t.dy=({value:e,onChange:t})=>{const n=h(),r=o.useMemo(()=>n.map(e=>({label:e.name,value:e.uid})),[n]);return o.createElement(a.Select,{onChange:e=>{t(e.value)},options:r,value:e,...d.datasourceEditor.fieldSelect.apply()})},t.lp=({value:e,onChange:t,datasourceUid:n})=>{const r=s.getDataSourceSrv(),i=s.getTemplateSrv(),[l,u]=o.useState(),[c,p]=o.useState(!0),{startTimer:f,removeTimer:h}=(()=>{const e=o.useRef(null),t=o.useCallback(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]);return{startTimer:o.useCallback(n=>{t(),e.current=setTimeout(()=>{n(),e.current=null},1e3)},[t]),removeTimer:t}})(),[g,m]=o.useState(e),[v,b]=o.useState(!1),y=o.useCallback(e=>{m(e),b(!0)},[]),w=o.useCallback(()=>null,[]),S=o.useCallback(()=>{t(g),b(!1)},[t,g]);if(o.useEffect(()=>{const e=async e=>{p(!0);const t=await r.get(e);return p(!1),t};(async()=>{const t=l,r=i.replace(n);if(t&&t.uid!==r){const n=await e(r);t.type!==n.type&&y({}),u(n)}r&&!l&&u(await e(r))})()},[n,r,l,y,i]),o.useEffect(()=>(v?f(S):h(),()=>{h()}),[f,v,S,h]),c)return o.createElement(a.Alert,{severity:"info",title:"Please Wait",...d.payloadEditor.loadingMessage.apply()},o.createElement(a.LoadingPlaceholder,{text:"Loading..."}));if(!l||!l.components?.QueryEditor)return o.createElement(a.Alert,{title:"No Query Editor",severity:"error",...d.payloadEditor.errorMessage.apply()});const x=l.components.QueryEditor;return o.createElement(x,{datasource:l,query:g,onChange:y,onRunQuery:w})},t.Q7=v,t.Ap=S,t.fD=({eventBus:e,variableName:t,refreshCheckCount:n=5,refreshCheckInterval:r=500,getOne:a,toState:i,initial:l})=>{const u=o.useRef({getOne:a,toState:i}),[c,d]=o.useState(l),[p,f]=o.useState(),h=window.__grafanaSceneContext?.useState(),[g,m]=o.useReducer(e=>e+1,0),v=o.useRef(null);o.useEffect(()=>{if(!h?.$variables?.state.variables||g>=n)return;const e=h.$variables?.state.variables,t=e?.some(e=>e?.state.loading),a=()=>{v.current&&(clearTimeout(v.current),v.current=null)};return t?v.current=setTimeout(()=>{m()},r):(a(),d(u.current.toState(s.getTemplateSrv().getVariables()))),()=>{a()}},[h?.$variables?.state.variables,g]),o.useEffect(()=>{d(u.current.toState(s.getTemplateSrv().getVariables()));const t=e.getStream(s.RefreshEvent).subscribe(()=>{d(u.current.toState(s.getTemplateSrv().getVariables()))});return()=>{t.unsubscribe()}},[e]);const b=o.useCallback(e=>u.current.getOne(c,e),[c]);return o.useEffect(()=>{f(b(t))},[b,t]),{variable:p,getVariable:b,variables:c}},t.ki=()=>o.useCallback(async({query:e,datasource:t,replaceVariables:n,payload:r})=>{const a=await s.getDataSourceSrv().get(t),o=n(JSON.stringify(e,null,2),{payload:{value:r}}),i=JSON.parse(o);try{const e=a.query({targets:[i]}),t=e=>{if(e.state&&e.state===l.LoadingState.Error)throw e?.errors?.[0]||e;return e};return e instanceof Promise?await e.then(t):await u.lastValueFrom(e).then(t)}catch(e){throw new f(e,o)}},[])},7781:t=>{"use strict";t.exports=e},7840:(e,t,n)=>{"use strict";const r=n(7944),a=n(8395);e.exports=(e,t,n)=>{let o=null,i=null,s=null;try{s=new a(t,n)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(o&&-1!==i.compare(e)||(o=e,i=new r(o,n)))}),o}},7850:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(6438);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||(0,r.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7871:(e,t,n)=>{"use strict";const r=n(5463);e.exports=(e,t,n)=>r(e,t,">",n)},7930:(e,t,n)=>{"use strict";const r=n(7944),a=n(8395);e.exports=(e,t,n)=>{let o=null,i=null,s=null;try{s=new a(t,n)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(o&&1!==i.compare(e)||(o=e,i=new r(o,n)))}),o}},7944:(e,t,n)=>{"use strict";const r=n(9796),{MAX_LENGTH:a,MAX_SAFE_INTEGER:o}=n(9630),{safeRe:i,t:s}=n(6850),l=n(7095),{compareIdentifiers:u}=n(4031);class c{constructor(e,t){if(t=l(t),e instanceof c){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>a)throw new TypeError(`version is longer than ${a} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?i[s.LOOSE]:i[s.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],a=e.prerelease[t];if(r("prerelease compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return u(n,a)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{const n=this.build[t],a=e.build[t];if(r("build compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return u(n,a)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?i[s.PRERELEASELOOSE]:i[s.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=c},7988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},7994:(e,t,n)=>{"use strict";const r=n(5860);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},7997:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},8088:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdHocFiltersVariable:()=>tl,ConstantVariable:()=>ou,ControlsLabel:()=>dr,CustomVariable:()=>Ff,DataProviderProxy:()=>af,DataSourceVariable:()=>Gf,EmbeddedScene:()=>Bh,FieldConfigBuilder:()=>cb,FieldConfigBuilders:()=>Cb,FieldConfigOverridesBuilder:()=>eb,GroupByVariable:()=>sr,IntervalVariable:()=>Eh,LocalValueVariable:()=>vh,MultiValueVariable:()=>Bt,NestedScene:()=>zg,NewSceneObjectAddedEvent:()=>Ph,PanelBuilders:()=>wb,PanelOptionsBuilders:()=>Eb,QueryVariable:()=>Mu,RuntimeDataSource:()=>ce,SafeSerializableSceneObject:()=>Kn,SceneApp:()=>Zm,SceneAppPage:()=>vv,SceneByFrameRepeater:()=>Om,SceneByVariableRepeater:()=>Rm,SceneCSSGridItem:()=>Vm,SceneCSSGridLayout:()=>Nm,SceneCanvasText:()=>Ug,SceneControlsSpacer:()=>Im,SceneDataLayerBase:()=>hd,SceneDataLayerControls:()=>gd,SceneDataLayerSet:()=>hf,SceneDataLayerSetBase:()=>ff,SceneDataNode:()=>Qe,SceneDataTransformer:()=>Cf,SceneDebugger:()=>pv,SceneFlexItem:()=>Pm,SceneFlexLayout:()=>Dm,SceneGridItem:()=>jh,SceneGridLayout:()=>Dg,SceneGridRow:()=>jg,SceneObjectBase:()=>J,SceneObjectRef:()=>W,SceneObjectStateChangedEvent:()=>z,SceneObjectUrlSyncConfig:()=>Xe,SceneQueryRunner:()=>yl,SceneReactObject:()=>sv,SceneRefreshPicker:()=>sm,SceneTimePicker:()=>qg,SceneTimeRange:()=>st,SceneTimeRangeCompare:()=>Em,SceneTimeRangeTransformerBase:()=>qp,SceneTimeZoneOverride:()=>rf,SceneToolbarButton:()=>Gg,SceneToolbarInput:()=>Wg,SceneVariableSet:()=>_f,SceneVariableValueChangedEvent:()=>pt,SplitLayout:()=>Km,TestVariable:()=>nh,TextBoxVariable:()=>uh,UrlSyncContextProvider:()=>Mh,UrlSyncManager:()=>_h,UserActionEvent:()=>H,VariableDependencyConfig:()=>iu,VariableValueControl:()=>Pf,VariableValueSelectWrapper:()=>Of,VariableValueSelectors:()=>Af,VizConfigBuilder:()=>Sb,VizConfigBuilders:()=>xb,VizPanel:()=>od,VizPanelBuilder:()=>yb,VizPanelExploreButton:()=>Fh,VizPanelMenu:()=>Nh,behaviors:()=>r,dataLayers:()=>a,formatRegistry:()=>bt,getExploreURL:()=>Vh,isCustomVariableValue:()=>ft,isDataLayer:()=>Jt,isDataRequestEnricher:()=>Kt,isFiltersRequestEnricher:()=>Zt,isSceneObject:()=>Xt,registerQueryWithController:()=>en,registerRuntimeDataSource:()=>pe,renderSelectForVariable:()=>Wn,sceneGraph:()=>ju,sceneUtils:()=>Ab,useSceneApp:()=>tv,useSceneObjectState:()=>ee,useUrlSync:()=>kh});var r={};n.r(r),n.d(r,{ActWhenVariableChanged:()=>qu,CursorSync:()=>rc,LiveNowTimer:()=>sd,SceneQueryController:()=>Ve});var a={};n.r(a),n.d(a,{AnnotationsDataLayer:()=>Wp});var o=n(5959),i=n.t(o,2),s=n.n(o),l=n(3806),u=n(7781),c=n(8531),d=Object.defineProperty,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function m(e,t,n){const r=((e,t)=>{for(var n in t||(t={}))f.call(t,n)&&g(e,n,t[n]);if(p)for(var n of p(t))h.call(t,n)&&g(e,n,t[n]);return e})({},t);if(n)for(const e of Object.keys(r))n.includes(e)||delete r[e];return u.urlUtil.renderUrl(u.locationUtil.assureBaseUrl(e),r)}function v(e,t){return s().createElement(e.Component,{model:e,routeProps:t})}var b=Object.defineProperty,y=Object.defineProperties,w=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,C=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const A=new Map;var O=n(1269);const R={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let I;const D=new Uint8Array(16);function P(){if(!I&&(I="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!I))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I(D)}const _=[];for(let e=0;e<256;++e)_.push((e+256).toString(16).slice(1));const T=function(e,t,n){if(R.randomUUID&&!t&&!e)return R.randomUUID();const r=(e=e||{}).random||(e.rng||P)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return _[e[t+0]]+_[e[t+1]]+_[e[t+2]]+_[e[t+3]]+"-"+_[e[t+4]]+_[e[t+5]]+"-"+_[e[t+6]]+_[e[t+7]]+"-"+_[e[t+8]]+_[e[t+9]]+"-"+_[e[t+10]]+_[e[t+11]]+_[e[t+12]]+_[e[t+13]]+_[e[t+14]]+_[e[t+15]]}(r)};var k=Object.defineProperty,M=Object.defineProperties,B=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,F=(e,t,n)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const j=s().memo(function(e){var t,n=e,{model:r}=n,a=((e,t)=>{var n={};for(var r in e)N.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&L)for(var r of L(e))t.indexOf(r)<0&&V.call(e,r)&&(n[r]=e[r]);return n})(n,["model"]);const i=null!=(t=r.constructor.Component)?t:$,[l,u]=(0,o.useState)(0);return(0,o.useEffect)(()=>{const e=r.activate();return u(e=>e+1),e},[r]),r.isActive||r.renderBeforeActivation?s().createElement(i,(c=((e,t)=>{for(var n in t||(t={}))N.call(t,n)&&F(e,n,t[n]);if(L)for(var n of L(t))V.call(t,n)&&F(e,n,t[n]);return e})({},a),M(c,B({model:r})))):null;var c});function $(e){return null}class z extends u.BusEventWithPayload{}z.type="scene-object-state-change";class H extends u.BusEventWithPayload{}H.type="scene-object-user-action";var U,G=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};class W{constructor(e){var t,n;((e,t)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,void 0)})(this,U),n=e,G(this,t=U,"write to private field"),t.set(this,n)}resolve(){return G(this,e=U,"read from private field"),e.get(this);var e}}U=new WeakMap;var q=Object.defineProperty,Q=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,K=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z=(e,t)=>{for(var n in t||(t={}))Y.call(t,n)&&K(e,n,t[n]);if(Q)for(var n of Q(t))X.call(t,n)&&K(e,n,t[n]);return e};class J{constructor(e){this._isActive=!1,this._activationHandlers=[],this._deactivationHandlers=new Map,this._subs=new O.Subscription,this._refCount=0,this._renderBeforeActivation=!1,e.key||(e.key=T()),this._events=new u.EventBusSrv,this._state=Object.freeze(e),this._setParent(this._state)}get state(){return this._state}get isActive(){return this._isActive}get renderBeforeActivation(){return this._renderBeforeActivation}get parent(){return this._parent}get variableDependency(){return this._variableDependency}get urlSync(){return this._urlSync}get Component(){return j}_setParent(e){te(e,e=>{e._parent&&e._parent!==this&&console.warn("SceneObject already has a parent set that is different from the new parent. You cannot share the same SceneObject instance in multiple scenes or in multiple different places of the same scene graph. Use SceneObject.clone() to duplicate a SceneObject or store a state key reference and use sceneGraph.findObject to locate it.",e,this),e._parent=this})}clearParent(){this._parent=void 0}subscribeToState(e){return this._events.subscribe(z,t=>{t.payload.changedObject===this&&e(t.payload.newState,t.payload.prevState)})}subscribeToEvent(e,t){return this._events.subscribe(e,t)}setState(e){const t=this._state,n=Z(Z({},this._state),e);this._state=Object.freeze(n),this._setParent(e),this._handleActivationOfChangedStateProps(t,n),this.publishEvent(new z({prevState:t,newState:n,partialUpdate:e,changedObject:this}),!0)}_handleActivationOfChangedStateProps(e,t){this.isActive&&(e.$behaviors!==t.$behaviors&&this._handleChangedBehaviors(e.$behaviors,t.$behaviors),e.$data!==t.$data&&this._handleChangedStateActivation(e.$data,t.$data),e.$variables!==t.$variables&&this._handleChangedStateActivation(e.$variables,t.$variables),e.$timeRange!==t.$timeRange&&this._handleChangedStateActivation(e.$timeRange,t.$timeRange))}_handleChangedStateActivation(e,t){if(e){const t=this._deactivationHandlers.get(e);t&&(t(),this._deactivationHandlers.delete(e))}t&&this._deactivationHandlers.set(t,t.activate())}_handleChangedBehaviors(e,t){if(e)for(const n of e)if(!t||!t.includes(n)){const e=this._deactivationHandlers.get(n);e&&(e(),this._deactivationHandlers.delete(n))}if(t)for(const n of t)e&&e.includes(n)||this._activateBehavior(n)}publishEvent(e,t){this._events.publish(e),t&&this.parent&&this.parent.publishEvent(e,t)}getRoot(){return this._parent?this._parent.getRoot():this}_internalActivate(){this._isActive=!0;const{$data:e,$variables:t,$timeRange:n,$behaviors:r}=this.state;if(this._activationHandlers.forEach(e=>{const t=e();t&&this._deactivationHandlers.set(t,t)}),n&&!n.isActive&&this._deactivationHandlers.set(n,n.activate()),t&&!t.isActive&&this._deactivationHandlers.set(t,t.activate()),e&&!e.isActive&&this._deactivationHandlers.set(e,e.activate()),r)for(const e of r)this._activateBehavior(e)}_activateBehavior(e){if(e instanceof J)this._deactivationHandlers.set(e,e.activate());else if("function"==typeof e){const t=e(this);t&&this._deactivationHandlers.set(e,t)}}activate(){this.isActive||this._internalActivate(),this._refCount++;let e=!1;return()=>{if(this._refCount--,e)throw new Error("SceneObject cancelation handler returned by activate() called a second time");e=!0,0===this._refCount&&this._internalDeactivate()}}_internalDeactivate(){this._isActive=!1;for(let e of this._deactivationHandlers.values())e();this._deactivationHandlers.clear(),this._events.removeAllListeners(),this._subs.unsubscribe(),this._subs=new O.Subscription}useState(){return ee(this)}forceRender(){this.setState({})}clone(e){return function(e,t){const n=le(e.state,t);return new e.constructor(n)}(this,e)}addActivationHandler(e){this._activationHandlers.push(e)}forEachChild(e){te(this.state,e)}getRef(){return this._ref||(this._ref=new W(this)),this._ref}}function ee(e,t){var n;const[r,a]=(0,o.useState)(e.state),i=e.state,s=null!=(n=null==t?void 0:t.shouldActivateOrKeepAlive)&&n;return(0,o.useEffect)(()=>{let t;s&&(t=e.activate());const n=e.subscribeToState(e=>{a(e)});return e.state!==i&&a(e.state),()=>{n.unsubscribe(),t&&t()}},[e,s]),e.state}function te(e,t){for(const n of Object.values(e))if(n instanceof J&&t(n),Array.isArray(n))for(const e of n)e instanceof J&&t(e)}var ne=Object.defineProperty,re=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,ie=(e,t,n)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,se=(e,t)=>{for(var n in t||(t={}))ae.call(t,n)&&ie(e,n,t[n]);if(re)for(var n of re(t))oe.call(t,n)&&ie(e,n,t[n]);return e};function le(e,t){const n=se({},e);Object.assign(n,t);for(const e in n){if(t&&void 0!==t[e])continue;const r=n[e];if(r instanceof J&&(n[e]=r.clone()),r instanceof W)console.warn("Cloning object with SceneObjectRef");else if(Array.isArray(r)){const t=[];for(const e of r)e instanceof J?t.push(e.clone()):t.push(e);n[e]=t}}return n}function ue(e,t){let n,r=e;for(;r&&!n;)n=t(r),r=r.parent;return n}class ce extends u.DataSourceApi{constructor(e,t){super({name:"RuntimeDataSource-"+e,uid:t,type:e,id:1,readOnly:!0,jsonData:{},access:"direct",meta:{id:e,name:"RuntimeDataSource-"+e,type:u.PluginType.datasource,info:{author:{name:""},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""},module:"",baseUrl:""}})}testDatasource(){return Promise.resolve({})}}const de=new Map;function pe({dataSource:e}){if(de.has(e.uid))throw new Error(`A runtime data source with uid ${e.uid} has already been registered`);de.set(e.uid,e)}var fe=n(3241);function he(e,t){const n=t.state.$variables;if(!n)return t.parent?he(e,t.parent):null;return n.getByName(e)||(t.parent?he(e,t.parent):null)}function ge(e,t,...n){let r=!1;"undefined"!=typeof window&&(r="true"===localStorage.getItem("grafana.debug.scenes")),r&&console.log(`${e}: `,t,...n)}var me,ve,be,ye,we=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Se=(e,t,n)=>(we(e,t,"read from private field"),n?n.call(e):t.get(e)),xe=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ee=(e,t,n,r)=>(we(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class Ce{constructor(e){this.queryController=e,xe(this,me,null),xe(this,ve,null),xe(this,be,null),xe(this,ye,[]),this.lastFrameTime=0,this.measureTrailingFrames=(e,t,n)=>{const r=performance.now(),a=r-t;if(Se(this,ye).push(a),r-e<2e3)Ee(this,be,requestAnimationFrame(()=>this.measureTrailingFrames(e,r,n)));else{const t=function(e){for(let t=e.length-1;t>=0;t--)if(e[t]>30)return e.slice(0,t+1);return[e[0]]}(Se(this,ye)),r=t.reduce((e,t)=>e+t,0);ge(this.constructor.name,"Profile tail recorded, slow frames duration:",r,t,Se(this,me)),Ee(this,ye,[]);const a=e-n;ge(this.constructor.name,"Stoped recording, total measured time (network included):",a+r),Ee(this,be,null);const o=n+a+r;performance.measure("DashboardInteraction",{start:n,end:o});const i=function(e,t){const n=performance.getEntriesByType("resource");performance.clearResourceTimings();const r=n.filter(n=>n.startTime>=e&&n.startTime<=t);for(const e of r)performance.measure("Network entry "+e.name,{start:e.startTime,end:e.responseEnd});return function(e){if(0===e.length)return 0;e.sort((e,t)=>e.startTime-t.startTime);let t=0,n=e[0].startTime,r=e[0].responseEnd;for(let a=1;a<e.length;a++)e[a].startTime<=r?r=Math.max(r,e[a].responseEnd):(t+=r-n,n=e[a].startTime,r=e[a].responseEnd);return t+=r-n,t}(r)}(n,o);this.queryController.state.onProfileComplete&&this.queryController.state.onProfileComplete({origin:Se(this,me).origin,crumbs:Se(this,me).crumbs,duration:a+r,networkDuration:i,jsHeapSizeLimit:performance.memory?performance.memory.jsHeapSizeLimit:0,usedJSHeapSize:performance.memory?performance.memory.usedJSHeapSize:0,totalJSHeapSize:performance.memory?performance.memory.totalJSHeapSize:0}),window.__runs?window.__runs+=`${Date.now()}, ${a+r}\n`:window.__runs=`${Date.now()}, ${a+r}\n`}}}startProfile(e){Se(this,be)&&(cancelAnimationFrame(Se(this,be)),Ee(this,be,null),ge(this.constructor.name,"New profile: Stopped recording frames")),Ee(this,me,{origin:e,crumbs:[]}),Ee(this,ve,performance.now()),ge(this.constructor.name,"Profile started:",Se(this,me),Se(this,ve))}recordProfileTail(e,t){Ee(this,be,requestAnimationFrame(()=>this.measureTrailingFrames(e,e,t)))}tryCompletingProfile(){ge(this.constructor.name,"Trying to complete profile",Se(this,me)),0===this.queryController.runningQueriesCount()&&Se(this,me)&&(ge(this.constructor.name,"All queries completed, stopping profile"),this.recordProfileTail(performance.now(),Se(this,ve)))}isTailRecording(){return Boolean(Se(this,be))}cancelTailRecording(){Se(this,be)&&(cancelAnimationFrame(Se(this,be)),Ee(this,be,null),ge(this.constructor.name,"Cancelled recording frames, new profile started"))}addCrumb(e){Se(this,me)&&Se(this,me).crumbs.push(e)}}me=new WeakMap,ve=new WeakMap,be=new WeakMap,ye=new WeakMap;var Ae,Oe,Re=Object.defineProperty,Ie=Object.defineProperties,De=Object.getOwnPropertyDescriptors,Pe=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,ke=(e,t,n)=>t in e?Re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Me=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Be=(e,t,n)=>(Me(e,t,"read from private field"),n?n.call(e):t.get(e)),Le=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};function Ne(e){return"isQueryController"in e}class Ve extends J{constructor(e={}){var t;super((t=((e,t)=>{for(var n in t||(t={}))_e.call(t,n)&&ke(e,n,t[n]);if(Pe)for(var n of Pe(t))Te.call(t,n)&&ke(e,n,t[n]);return e})({},e),Ie(t,De({isRunning:!1})))),this.isQueryController=!0,this.profiler=new Ce(this),Le(this,Ae,new Set),Le(this,Oe,null),this.runningQueriesCount=()=>Be(this,Ae).size,this.addActivationHandler(()=>()=>Be(this,Ae).clear())}startProfile(e){this.state.enableProfiling&&this.profiler.startProfile(e.constructor.name)}queryStarted(e){Be(this,Ae).add(e),this.changeRunningQueryCount(1,e),this.state.isRunning||this.setState({isRunning:!0})}queryCompleted(e){Be(this,Ae).has(e)&&(Be(this,Ae).delete(e),this.changeRunningQueryCount(-1),0===Be(this,Ae).size&&this.setState({isRunning:!1}))}changeRunningQueryCount(e,t){var n,r,a,o;window.__grafanaRunningQueryCount=(null!=(n=window.__grafanaRunningQueryCount)?n:0)+e,1===e&&this.state.enableProfiling&&(t&&this.profiler.addCrumb(`${t.origin.constructor.name}/${t.type}`),this.profiler.isTailRecording()&&(ge(this.constructor.name,"New query started, cancelling tail recording"),this.profiler.cancelTailRecording())),this.state.enableProfiling&&(Be(this,Oe)&&cancelAnimationFrame(Be(this,Oe)),r=this,a=Oe,o=requestAnimationFrame(()=>{this.profiler.tryCompletingProfile()}),Me(r,a,"write to private field"),a.set(r,o))}cancelAll(){var e;for(const t of Be(this,Ae).values())null==(e=t.cancel)||e.call(t)}}function Fe(e){let t=e;for(;t;){if(t.state.$behaviors)for(const e of t.state.$behaviors)if(Ne(e))return e;t=t.parent}}Ae=new WeakMap,Oe=new WeakMap;var je=(e=>(e.Actions="actions",e.Auto="auto",e.BasicGauge="basic",e.ColorBackground="color-background",e.ColorBackgroundSolid="color-background-solid",e.ColorText="color-text",e.Custom="custom",e.DataLinks="data-links",e.Gauge="gauge",e.GradientGauge="gradient-gauge",e.Image="image",e.JSONView="json-view",e.LcdGauge="lcd-gauge",e.Pill="pill",e.Sparkline="sparkline",e))(je||{}),$e=(e=>(e.CSV="csv",e.Date="date",e.Distributed="distributed",e.DoubleQuote="doublequote",e.Glob="glob",e.HTML="html",e.JSON="json",e.Join="join",e.Lucene="lucene",e.PercentEncode="percentencode",e.Pipe="pipe",e.QueryParam="queryparam",e.Raw="raw",e.Regex="regex",e.SQLString="sqlstring",e.SingleQuote="singlequote",e.Text="text",e.UriEncode="uriencode",e))($e||{});je.Auto;var ze=(e=>(e.NotStarted="NotStarted",e.Loading="Loading",e.Streaming="Streaming",e.Done="Done",e.Error="Error",e))(ze||{}),He=Object.defineProperty,Ue=Object.getOwnPropertySymbols,Ge=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable,qe=(e,t,n)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Qe extends J{constructor(e){super(((e,t)=>{for(var n in t||(t={}))Ge.call(t,n)&&qe(e,n,t[n]);if(Ue)for(var n of Ue(t))We.call(t,n)&&qe(e,n,t[n]);return e})({data:Ye},e))}getResultsStream(){const e={origin:this,data:this.state.data};return(0,O.of)(e)}}const Ye={state:ze.Done,series:[],timeRange:(0,u.getDefaultTimeRange)()};class Xe{constructor(e,t){this._sceneObject=e,this._nextChangeShouldAddHistoryStep=!1,this._keys=t.keys}getKeys(){return"function"==typeof this._keys?this._keys():this._keys}getUrlState(){return this._sceneObject.getUrlState()}updateFromUrl(e){this._sceneObject.updateFromUrl(e)}performBrowserHistoryAction(e){this._nextChangeShouldAddHistoryStep=!0,e(),this._nextChangeShouldAddHistoryStep=!1}shouldCreateHistoryStep(e){return this._nextChangeShouldAddHistoryStep}}const Ke=/^\d+[yYmMsSwWhHdD]$/;function Ze(e){if("string"!=typeof e)return null;if(-1!==e.indexOf("now"))return e;if(Ke.test(e))return e;if(8===e.length){const t=(0,u.toUtc)(e,"YYYYMMDD");if(t.isValid())return t.toISOString()}else if(15===e.length){const t=(0,u.toUtc)(e,"YYYYMMDDTHHmmss");if(t.isValid())return t.toISOString()}else if(19===e.length){const t=(0,u.toUtc)(e,"YYYY-MM-DD HH:mm:ss");if(t.isValid())return t.toISOString()}else if(24===e.length)return(0,u.toUtc)(e).toISOString();const t=parseInt(e,10);return isNaN(t)?null:(0,u.toUtc)(t).toISOString()}function Je(e,t,n,r,a,o){const i=a&&"now"===t,s=Date.now();o&&function(e){e!==et&&(et=e,(0,u.setWeekStart)(e))}(o);const l=(e,t)=>u.dateMath.toDateTime?u.dateMath.toDateTime(e,t):u.dateMath.parse(e,t.roundUp,t.timezone,t.fiscalYearStartMonth);return{to:l(i?"now-"+a:t,{roundUp:!0,timezone:n,fiscalYearStartMonth:r,now:s}),from:l(e,{roundUp:!1,timezone:n,fiscalYearStartMonth:r,now:s}),raw:{from:e,to:t}}}let et;function tt(e,t,n){return(0,u.isDateTime)(e)?e.isValid():u.dateMath.isMathString(e)?u.dateMath.isValid(e):(0,u.dateTimeParse)(e,{roundUp:t,timeZone:n}).isValid()}var nt=Object.defineProperty,rt=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,it=(e,t,n)=>t in e?nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class st extends J{constructor(e={}){var t;const n=e.from&&tt(e.from)?e.from:"now-6h",r=e.to&&tt(e.to)?e.to:"now",a=e.timeZone;super(((e,t)=>{for(var n in t||(t={}))at.call(t,n)&&it(e,n,t[n]);if(rt)for(var n of rt(t))ot.call(t,n)&&it(e,n,t[n]);return e})({from:n,to:r,timeZone:a,value:Je(n,r,a||(0,u.getTimeZone)(),e.fiscalYearStartMonth,e.UNSAFE_nowDelay,e.weekStart),refreshOnActivate:null!=(t=e.refreshOnActivate)?t:{percent:10}},e)),this._urlSync=new Xe(this,{keys:["from","to","timezone","time","time.window"]}),this.onTimeRangeChange=e=>{const t={};if("string"==typeof e.raw.from?t.from=e.raw.from:t.from=e.raw.from.toISOString(),"string"==typeof e.raw.to?t.to=e.raw.to:t.to=e.raw.to.toISOString(),t.value=Je(t.from,t.to,this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart),t.from!==this.state.from||t.to!==this.state.to){const e=Fe(this);null==e||e.startProfile(this),this._urlSync.performBrowserHistoryAction(()=>{this.setState(t)})}},this.onTimeZoneChange=e=>{this._urlSync.performBrowserHistoryAction(()=>{this.setState({timeZone:e})})},this.onRefresh=()=>{this.refreshRange(0),this.publishEvent(new c.RefreshEvent,!0)},this.addActivationHandler(this._onActivate.bind(this))}_onActivate(){if(!this.state.timeZone){const e=this.getTimeZoneSource();e!==this&&this._subs.add(e.subscribeToState((e,t)=>{void 0!==e.timeZone&&e.timeZone!==t.timeZone&&this.refreshRange(0)}))}return u.rangeUtil.isRelativeTimeRange(this.state.value.raw)&&this.refreshIfStale(),()=>{this.state.weekStart&&(0,u.setWeekStart)(c.config.bootData.user.weekStart)}}refreshIfStale(){var e,t,n,r;let a;void 0!==(null==(t=null==(e=this.state)?void 0:e.refreshOnActivate)?void 0:t.percent)&&(a=this.calculatePercentOfInterval(this.state.refreshOnActivate.percent)),void 0!==(null==(r=null==(n=this.state)?void 0:n.refreshOnActivate)?void 0:r.afterMs)&&(a=Math.min(this.state.refreshOnActivate.afterMs,null!=a?a:1/0)),void 0!==a&&this.refreshRange(a)}getTimeZoneSource(){if(!this.parent||!this.parent.parent)return this;return ue(this.parent.parent,e=>{if(e.state.$timeRange&&e.state.$timeRange.state.timeZone)return e.state.$timeRange})||this}refreshRange(e){var t;const n=Je(this.state.from,this.state.to,null!=(t=this.state.timeZone)?t:(0,u.getTimeZone)(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart);n.to.diff(this.state.value.to,"milliseconds")>=e&&this.setState({value:n})}calculatePercentOfInterval(e){const t=this.state.value.to.diff(this.state.value.from,"milliseconds");return Math.ceil(t/e)}getTimeZone(){if(this.state.timeZone)return this.state.timeZone;const e=this.getTimeZoneSource();return e!==this?e.state.timeZone:(0,u.getTimeZone)()}getUrlState(){const e=c.locationService.getSearchObject(),t={from:this.state.from,to:this.state.to,timezone:this.getTimeZone()};return e.time&&e["time.window"]&&(t.time=null,t["time.window"]=null),t}updateFromUrl(e){var t,n,r;const a={};let o=Ze(e.from),i=Ze(e.to);if(e.time&&e["time.window"]){const t=function(e,t){const n=isNaN(Date.parse(e))?parseInt(e,10):Date.parse(e);let r;return r=t.match(/^\d+$/)&&parseInt(t,10)?parseInt(t,10):u.rangeUtil.intervalToMs(t),{from:(0,u.toUtc)(n-r/2).toISOString(),to:(0,u.toUtc)(n+r/2).toISOString()}}(Array.isArray(e.time)?e.time[0]:e.time,Array.isArray(e["time.window"])?e["time.window"][0]:e["time.window"]);t.from&&tt(t.from)&&(o=t.from),t.to&&tt(t.to)&&(i=t.to)}if(o&&tt(o)&&(a.from=o),i&&tt(i)&&(a.to=i),"string"==typeof e.timezone&&(a.timeZone=""!==e.timezone?e.timezone:void 0),0!==Object.keys(a).length)return a.value=Je(null!=(t=a.from)?t:this.state.from,null!=(n=a.to)?n:this.state.to,null!=(r=a.timeZone)?r:this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart),this.setState(a)}}const lt=new Qe,ut=new st,ct=new class extends J{constructor(){super({variables:[]})}getByName(e){}isVariableLoadingOrWaitingToUpdate(e){return!1}};function dt(e){var t;return null!=(t=ue(e,e=>e.state.$timeRange))?t:ut}class pt extends u.BusEventWithPayload{}function ft(e){return"object"==typeof e&&"formatter"in e}pt.type="scene-variable-changed-value";let ht,gt={};function mt(e){return gt[e]||(gt[e]=(0,fe.property)(e))}class vt{constructor(e,t){this.state={name:e,value:t,type:"scopedvar"}}getValue(e){let{value:t}=this.state,n=t.value;return n=e?mt(e)(t.value):t.value,"string"===n||"number"===n||"boolean"===n?n:String(n)}getValueText(){const{value:e}=this.state;return null!=e.text?String(e.text):String(e)}}const bt=new u.Registry(()=>{const e=[{id:$e.Lucene,name:"Lucene",description:"Values are lucene escaped and multi-valued variables generate an OR expression",formatter:e=>"string"==typeof e?yt(e):Array.isArray(e)?0===e.length?"__empty__":"("+(0,fe.map)(e,e=>'"'+yt(e)+'"').join(" OR ")+")":yt(`${e}`)},{id:$e.Raw,name:"raw",description:"Keep value as is",formatter:e=>String(e)},{id:$e.Regex,name:"Regex",description:"Values are regex escaped and multi-valued variables generate a (<value>|<value>) expression",formatter:e=>{if("string"==typeof e)return(0,u.escapeRegex)(e);if(Array.isArray(e)){const t=e.map(e=>"string"==typeof e?(0,u.escapeRegex)(e):(0,u.escapeRegex)(String(e)));return 1===t.length?t[0]:"("+t.join("|")+")"}return(0,u.escapeRegex)(`${e}`)}},{id:$e.Pipe,name:"Pipe",description:"Values are separated by | character",formatter:e=>"string"==typeof e?e:Array.isArray(e)?e.join("|"):`${e}`},{id:$e.Distributed,name:"Distributed",description:"Multiple values are formatted like variable=value",formatter:(e,t,n)=>"string"==typeof e?e:Array.isArray(e)?(e=(0,fe.map)(e,(e,t)=>0!==t?n.state.name+"="+e:e),e.join(",")):`${e}`},{id:$e.CSV,name:"Csv",description:"Comma-separated values",formatter:e=>"string"==typeof e?e:(0,fe.isArray)(e)?e.join(","):String(e)},{id:$e.HTML,name:"HTML",description:"HTML escaping of values",formatter:e=>"string"==typeof e?u.textUtil.escapeHtml(e):(0,fe.isArray)(e)?u.textUtil.escapeHtml(e.join(", ")):u.textUtil.escapeHtml(String(e))},{id:$e.JSON,name:"JSON",description:"JSON stringify value",formatter:e=>"string"==typeof e?e:JSON.stringify(e)},{id:$e.PercentEncode,name:"Percent encode",description:"Useful for URL escaping values",formatter:e=>(0,fe.isArray)(e)?wt("{"+e.join(",")+"}"):wt(e)},{id:$e.SingleQuote,name:"Single quote",description:"Single quoted values",formatter:e=>{const t=new RegExp("'","g");if((0,fe.isArray)(e))return(0,fe.map)(e,e=>`'${(0,fe.replace)(e,t,"\\'")}'`).join(",");let n="string"==typeof e?e:String(e);return`'${(0,fe.replace)(n,t,"\\'")}'`}},{id:$e.DoubleQuote,name:"Double quote",description:"Double quoted values",formatter:e=>{const t=new RegExp('"',"g");if((0,fe.isArray)(e))return(0,fe.map)(e,e=>`"${(0,fe.replace)(e,t,'\\"')}"`).join(",");let n="string"==typeof e?e:String(e);return`"${(0,fe.replace)(n,t,'\\"')}"`}},{id:$e.SQLString,name:"SQL string",description:"SQL string quoting and commas for use in IN statements and other scenarios",formatter:At},{id:$e.Date,name:"Date",description:"Format date in different ways",formatter:(e,t)=>{var n;let r=NaN;if("number"==typeof e?r=e:"string"==typeof e&&(r=parseInt(e,10)),isNaN(r))return"NaN";const a=null!=(n=t[0])?n:"iso";switch(a){case"ms":return String(e);case"seconds":return`${Math.round(r/1e3)}`;case"iso":return(0,u.dateTime)(r).toISOString();default:return(t||[]).length>1?(0,u.dateTime)(r).format(t.join(":")):(0,u.dateTime)(r).format(a)}}},{id:$e.Glob,name:"Glob",description:"Format multi-valued variables using glob syntax, example {value1,value2}",formatter:e=>(0,fe.isArray)(e)&&e.length>1?"{"+e.join(",")+"}":String(e)},{id:$e.Text,name:"Text",description:"Format variables in their text representation. Example in multi-variable scenario A + B + C.",formatter:(e,t,n)=>n.getValueText?n.getValueText():String(e)},{id:$e.QueryParam,name:"Query parameter",description:"Format variables as URL parameters. Example in multi-variable scenario A + B + C => var-foo=A&var-foo=B&var-foo=C.",formatter:(e,t,n)=>{if(n.urlSync){const e=n.urlSync.getUrlState();return u.urlUtil.toUrlParams(e)}return Array.isArray(e)?e.map(e=>Et(n.state.name,e)).join("&"):Et(n.state.name,e)}},{id:$e.UriEncode,name:"Percent encode as URI",description:"Useful for URL escaping values, taking into URI syntax characters",formatter:e=>(0,fe.isArray)(e)?St("{"+e.join(",")+"}"):St(e)}];return e});function yt(e){return!1===isNaN(+e)?e:e.replace(/([\!\*\+\-\=<>\s\&\|\(\)\[\]\{\}\^\~\?\:\\/"])/g,"\\$1")}function wt(e){return"object"==typeof e&&(e=String(e)),xt(encodeURIComponent(e))}const St=e=>xt(encodeURI(String(e))),xt=e=>e.replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase());function Et(e,t){return`var-${e}=${wt(t)}`}const Ct={"'":"''",'"':'\\"'};function At(e){const t=new RegExp("'|\"","g");if((0,fe.isArray)(e))return(0,fe.map)(e,e=>`'${(0,fe.replace)(e,t,e=>{var t;return null!=(t=Ct[e])?t:""})}'`).join(",");let n="string"==typeof e?e:String(e);return`'${(0,fe.replace)(n,t,e=>{var t;return null!=(t=Ct[e])?t:""})}'`}const Ot="All",Rt="$__all",It="$__auto",Dt=/\$(\w+)|\[\[(\w+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/g;class Pt{constructor(e){this._value=e}formatter(){return this._value}}class _t{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=dt(this._sceneObject);return"__from"===this.state.name?e.state.value.from.valueOf():e.state.value.to.valueOf()}getValueText(){const e=dt(this._sceneObject);return"__from"===this.state.name?(0,u.dateTimeFormat)(e.state.value.from,{timeZone:e.getTimeZone()}):(0,u.dateTimeFormat)(e.state.value.to,{timeZone:e.getTimeZone()})}}class Tt{constructor(e,t,n){this.state={name:e,type:"time_macro",match:n},this._sceneObject=t}getValue(){var e;const t=Bu(this._sceneObject);if(t){const n=null==(e=t.state.data)?void 0:e.request;return n?"__interval_ms"===this.state.name?n.intervalMs:n.interval:this.state.match}return this.state.match}}function kt(e,t){e.setState(t)}function Mt(){return c.useLocationService?(0,c.useLocationService)():c.locationService}class Bt extends J{constructor(){super(...arguments),this._urlSync=new Lt(this)}validateAndUpdate(){return this.getValueOptions({}).pipe((0,O.map)(e=>(this.updateValueGivenNewOptions(e),{})))}onCancel(){this.setStateHelper({loading:!1});const e=this.parent;null==e||e.cancel(this)}updateValueGivenNewOptions(e){const{value:t,text:n,options:r}=this.state,a=this.getStateUpdateGivenNewOptions(e,t,n);this.interceptStateUpdateAfterValidation(a),this.setStateHelper(a),(a.value!==t||a.text!==n||this.hasAllValue()&&!(0,fe.isEqual)(e,r))&&this.publishEvent(new pt(this),!0)}getStateUpdateGivenNewOptions(e,t,n){const r={options:e,loading:!1,value:t,text:n};if(0===e.length)return this.state.defaultToAll||this.state.includeAll?(r.value=Rt,r.text=Ot):this.state.isMulti?(r.value=[],r.text=[]):(r.value="",r.text=""),r;if(this.hasAllValue())return this.state.includeAll?r.text=Ot:(r.value=e[0].value,r.text=e[0].label,this.state.isMulti&&(r.value=[r.value],r.text=[r.text])),r;if(this.state.isMulti){const a=(Array.isArray(t)?t:[t]).filter(t=>e.find(e=>e.value===t)),o=a.map(t=>e.find(e=>e.value===t).label);if(0===a.length){const t=this.getDefaultMultiState(e);r.value=t.value,r.text=t.text}else(0,fe.isEqual)(a,t)||(r.value=a),(0,fe.isEqual)(o,n)||(r.text=o);return r}let a=function(e,t,n){let r;for(const a of n){if(a.value===e)return a;a.label===t&&(r=a)}return r}(t,n,e);if(a)r.text=a.label,r.value=a.value;else{const t=this.getDefaultSingleState(e);r.value=t.value,r.text=t.text}return r}interceptStateUpdateAfterValidation(e){const t=e.value===Rt&&this.state.text===Ot;this.skipNextValidation&&e.value!==this.state.value&&e.text!==this.state.text&&!t&&(e.value=this.state.value,e.text=this.state.text),this.skipNextValidation=!1}getValue(){return this.hasAllValue()?this.state.allValue?new Nt(this.state.allValue,this):this.state.options.map(e=>e.value):this.state.value}getValueText(){return this.hasAllValue()?Ot:Array.isArray(this.state.text)?this.state.text.join(" + "):String(this.state.text)}hasAllValue(){const e=this.state.value;return e===Rt||Array.isArray(e)&&e[0]===Rt}getDefaultMultiState(e){return this.state.defaultToAll?{value:[Rt],text:[Ot]}:e.length>0?{value:[e[0].value],text:[e[0].label]}:{value:[],text:[]}}getDefaultSingleState(e){return this.state.defaultToAll?{value:Rt,text:Ot}:e.length>0?{value:e[0].value,text:e[0].label}:{value:"",text:""}}changeValueTo(e,t){if(e!==this.state.value||t!==this.state.text){if(t||(t=Array.isArray(e)?e.map(e=>this.findLabelTextForValue(e)):this.findLabelTextForValue(e)),Array.isArray(e)){if(0===e.length){const n=this.getDefaultMultiState(this.state.options);e=n.value,t=n.text}e[e.length-1]===Rt?(e=[Rt],t=[Ot]):e[0]===Rt&&e.length>1&&(e.shift(),Array.isArray(t)&&t.shift())}(0,fe.isEqual)(e,this.state.value)&&(0,fe.isEqual)(t,this.state.text)||(this.setStateHelper({value:e,text:t,loading:!1}),this.publishEvent(new pt(this),!0))}}findLabelTextForValue(e){if(e===Rt)return Ot;const t=this.state.options.find(t=>t.value===e);if(t)return t.label;const n=this.state.options.find(t=>t.label===e);return n?n.label:e}setStateHelper(e){kt(this,e)}getOptionsForSelect(e=!0){let t=this.state.options;return this.state.includeAll&&(t=[{value:Rt,label:Ot},...t]),e&&!Array.isArray(this.state.value)&&(t.find(e=>e.value===this.state.value)||(t=[{value:this.state.value,label:String(this.state.text)},...t])),t}refreshOptions(){this.getValueOptions({}).subscribe(e=>{this.updateValueGivenNewOptions(e)})}}class Lt{constructor(e){this._sceneObject=e}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){if(this._sceneObject.state.skipUrlSync)return{};let e=null,t=this._sceneObject.state.value;return e=Array.isArray(t)?t.map(String):this._sceneObject.state.isMulti?[String(t)]:String(t),{[this.getKey()]:e}}updateFromUrl(e){let t=e[this.getKey()];var n;null!=t&&(this._sceneObject.state.includeAll&&(n=t,t=(0,fe.isArray)(n)&&n[0]===Ot?[Rt]:n===Ot?Rt:n),this._sceneObject.state.allValue&&this._sceneObject.state.allValue===t&&(t=Rt),this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0),this._sceneObject.changeValueTo(t))}}class Nt{constructor(e,t){this._value=e,this._variable=t}formatter(e){return e===$e.Text?Ot:e===$e.PercentEncode?bt.get($e.PercentEncode).formatter(this._value,[],this._variable):e===$e.QueryParam?bt.get($e.QueryParam).formatter(Ot,[],this._variable):this._value}}function Vt(e,t={}){if(e.state.$variables)for(const n of e.state.$variables.state.variables)n.state.skipUrlSync||t[n.state.name]||(t[n.state.name]=n);return e.parent&&Vt(e.parent,t),t}var Ft=Object.defineProperty,jt=Object.defineProperties,$t=Object.getOwnPropertyDescriptors,zt=Object.getOwnPropertySymbols,Ht=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable,Gt=(e,t,n)=>t in e?Ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Wt=(0,u.getDisplayProcessor)();class qt{constructor(e){this._urlQueryParams=e}formatter(e){if(!e)return this._urlQueryParams;const t=e.split(":");if("exclude"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams);for(const n of t[1].split(","))e.delete(n);return`?${e}`}if("include"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams),n=t[1].split(",");for(const t of e.keys())n.includes(t)||e.delete(t);return`?${e}`}return this._urlQueryParams}}const Qt=new Map([[u.DataLinkBuiltInVars.includeVars,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){const e=Vt(this._sceneObject),t=bt.get($e.QueryParam),n=[];for(const r of Object.keys(e)){const a=e[r];if(a instanceof Bt&&a.hasAllValue()&&!a.state.allValue){n.push(t.formatter(Rt,[],a));continue}const o=a.getValue();o&&(ft(o)?n.push(o.formatter($e.QueryParam)):n.push(t.formatter(o,[],a)))}return new Pt(n.join("&"))}getValueText(){return""}}],[u.DataLinkBuiltInVars.keepTime,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){var e;const t=null==(e=dt(this._sceneObject).urlSync)?void 0:e.getUrlState();return"browser"===(null==t?void 0:t.timezone)&&(t.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone),new Pt(u.urlUtil.toUrlParams(t))}getValueText(){return""}}],["__value",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__value"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r)return this._match;const{frame:a,rowIndex:o,field:i,calculatedValue:s}=r.value;if(s)switch(e){case"numeric":case"raw":return s.numeric;case"time":return"";default:return(0,u.formattedValueToString)(s)}if(null==o)return this._match;if("time"===e){const e=a.fields.find(e=>e.type===u.FieldType.time);return e?e.values.get(o):void 0}if(!i)return this._match;const l=i.values.get(o);if("raw"===e)return l;const c=(null!=(n=i.display)?n:Wt)(l);return"numeric"===e?c.numeric:(0,u.formattedValueToString)(c)}getValueText(){return""}}],["__data",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__data"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r||!e)return this._match;const{frame:a,rowIndex:o}=r.value;if(void 0===o||void 0===e)return this._match;const i={name:a.name,refId:a.refId,fields:(0,u.getFieldDisplayValuesProxy)({frame:a,rowIndex:o})};return null!=(n=mt(e)(i))?n:""}getValueText(){return""}}],["__series",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__series"}}getValue(e){var t;const n=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!n||!e)return this._match;if("name"!==e)return this._match;const{frame:r,frameIndex:a}=n.value;return(0,u.getFrameDisplayName)(r,a)}getValueText(){return""}}],["__field",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__field"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r||!e)return this._match;if(void 0===e||""===e)return this._match;const{frame:a,field:o,data:i}=r.value,s=function(e,t,n){return new Proxy({},{get:(r,a)=>{return"name"===a?e.name:"displayName"===a?(0,u.getFieldDisplayName)(e,t,n):"labels"===a||"formattedLabels"===a?e.labels?(o=((e,t)=>{for(var n in t||(t={}))Ht.call(t,n)&&Gt(e,n,t[n]);if(zt)for(var n of zt(t))Ut.call(t,n)&&Gt(e,n,t[n]);return e})({},e.labels),i={__values:Object.values(e.labels).sort().join(", "),toString:()=>(0,u.formatLabels)(e.labels,"",!0)},jt(o,$t(i))):"":void 0;var o,i}})}(o,a,i);return null!=(n=mt(e)(s))?n:""}getValueText(){return""}}],["__url",class{constructor(e,t){this.state={name:e,type:"url_macro"}}getValue(e){var t;const n=c.locationService.getLocation(),r=null!=(t=c.config.appSubUrl)?t:"";switch(null!=e?e:""){case"params":return new qt(n.search);case"path":return r+n.pathname;default:return r+n.pathname+n.search}}getValueText(){return""}}],["__from",_t],["__to",_t],["__timezone",class{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=dt(this._sceneObject).getTimeZone();return"browser"===e?Intl.DateTimeFormat().resolvedOptions().timeZone:e}getValueText(){return this.getValue()}}],["__user",class{constructor(e,t){this.state={name:e,type:"user_macro"}}getValue(e){const t=c.config.bootData.user;switch(e){case"login":return t.login;case"email":return t.email;default:return String(t.id)}}getValueText(){return""}}],["__org",class{constructor(e,t){this.state={name:e,type:"org_macro"}}getValue(e){const t=c.config.bootData.user;return"name"===e?t.orgName:String(t.orgId)}getValueText(){return""}}],["__interval",Tt],["__interval_ms",Tt]]);function Yt(e,t,n,r,a){return t&&"string"==typeof t?(Dt.lastIndex=0,t.replace(Dt,(t,o,i,s,l,u,c)=>{const d=o||i||l,p=s||c||r,f=function(e,t,n,r){if(n&&n.hasOwnProperty(e)){const t=n[e];if(t)return function(e,t){return ht?(ht.state.name=e,ht.state.value=t):ht=new vt(e,t),ht}(e,t)}const a=he(e,r);if(a)return a;const o=Qt.get(e);return o?new o(e,r,t,n):null}(d,t,n,e);if(!f)return a&&a.push({match:t,variableName:d,fieldPath:u,format:p,value:t,found:!1}),t;const h=function(e,t,n,r){if(null==n)return"";if(ft(n))return Yt(e,n.formatter(r));if(Array.isArray(n)||"object"!=typeof n||(n=`${n}`),"function"==typeof r)return r(n,{name:t.state.name,type:t.state.type,multi:t.state.isMulti,includeAll:t.state.includeAll});let a=[];r?(a=r.split(":"),a.length>1?(r=a[0],a=a.slice(1)):a=[]):r=$e.Glob;let o=bt.getIfExists(r);return o||(console.error(`Variable format ${r} not found. Using glob format as fallback.`),o=bt.get($e.Glob)),o.formatter(n,a,t)}(e,f,f.getValue(u),p);return a&&a.push({match:t,variableName:d,fieldPath:u,format:p,value:h,found:h!==t}),h})):null!=t?t:""}function Xt(e){return void 0!==e.useState}function Kt(e){return"enrichDataRequest"in e}function Zt(e){return"enrichFiltersRequest"in e}function Jt(e){return"isDataLayer"in e}function en(e){return t=>{const n=ju.getQueryController(e.origin);return n?new O.Observable(r=>{e.cancel||(e.cancel=()=>r.complete()),n.queryStarted(e);let a=!1;const o=t.subscribe({next:t=>{a||t.state===ze.Loading||(a=!0,n.queryCompleted(e)),r.next(t)},error:e=>r.error(e),complete:()=>{r.complete()}});return()=>{o.unsubscribe(),a||n.queryCompleted(e)}}):t}}function tn(e){return new O.Observable(t=>{t.next({state:ze.Loading}),(0,O.from)(e).pipe((0,O.map)(()=>({state:ze.Done})),(0,O.catchError)(()=>(t.next({state:ze.Error}),[]))).subscribe({next:e=>t.next(e),complete:()=>t.complete()})})}async function nn(e,t){if(null==e?void 0:e.uid){const t=de.get(e.uid);if(t)return t}if(e&&e.query)return e;const n=(0,c.getDataSourceSrv)().get(e,t);if(t.__sceneObject&&t.__sceneObject.value.valueOf()){const e=ju.getQueryController(t.__sceneObject.value.valueOf());e&&e.state.enableProfiling&&tn(n).pipe(en({type:"plugin",origin:t.__sceneObject.value.valueOf()})).subscribe(()=>{})}return await n}class rn{constructor(){this._values=new Map}recordCurrentDependencyValuesForSceneObject(e){if(this.clearValues(),e.variableDependency)for(const t of e.variableDependency.getNames()){const n=ju.lookupVariable(t,e);n&&this._values.set(n.state.name,n.getValue())}}cloneAndRecordCurrentValuesForSceneObject(e){const t=new rn;return t.recordCurrentDependencyValuesForSceneObject(e),t}clearValues(){this._values.clear()}hasValues(){return!!this._values}recordCurrentValue(e){this._values.set(e.state.name,e.getValue())}hasRecordedValue(e){return this._values.has(e.state.name)}hasValueChanged(e){return!(!this._values.has(e.state.name)||Nl(this._values.get(e.state.name),e.getValue()))}hasDependenciesChanged(e){if(!this._values)return!1;if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){const n=ju.lookupVariable(t,e);if(!n)continue;const r=n.state.name;if(n&&this._values.has(r)&&!Nl(this._values.get(r),n.getValue()))return!0}return!1}}function an(e){return"object"==typeof e&&"getExtraQueries"in e}var on=Object.defineProperty,sn=Object.defineProperties,ln=Object.getOwnPropertyDescriptors,un=Object.getOwnPropertySymbols,cn=Object.prototype.hasOwnProperty,dn=Object.prototype.propertyIsEnumerable,pn=(e,t,n)=>t in e?on(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const fn=(e,t)=>(0,O.of)(t);var hn=Object.defineProperty,gn=Object.defineProperties,mn=Object.getOwnPropertyDescriptors,vn=Object.getOwnPropertySymbols,bn=Object.prototype.hasOwnProperty,yn=Object.prototype.propertyIsEnumerable,wn=(e,t,n)=>t in e?hn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sn=(e,t)=>{for(var n in t||(t={}))bn.call(t,n)&&wn(e,n,t[n]);if(vn)for(var n of vn(t))yn.call(t,n)&&wn(e,n,t[n]);return e},xn=(e,t)=>gn(e,mn(t));const En=0;function Cn(e){const t=e.getRoot();return Kt(t)?t.enrichDataRequest(e):null}let An,On=new Set;const Rn=new Set;var In=n(2007),Dn=n(7186),Pn=n(6089);function _n(e,t=!1){let n=e;t&&(n=[{value:Rt,label:Ot},...n]);const r=Kl(n.map(e=>e.label));return e=>r(e).map(e=>n[e])}var Tn=Object.defineProperty,kn=Object.defineProperties,Mn=Object.getOwnPropertyDescriptors,Bn=Object.getOwnPropertySymbols,Ln=Object.prototype.hasOwnProperty,Nn=Object.prototype.propertyIsEnumerable,Vn=(e,t,n)=>t in e?Tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Fn=()=>!0,jn=e=>"$__all"!==e.value,$n=(e,t)=>e.length===t.filter(jn).length?In.ToggleAllState.allSelected:0===e.length||1===e.length&&e[0]&&"$__all"===e[0].value?In.ToggleAllState.noneSelected:In.ToggleAllState.indeterminate;function zn({model:e}){const{value:t,text:n,key:r,options:a,includeAll:i,isReadOnly:l,allowCustomValue:u=!0}=e.useState(),[c,d]=(0,o.useState)(""),[p,f]=(0,o.useState)(!1),h=function(e,t){return{value:e,label:null!=t?t:String(e)}}(t,String(n)),g=ju.getQueryController(e),m=(0,o.useMemo)(()=>_n(a,i),[a,i])(c);return s().createElement(In.Select,{id:r,isValidNewOption:e=>e.trim().length>0,placeholder:"Select value",width:"auto",disabled:l,value:h,inputValue:c,allowCustomValue:u,virtualized:!0,filterOption:Fn,tabSelectsValue:!1,onInputChange:(t,{action:n})=>"input-change"===n?(d(t),e.onSearchChange&&e.onSearchChange(t),t):t,onOpenMenu:()=>{p&&d(String(n))},onCloseMenu:()=>{d("")},options:m,"data-testid":Dn.Tp.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${t}`),onChange:t=>{e.changeValueTo(t.value,t.label),null==g||g.startProfile(e),p!==t.__isNew__&&f(t.__isNew__)}})}function Hn({model:e}){const{value:t,options:n,key:r,maxVisibleValues:a,noValueOnClear:i,includeAll:l,isReadOnly:u,allowCustomValue:c=!0}=e.useState(),d=(0,o.useMemo)(()=>(0,fe.isArray)(t)?t:[t],[t]),[p,f]=(0,o.useState)(d),[h,g]=(0,o.useState)(""),m=ju.getQueryController(e),v=(0,o.useMemo)(()=>_n(n,l),[n,l]);(0,o.useEffect)(()=>{f(d)},[d]);const b=n.length>0?"Select value":"",y=v(h);return s().createElement(In.MultiSelect,{id:r,placeholder:b,width:"auto",inputValue:h,disabled:u,value:p,noMultiValueWrap:!0,maxVisibleValues:null!=a?a:5,tabSelectsValue:!1,virtualized:!0,allowCustomValue:c,toggleAllOptions:{enabled:!0,optionsFilter:jn,determineToggleAllState:$n},options:y,closeMenuOnSelect:!1,components:{Option:Un},isClearable:!0,hideSelectedOptions:!1,onInputChange:(t,{action:n})=>"input-change"===n?(g(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===n?(g(""),""):h,onBlur:()=>{e.changeValueTo(p),null==m||m.startProfile(e)},filterOption:Fn,"data-testid":Dn.Tp.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${p}`),onChange:(t,n)=>{"clear"===n.action&&i&&e.changeValueTo([]),f(t.map(e=>e.value))}})}const Un=({children:e,data:t,innerProps:n,innerRef:r,isFocused:a,isSelected:o,indeterminate:i,renderOptionLabel:l})=>{var u;const c=((e,t)=>{var n={};for(var r in e)Ln.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Bn)for(var r of Bn(e))t.indexOf(r)<0&&Nn.call(e,r)&&(n[r]=e[r]);return n})(n,["onMouseMove","onMouseOver"]),d=(0,In.useTheme2)(),p=(0,In.getSelectStyles)(d),f=(0,In.useStyles2)(Gn);return s().createElement("div",(h=((e,t)=>{for(var n in t||(t={}))Ln.call(t,n)&&Vn(e,n,t[n]);if(Bn)for(var n of Bn(t))Nn.call(t,n)&&Vn(e,n,t[n]);return e})({ref:r,className:(0,Pn.cx)(p.option,a&&p.optionFocused)},c),g={"data-testid":"data-testid Select option",title:t.title},kn(h,Mn(g))),s().createElement("div",{className:f.checkbox},s().createElement(In.Checkbox,{indeterminate:i,value:o})),s().createElement("div",{className:p.optionBody,"data-testid":Dn.Tp.pages.Dashboard.SubMenu.submenuItemValueDropDownOptionTexts(null!=(u=t.label)?u:String(t.value))},s().createElement("span",null,e)));var h,g};Un.displayName="SelectMenuOptions";const Gn=e=>({checkbox:(0,Pn.css)({marginRight:e.spacing(2)})});function Wn(e){return e.state.isMulti?s().createElement(Hn,{model:e}):s().createElement(zn,{model:e})}class qn{constructor(e){this._sceneObject=e}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){return this._sceneObject.state.skipUrlSync?{}:{[this.getKey()]:(e=this._sceneObject.state.value,t=this._sceneObject.state.text,e=Array.isArray(e)?e:[e],t=Array.isArray(t)?t:[t],e.map((e,n)=>{if(null==e)return"";e=String(e);let r=t[n];return r=null==r?e:String(r),ql(e,r)}))};var e,t}updateFromUrl(e){let t=e[this.getKey()];if(null!=t){this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0);const{values:e,texts:r}=(n=t,(n=Array.isArray(n)?n:[n]).reduce((e,t)=>{const[n,r]=(null!=t?t:"").split(",");return e.values.push(Wl(n)),e.texts.push(Wl(null!=r?r:n)),e},{values:[],texts:[]}));this._sceneObject.changeValueTo(e,r)}var n}}function Qn(e){const t=e.getRoot();return Zt(t)?t.enrichFiltersRequest(e):null}var Yn,Xn=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};class Kn{constructor(e){((e,t)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,void 0)})(this,Yn),this.text="__sceneObject",this.valueOf=()=>{return Xn(this,e=Yn,"read from private field"),e.get(this);var e},((e,t,n)=>{Xn(e,t,"write to private field"),t.set(e,n)})(this,Yn,e)}toString(){}get value(){return this}}function Zn(e){return function(e){const t=e.match(/^(\d+)\.(\d+)\.(\d+)/);if(!t)return!1;const n=parseInt(t[1],10),r=parseInt(t[2],10),a=parseInt(t[3],10);return 11===n?0===r&&a>=4||1===r&&a>=2||r>1:10===n?4===r&&a>=8||r>=5:n>11}(c.config.buildInfo.version)?new Kn(e):{value:e,text:"__sceneObject"}}Yn=new WeakMap;var Jn=Object.defineProperty,er=Object.defineProperties,tr=Object.getOwnPropertyDescriptors,nr=Object.getOwnPropertySymbols,rr=Object.prototype.hasOwnProperty,ar=Object.prototype.propertyIsEnumerable,or=(e,t,n)=>t in e?Jn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ir=(e,t)=>{for(var n in t||(t={}))rr.call(t,n)&&or(e,n,t[n]);if(nr)for(var n of nr(t))ar.call(t,n)&&or(e,n,t[n]);return e};class sr extends Bt{constructor(e){var t;super((t=ir({isMulti:!0,name:"",value:[],text:[],options:[],datasource:null,baseFilters:[],applyMode:"auto",layout:"horizontal",type:"groupby"},e),er(t,tr({noValueOnClear:!0})))),this.isLazy=!0,this._urlSync=new qn(this),this._getKeys=async e=>{var t,n,r;const a=await(null==(n=(t=this.state).getTagKeysProvider)?void 0:n.call(t,this,null));if(a&&a.replace)return a.values;if(this.state.defaultOptions)return this.state.defaultOptions.concat(Ql(null!=(r=null==a?void 0:a.values)?r:[]));if(!e.getTagKeys)return[];const o=Hl(this),i=this.state.baseFilters||[],s=ju.getTimeRange(this).state.value,l=await e.getTagKeys(ir({filters:i,queries:o,timeRange:s},Qn(this)));Yl(l)&&this.setState({error:l.error.message});let u=Ql(l);a&&(u=u.concat(Ql(a.values)));const c=this.state.tagKeyRegexFilter;return c&&(u=u.filter(e=>e.text.match(c))),u},"auto"===this.state.applyMode&&this.addActivationHandler(()=>(Rn.add(this),()=>Rn.delete(this)))}validateAndUpdate(){return this.getValueOptions({}).pipe((0,O.map)(e=>(this._updateValueGivenNewOptions(e),{})))}_updateValueGivenNewOptions(e){const{value:t,text:n}=this.state,r={options:e,loading:!1,value:null!=t?t:[],text:null!=n?n:[]};this.setState(r)}getValueOptions(e){return this.state.defaultOptions?(0,O.of)(this.state.defaultOptions.map(e=>({label:e.text,value:String(e.value),group:e.group}))):(this.setState({loading:!0,error:null}),(0,O.from)(nn(this.state.datasource,{__sceneObject:Zn(this)})).pipe((0,O.mergeMap)(e=>(0,O.from)(this._getKeys(e)).pipe((0,O.tap)(e=>{Yl(e)&&this.setState({error:e.error.message})}),(0,O.map)(e=>Ql(e)),(0,O.take)(1),(0,O.mergeMap)(e=>{const t=e.map(e=>({label:e.text,value:e.value?String(e.value):e.text,group:e.group}));return(0,O.of)(t)})))))}getDefaultMultiState(e){return{value:[],text:[]}}}sr.Component=function({model:e}){const{value:t,text:n,key:r,isMulti:a=!0,maxVisibleValues:i,noValueOnClear:l,options:u,includeAll:c,allowCustomValue:d=!0}=e.useState(),p=(0,o.useMemo)(()=>{const e=(0,fe.isArray)(t)?t:[t],r=(0,fe.isArray)(n)?n:[n];return e.map((e,t)=>{var n;return{value:e,label:String(null!=(n=r[t])?n:e)}})},[t,n]),[f,h]=(0,o.useState)(!1),[g,m]=(0,o.useState)(!1),[v,b]=(0,o.useState)(""),[y,w]=(0,o.useState)(p),S=(0,o.useMemo)(()=>_n(u,c),[u,c]);(0,o.useEffect)(()=>{w(p)},[p]);const x=(t,{action:n})=>"input-change"===n?(b(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===n?(b(""),""):v,E=(0,o.useMemo)(()=>Xl(S(v).map(ur)),[S,v]);return a?s().createElement(In.MultiSelect,{"aria-label":"Group by selector","data-testid":`GroupBySelect-${r}`,id:r,placeholder:"Select value",width:"auto",allowCustomValue:d,inputValue:v,value:y,noMultiValueWrap:!0,maxVisibleValues:null!=i?i:5,tabSelectsValue:!1,virtualized:!0,options:E,filterOption:lr,closeMenuOnSelect:!1,isOpen:g,isClearable:!0,hideSelectedOptions:!1,isLoading:f,components:{Option:Un},onInputChange:x,onBlur:()=>{e.changeValueTo(y.map(e=>e.value),y.map(e=>e.label))},onChange:(t,n)=>{"clear"===n.action&&l&&e.changeValueTo([]),w(t)},onOpenMenu:async()=>{h(!0),await(0,O.lastValueFrom)(e.validateAndUpdate()),h(!1),m(!0)},onCloseMenu:()=>{m(!1)}}):s().createElement(In.Select,{"aria-label":"Group by selector","data-testid":`GroupBySelect-${r}`,id:r,placeholder:"Select value",width:"auto",inputValue:v,value:y,allowCustomValue:d,noMultiValueWrap:!0,maxVisibleValues:null!=i?i:5,tabSelectsValue:!1,virtualized:!0,options:E,filterOption:lr,closeMenuOnSelect:!0,isOpen:g,isClearable:!0,hideSelectedOptions:!1,noValueOnClear:!0,isLoading:f,onInputChange:x,onChange:(t,n)=>{if("clear"===n.action)return w([]),void(l&&e.changeValueTo([]));(null==t?void 0:t.value)&&(w([t]),e.changeValueTo([t.value],t.label?[t.label]:void 0))},onOpenMenu:async()=>{h(!0),await(0,O.lastValueFrom)(e.validateAndUpdate()),h(!1),m(!0)},onCloseMenu:()=>{m(!1)}})};const lr=()=>!0;function ur(e){const{label:t,value:n,group:r}=e,a={label:t,value:n};return r&&(a.group=r),a}function cr(e){return s().createElement(In.Tooltip,{content:"Cancel query"},s().createElement(In.Icon,{className:"spin-clockwise",name:"sync",size:"xs",role:"button",onMouseDown:t=>{e.onCancel(t)}}))}function dr(e){const t=(0,In.useStyles2)(pr),n=(0,In.useTheme2)(),r="vertical"===e.layout,a=Boolean(e.isLoading)?s().createElement("div",{style:{marginLeft:n.spacing(1),marginTop:"-1px"},"aria-label":Dn.Tp.components.LoadingIndicator.icon},s().createElement(cr,{onCancel:t=>{var n;t.preventDefault(),t.stopPropagation(),null==(n=e.onCancel)||n.call(e)}})):null;let o=null;e.error&&(o=s().createElement(In.Tooltip,{content:e.error,placement:"bottom"},s().createElement(In.Icon,{className:t.errorIcon,name:"exclamation-triangle"})));let i=null;e.description&&(i=s().createElement(In.Tooltip,{content:e.description,placement:r?"top":"bottom"},s().createElement(In.Icon,{className:t.normalIcon,name:"info-circle"})));const l="string"==typeof e.label?Dn.Tp.pages.Dashboard.SubMenu.submenuItemLabels(e.label):"";let u;return u=r?s().createElement("label",{className:t.verticalLabel,"data-testid":l,htmlFor:e.htmlFor},e.label,i,o,e.icon&&s().createElement(In.Icon,{name:e.icon,className:t.normalIcon}),a,e.onRemove&&s().createElement(In.IconButton,{variant:"secondary",size:"xs",name:"times",onClick:e.onRemove,tooltip:"Remove"})):s().createElement("label",{className:t.horizontalLabel,"data-testid":l,htmlFor:e.htmlFor},o,e.icon&&s().createElement(In.Icon,{name:e.icon,className:t.normalIcon}),e.label,i,a),u}const pr=e=>({horizontalLabel:(0,Pn.css)({background:e.isDark?e.colors.background.primary:e.colors.background.secondary,display:"flex",alignItems:"center",padding:e.spacing(0,1),fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,height:e.spacing(e.components.height.md),lineHeight:e.spacing(e.components.height.md),borderRadius:`${e.shape.radius.default} 0 0 ${e.shape.radius.default}`,border:`1px solid ${e.components.input.borderColor}`,position:"relative",right:-1,whiteSpace:"nowrap",gap:e.spacing(.5)}),verticalLabel:(0,Pn.css)({display:"flex",alignItems:"center",fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,lineHeight:e.typography.bodySmall.lineHeight,whiteSpace:"nowrap",marginBottom:e.spacing(.5),gap:e.spacing(1)}),errorIcon:(0,Pn.css)({color:e.colors.error.text}),normalIcon:(0,Pn.css)({color:e.colors.text.secondary})});var fr=Object.defineProperty,hr=Object.getOwnPropertySymbols,gr=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable,vr=(e,t,n)=>t in e?fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function br(e,t){return""!==e?{value:e,label:t||e}:null}const yr=()=>!0;function wr({filter:e,model:t}){var n,r,a,i,l;const u=(0,In.useStyles2)(Sr),[c,d]=(0,o.useState)([]),[p,f]=(0,o.useState)([]),[h,g]=(0,o.useState)(!1),[m,v]=(0,o.useState)(!1),[b,y]=(0,o.useState)(!1),[w,S]=(0,o.useState)(!1),[x,E]=(0,o.useState)(!1),[C,A]=(0,o.useState)(""),[O,R]=(0,o.useState)(!1),[I,D]=(0,o.useState)(e.values?e.values.map((t,n)=>{var r;return br(t,null==(r=e.valueLabels)?void 0:r[n])}):[]),P=il(e.operator),_=br(e.key,e.keyLabel),T=br(e.value,null==(n=e.valueLabels)?void 0:n[0]),k=(0,o.useMemo)(()=>function(e){const t=Kl(e.map(e=>{var t;return null!=(t=e.label)?t:String(e.value)}));return n=>t(n).map(t=>e[t])}(p),[p]),M=t.state.onAddCustomValue,B=(0,o.useMemo)(()=>Xl(k(C)),[k,C]),L={isMulti:!0,value:I,components:{Option:Un},hideSelectedOptions:!1,closeMenuOnSelect:!1,openMenuOnFocus:!1,onChange:e=>{D(e),e.some(e=>e.__isNew__)&&A("")},onBlur:()=>{var n,r;t._updateFilter(e,{value:null!=(r=null==(n=I[0])?void 0:n.value)?r:"",values:I.map(e=>e.value),valueLabels:I.map(e=>e.label)})}},N=s().createElement(In.Select,((e,t)=>{for(var n in t||(t={}))gr.call(t,n)&&vr(e,n,t[n]);if(hr)for(var n of hr(t))mr.call(t,n)&&vr(e,n,t[n]);return e})({virtualized:!0,allowCustomValue:null==(r=t.state.allowCustomValue)||r,isValidNewOption:e=>e.trim().length>0,allowCreateWhileLoading:!0,formatCreateLabel:e=>`Use custom value: ${e}`,disabled:t.state.readOnly,className:(0,Pn.cx)(u.value,w?u.widthWhenOpen:void 0),width:"auto",value:T,filterOption:yr,placeholder:"Select value",options:B,inputValue:C,onInputChange:(e,{action:t})=>("input-change"===t&&A(e),e),onChange:n=>{M&&n.__isNew__?t._updateFilter(e,M(n,e)):t._updateFilter(e,{value:n.value,valueLabels:n.label?[n.label]:[n.value]}),O!==n.__isNew__&&R(n.__isNew__)},isOpen:w&&!m,isLoading:m,openMenuOnFocus:!0,onOpenMenu:async()=>{var n;v(!0),S(!0);const r=await t._getValuesFor(e);v(!1),f(r),O&&A(null!=(n=null==T?void 0:T.label)?n:"")},onCloseMenu:()=>{S(!1),A("")}},P&&L)),V=s().createElement(In.Select,{key:m?"loading":"loaded",disabled:t.state.readOnly,className:(0,Pn.cx)(u.key,b?u.widthWhenOpen:void 0),width:"auto",allowCustomValue:null==(a=t.state.allowCustomValue)||a,value:_,placeholder:"Select label",options:Xl(c),onChange:n=>{t._updateFilter(e,{key:n.value,keyLabel:n.label,value:"",valueLabels:[""],values:void 0}),D([])},autoFocus:""===e.key,isOpen:b&&!h,isLoading:h,onOpenMenu:async()=>{y(!0),g(!0);const n=await t._getKeys(e.key);g(!1),d(n)},onCloseMenu:()=>{y(!1)},onBlur:()=>{""===e.key&&t._removeFilter(e)},openMenuOnFocus:!0}),F=s().createElement(In.Select,{className:(0,Pn.cx)(u.operator,{[u.widthWhenOpen]:x}),value:e.operator,disabled:t.state.readOnly,options:t._getOperators(),onChange:n=>{var r,a;const o=e.operator,i=n.value,s={operator:i};il(o)&&!il(i)?(s.value="",s.valueLabels=[""],s.values=void 0,D([])):!il(o)&&il(i)&&e.value&&(s.values=[e.value],D([{value:e.value,label:null!=(a=null==(r=e.valueLabels)?void 0:r[0])?a:e.value}])),t._updateFilter(e,s)},onOpenMenu:()=>{E(!0)},onCloseMenu:()=>{E(!1)}});if("vertical"===t.state.layout){if(e.key){const n=s().createElement(dr,{layout:"vertical",label:null!=(i=e.key)?i:"",onRemove:()=>t._removeFilter(e)});return s().createElement(In.Field,{label:n,"data-testid":`AdHocFilter-${e.key}`,className:u.field},s().createElement("div",{className:u.wrapper},F,N))}return s().createElement(In.Field,{label:"Select label","data-testid":`AdHocFilter-${e.key}`,className:u.field},V)}return s().createElement("div",{className:u.wrapper,"data-testid":`AdHocFilter-${e.key}`},V,F,N,s().createElement(In.Button,{variant:"secondary","aria-label":"Remove filter",title:"Remove filter",className:u.removeButton,icon:"times","data-testid":`AdHocFilter-remove-${null!=(l=e.key)?l:""}`,onClick:()=>t._removeFilter(e)}))}const Sr=e=>({field:(0,Pn.css)({marginBottom:0}),wrapper:(0,Pn.css)({display:"flex","> *":{"&:not(:first-child)":{marginLeft:-1},"&:first-child":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:first-child):not(:last-child)":{borderRadius:0},position:"relative",zIndex:0,"&:hover":{zIndex:1},"&:focus-within":{zIndex:2}}}),widthWhenOpen:(0,Pn.css)({minWidth:e.spacing(16)}),value:(0,Pn.css)({flexBasis:"content",flexShrink:1,minWidth:"90px"}),key:(0,Pn.css)({flexBasis:"content",minWidth:"90px",flexShrink:1}),operator:(0,Pn.css)({flexShrink:0,flexBasis:"content"}),removeButton:(0,Pn.css)({paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5),borderLeft:"none",width:e.spacing(3),marginRight:e.spacing(1),boxSizing:"border-box",position:"relative",left:"1px"})});function xr({model:e,addFilterButtonText:t}){const{_wip:n}=e.useState();return n?s().createElement(wr,{filter:n,model:e}):s().createElement(In.Button,{variant:"secondary",icon:"plus",title:"Add filter","aria-label":"Add filter","data-testid":"AdHocFilter-add",onClick:()=>e._addWip()},t)}class Er{constructor(e){this._variable=e}getKey(){return`var-${this._variable.state.name}`}getKeys(){return[this.getKey()]}getUrlState(){const e=this._variable.state.filters;if(0===e.length)return{[this.getKey()]:[""]};const t=e.filter(ol).filter(e=>!e.hidden).map(e=>function(e){var t;const n=[ql(e.key,e.keyLabel),e.operator];return il(e.operator)?e.values.forEach((t,r)=>{var a;n.push(ql(t,null==(a=e.valueLabels)?void 0:a[r]))}):n.push(ql(e.value,null==(t=e.valueLabels)?void 0:t[0])),n}(e).map(Ul).join("|"));return{[this.getKey()]:t}}updateFromUrl(e){const t=e[this.getKey()];if(null==t)return;const n=function(e){if(Array.isArray(e))return e.map(Cr).filter(Ar);const t=Cr(e);return null===t?[]:[t]}(t);this._variable.setState({filters:n})}}function Cr(e){if("string"!=typeof e||0===e.length)return null;const[t,n,r,a,...o]=e.split("|").reduce((e,t)=>{const[n,r]=t.split(",");return e.push(n,null!=r?r:n),e},[]).map(Wl);return{key:t,keyLabel:n,operator:r,value:o[0],values:il(r)?o.filter((e,t)=>t%2==0):void 0,valueLabels:o.filter((e,t)=>t%2==1),condition:""}}function Ar(e){return null!==e&&"string"==typeof e.key&&"string"==typeof e.value}function Or(){return"undefined"!=typeof window}function Rr(e){return Pr(e)?(e.nodeName||"").toLowerCase():"#document"}function Ir(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Dr(e){var t;return null==(t=(Pr(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Pr(e){return!!Or()&&(e instanceof Node||e instanceof Ir(e).Node)}function _r(e){return!!Or()&&(e instanceof Element||e instanceof Ir(e).Element)}function Tr(e){return!!Or()&&(e instanceof HTMLElement||e instanceof Ir(e).HTMLElement)}function kr(e){return!(!Or()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Ir(e).ShadowRoot)}const Mr=new Set(["inline","contents"]);function Br(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Mr.has(a)}const Lr=new Set(["table","td","th"]);function Nr(e){return Lr.has(Rr(e))}const Vr=[":popover-open",":modal"];function Fr(e){return Vr.some(t=>{try{return e.matches(t)}catch(e){return!1}})}const jr=["transform","translate","scale","rotate","perspective"],$r=["transform","translate","scale","rotate","perspective","filter"],zr=["paint","layout","strict","content"];function Hr(e){const t=Ur(),n=_r(e)?qr(e):e;return jr.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||$r.some(e=>(n.willChange||"").includes(e))||zr.some(e=>(n.contain||"").includes(e))}function Ur(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Gr=new Set(["html","body","#document"]);function Wr(e){return Gr.has(Rr(e))}function qr(e){return Ir(e).getComputedStyle(e)}function Qr(e){return _r(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yr(e){if("html"===Rr(e))return e;const t=e.assignedSlot||e.parentNode||kr(e)&&e.host||Dr(e);return kr(t)?t.host:t}function Xr(e){const t=Yr(e);return Wr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tr(t)&&Br(t)?t:Xr(t)}function Kr(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=Xr(e),o=a===(null==(r=e.ownerDocument)?void 0:r.body),i=Ir(a);if(o){const e=Zr(i);return t.concat(i,i.visualViewport||[],Br(a)?a:[],e&&n?Kr(e):[])}return t.concat(a,Kr(a,[],n))}function Zr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Jr(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function ea(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&kr(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function ta(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function na(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:n}=e;return t+"/"+n}).join(" "):navigator.userAgent}function ra(e){return!(0!==e.mozInputSource||!e.isTrusted)||(ia()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function aa(e){return!na().includes("jsdom/")&&(!ia()&&0===e.width&&0===e.height||ia()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function oa(){return/apple/i.test(navigator.vendor)}function ia(){const e=/android/i;return e.test(ta())||e.test(na())}function sa(e){return(null==e?void 0:e.ownerDocument)||document}function la(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function ua(e){return"composedPath"in e?e.composedPath()[0]:e.target}function ca(e){e.preventDefault(),e.stopPropagation()}function da(e){return!!e&&"combobox"===e.getAttribute("role")&&function(e){return Tr(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}(e)}const pa=Math.min,fa=Math.max,ha=Math.round,ga=Math.floor,ma=e=>({x:e,y:e}),va={left:"right",right:"left",bottom:"top",top:"bottom"},ba={start:"end",end:"start"};function ya(e,t){return"function"==typeof e?e(t):e}function wa(e){return e.split("-")[0]}function Sa(e){return e.split("-")[1]}function xa(e){return"y"===e?"height":"width"}const Ea=new Set(["top","bottom"]);function Ca(e){return Ea.has(wa(e))?"y":"x"}function Aa(e){return"x"===Ca(e)?"y":"x"}function Oa(e){return e.replace(/start|end/g,e=>ba[e])}const Ra=["left","right"],Ia=["right","left"],Da=["top","bottom"],Pa=["bottom","top"];function _a(e){return e.replace(/left|right|bottom|top/g,e=>va[e])}function Ta(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}var ka=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),Ma="undefined"==typeof Element,Ba=Ma?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,La=!Ma&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},Na=function e(t,n){var r;void 0===n&&(n=!0);var a=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===a||"true"===a||n&&t&&e(t.parentNode)},Va=function e(t,n,r){for(var a=[],o=Array.from(t);o.length;){var i=o.shift();if(!Na(i,!1))if("SLOT"===i.tagName){var s=i.assignedElements(),l=e(s.length?s:i.children,!0,r);r.flatten?a.push.apply(a,l):a.push({scopeParent:i,candidates:l})}else{Ba.call(i,ka)&&r.filter(i)&&(n||!t.includes(i))&&a.push(i);var u=i.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(i),c=!Na(u,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(u&&c){var d=e(!0===u?i.children:u.children,!0,r);r.flatten?a.push.apply(a,d):a.push({scopeParent:i,candidates:d})}else o.unshift.apply(o,i.children)}}return a},Fa=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ja=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!Fa(e)?0:e.tabIndex},$a=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},za=function(e){return"INPUT"===e.tagName},Ha=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},Ua=function(e,t){return!(t.disabled||Na(t)||function(e){return za(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var a=Ba.call(e,"details>summary:first-of-type")?e.parentElement:e;if(Ba.call(a,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return Ha(e)}else{if("function"==typeof r){for(var o=e;e;){var i=e.parentElement,s=La(e);if(i&&!i.shadowRoot&&!0===r(i))return Ha(e);e=e.assignedSlot?e.assignedSlot:i||s===e.ownerDocument?i:s.host}e=o}if(function(e){var t,n,r,a,o=e&&La(e),i=null===(t=o)||void 0===t?void 0:t.host,s=!1;if(o&&o!==e)for(s=!!(null!==(n=i)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(i)||null!=e&&null!==(a=e.ownerDocument)&&void 0!==a&&a.contains(e));!s&&i;){var l,u,c;s=!(null===(u=i=null===(l=o=La(i))||void 0===l?void 0:l.host)||void 0===u||null===(c=u.ownerDocument)||void 0===c||!c.contains(i))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some(function(e){return"SUMMARY"===e.tagName})}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!Ba.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},Ga=function(e,t){return!(function(e){return function(e){return za(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||La(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var a=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!a||a===e}(e)}(t)||ja(t)<0||!Ua(e,t))},Wa=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},qa=function e(t){var n=[],r=[];return t.forEach(function(t,a){var o=!!t.scopeParent,i=o?t.scopeParent:t,s=function(e,t){var n=ja(e);return n<0&&t&&!Fa(e)?0:n}(i,o),l=o?e(t.candidates):i;0===s?o?n.push.apply(n,l):n.push(i):r.push({documentOrder:a,tabIndex:s,item:t,isScope:o,content:l})}),r.sort($a).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(n)},Qa=function(e,t){var n;return n=(t=t||{}).getShadowRoot?Va([e],t.includeContainer,{filter:Ga.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Wa}):function(e,t,n){if(Na(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(ka));return t&&Ba.call(e,ka)&&r.unshift(e),r.filter(n)}(e,t.includeContainer,Ga.bind(null,t)),qa(n)},Ya=n(8398);function Xa(e,t,n){let{reference:r,floating:a}=e;const o=Ca(t),i=Aa(t),s=xa(i),l=wa(t),u="y"===o,c=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,p=r[s]/2-a[s]/2;let f;switch(l){case"top":f={x:c,y:r.y-a.height};break;case"bottom":f={x:c,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-a.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Sa(t)){case"start":f[i]-=p*(n&&u?-1:1);break;case"end":f[i]+=p*(n&&u?-1:1)}return f}async function Ka(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:o,rects:i,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=ya(t,e),h=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(f),g=s[p?"floating"===d?"reference":"floating":d],m=Ta(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(g)))||n?g:g.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),v="floating"===d?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),y=await(null==o.isElement?void 0:o.isElement(b))&&await(null==o.getScale?void 0:o.getScale(b))||{x:1,y:1},w=Ta(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:b,strategy:l}):v);return{top:(m.top-w.top+h.top)/y.y,bottom:(w.bottom-m.bottom+h.bottom)/y.y,left:(m.left-w.left+h.left)/y.x,right:(w.right-m.right+h.right)/y.x}}const Za=new Set(["left","top"]);function Ja(e){const t=qr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Tr(e),o=a?e.offsetWidth:n,i=a?e.offsetHeight:r,s=ha(n)!==o||ha(r)!==i;return s&&(n=o,r=i),{width:n,height:r,$:s}}function eo(e){return _r(e)?e:e.contextElement}function to(e){const t=eo(e);if(!Tr(t))return ma(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=Ja(t);let i=(o?ha(n.width):n.width)/r,s=(o?ha(n.height):n.height)/a;return i&&Number.isFinite(i)||(i=1),s&&Number.isFinite(s)||(s=1),{x:i,y:s}}const no=ma(0);function ro(e){const t=Ir(e);return Ur()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:no}function ao(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),o=eo(e);let i=ma(1);t&&(r?_r(r)&&(i=to(r)):i=to(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Ir(e))&&t}(o,n,r)?ro(o):ma(0);let l=(a.left+s.x)/i.x,u=(a.top+s.y)/i.y,c=a.width/i.x,d=a.height/i.y;if(o){const e=Ir(o),t=r&&_r(r)?Ir(r):r;let n=e,a=Zr(n);for(;a&&r&&t!==n;){const e=to(a),t=a.getBoundingClientRect(),r=qr(a),o=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,i=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,d*=e.y,l+=o,u+=i,n=Ir(a),a=Zr(n)}}return Ta({width:c,height:d,x:l,y:u})}function oo(e,t){const n=Qr(e).scrollLeft;return t?t.left+n:ao(Dr(e)).left+n}function io(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:oo(e,r)),y:r.top+t.scrollTop}}const so=new Set(["absolute","fixed"]);function lo(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Ir(e),r=Dr(e),a=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,s=0,l=0;if(a){o=a.width,i=a.height;const e=Ur();(!e||e&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}return{width:o,height:i,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=Dr(e),n=Qr(e),r=e.ownerDocument.body,a=fa(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=fa(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+oo(e);const s=-n.scrollTop;return"rtl"===qr(r).direction&&(i+=fa(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:s}}(Dr(e));else if(_r(t))r=function(e,t){const n=ao(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=Tr(e)?to(e):ma(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:a*o.x,y:r*o.y}}(t,n);else{const n=ro(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Ta(r)}function uo(e,t){const n=Yr(e);return!(n===t||!_r(n)||Wr(n))&&("fixed"===qr(n).position||uo(n,t))}function co(e,t,n){const r=Tr(t),a=Dr(t),o="fixed"===n,i=ao(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=ma(0);function u(){l.x=oo(a)}if(r||!r&&!o)if(("body"!==Rr(t)||Br(a))&&(s=Qr(t)),r){const e=ao(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&u();o&&!r&&a&&u();const c=!a||r||o?ma(0):io(a,s);return{x:i.left+s.scrollLeft-l.x-c.x,y:i.top+s.scrollTop-l.y-c.y,width:i.width,height:i.height}}function po(e){return"static"===qr(e).position}function fo(e,t){if(!Tr(e)||"fixed"===qr(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Dr(e)===n&&(n=n.ownerDocument.body),n}function ho(e,t){const n=Ir(e);if(Fr(e))return n;if(!Tr(e)){let t=Yr(e);for(;t&&!Wr(t);){if(_r(t)&&!po(t))return t;t=Yr(t)}return n}let r=fo(e,t);for(;r&&Nr(r)&&po(r);)r=fo(r,t);return r&&Wr(r)&&po(r)&&!Hr(r)?n:r||function(e){let t=Yr(e);for(;Tr(t)&&!Wr(t);){if(Hr(t))return t;if(Fr(t))return null;t=Yr(t)}return null}(e)||n}const go={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o="fixed"===a,i=Dr(r),s=!!t&&Fr(t.floating);if(r===i||s&&o)return n;let l={scrollLeft:0,scrollTop:0},u=ma(1);const c=ma(0),d=Tr(r);if((d||!d&&!o)&&(("body"!==Rr(r)||Br(i))&&(l=Qr(r)),Tr(r))){const e=ao(r);u=to(r),c.x=e.x+r.clientLeft,c.y=e.y+r.clientTop}const p=!i||d||o?ma(0):io(i,l,!0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+p.x,y:n.y*u.y-l.scrollTop*u.y+c.y+p.y}},getDocumentElement:Dr,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[..."clippingAncestors"===n?Fr(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Kr(e,[],!1).filter(e=>_r(e)&&"body"!==Rr(e)),a=null;const o="fixed"===qr(e).position;let i=o?Yr(e):e;for(;_r(i)&&!Wr(i);){const t=qr(i),n=Hr(i);n||"fixed"!==t.position||(a=null),(o?!n&&!a:!n&&"static"===t.position&&a&&so.has(a.position)||Br(i)&&!n&&uo(e,i))?r=r.filter(e=>e!==i):a=t,i=Yr(i)}return t.set(e,r),r}(t,this._c):[].concat(n),r],i=o[0],s=o.reduce((e,n)=>{const r=lo(t,n,a);return e.top=fa(r.top,e.top),e.right=pa(r.right,e.right),e.bottom=pa(r.bottom,e.bottom),e.left=fa(r.left,e.left),e},lo(t,i,a));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:ho,getElementRects:async function(e){const t=this.getOffsetParent||ho,n=this.getDimensions,r=await n(e.floating);return{reference:co(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Ja(e);return{width:t,height:n}},getScale:to,isElement:_r,isRTL:function(e){return"rtl"===qr(e).direction}};function mo(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vo(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,u=eo(e),c=a||o?[...u?Kr(u):[],...Kr(t)]:[];c.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const d=u&&s?function(e,t){let n,r=null;const a=Dr(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function i(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:d,width:p,height:f}=u;if(s||t(),!p||!f)return;const h={rootMargin:-ga(d)+"px "+-ga(a.clientWidth-(c+p))+"px "+-ga(a.clientHeight-(d+f))+"px "+-ga(c)+"px",threshold:fa(0,pa(1,l))||1};let g=!0;function m(t){const r=t[0].intersectionRatio;if(r!==l){if(!g)return i();r?i(!1,r):n=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==r||mo(u,e.getBoundingClientRect())||i(),g=!1}try{r=new IntersectionObserver(m,{...h,root:a.ownerDocument})}catch(e){r=new IntersectionObserver(m,h)}r.observe(e)}(!0),o}(u,n):null;let p,f=-1,h=null;i&&(h=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=h)||e.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let g=l?ao(e):null;return l&&function t(){const r=ao(e);g&&!mo(g,r)&&n(),g=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;c.forEach(e=>{a&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=h)||e.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const bo=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:i,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:a}=e,o=await(null==r.isRTL?void 0:r.isRTL(a.floating)),i=wa(n),s=Sa(n),l="y"===Ca(n),u=Za.has(i)?-1:1,c=o&&l?-1:1,d=ya(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof h&&(f="end"===s?-1*h:h),l?{x:f*c,y:p*u}:{x:p*u,y:f*c}}(t,e);return i===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:a+l.x,y:o+l.y,data:{...l,placement:i}}}}},yo=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:g=!0,...m}=ya(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const v=wa(a),b=Ca(s),y=wa(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(u.floating)),S=p||(y||!g?[_a(s)]:function(e){const t=_a(e);return[Oa(e),t,Oa(t)]}(s)),x="none"!==h;!p&&x&&S.push(...function(e,t,n,r){const a=Sa(e);let o=function(e,t,n){switch(e){case"top":case"bottom":return n?t?Ia:Ra:t?Ra:Ia;case"left":case"right":return t?Da:Pa;default:return[]}}(wa(e),"start"===n,r);return a&&(o=o.map(e=>e+"-"+a),t&&(o=o.concat(o.map(Oa)))),o}(s,g,h,w));const E=[s,...S],C=await Ka(t,m),A=[];let O=(null==(r=o.flip)?void 0:r.overflows)||[];if(c&&A.push(C[v]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=Sa(e),a=Aa(e),o=xa(a);let i="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=_a(i)),[i,_a(i)]}(a,i,w);A.push(C[e[0]],C[e[1]])}if(O=[...O,{placement:a,overflows:A}],!A.every(e=>e<=0)){var R,I;const e=((null==(R=o.flip)?void 0:R.index)||0)+1,t=E[e];if(t&&("alignment"!==d||b===Ca(t)||O.every(e=>e.overflows[0]>0&&Ca(e.placement)===b)))return{data:{index:e,overflows:O},reset:{placement:t}};let n=null==(I=O.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:I.placement;if(!n)switch(f){case"bestFit":{var D;const e=null==(D=O.filter(e=>{if(x){const t=Ca(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:D[0];e&&(n=e);break}case"initialPlacement":n=s}if(a!==n)return{reset:{placement:n}}}return{}}}},wo=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:i,elements:s}=t,{apply:l=()=>{},...u}=ya(e,t),c=await Ka(t,u),d=wa(a),p=Sa(a),f="y"===Ca(a),{width:h,height:g}=o.floating;let m,v;"top"===d||"bottom"===d?(m=d,v=p===(await(null==i.isRTL?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(v=d,m="end"===p?"top":"bottom");const b=g-c.top-c.bottom,y=h-c.left-c.right,w=pa(g-c[m],b),S=pa(h-c[v],y),x=!t.middlewareData.shift;let E=w,C=S;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(C=y),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(E=b),x&&!p){const e=fa(c.left,0),t=fa(c.right,0),n=fa(c.top,0),r=fa(c.bottom,0);f?C=h-2*(0!==e||0!==t?e+t:fa(c.left,c.right)):E=g-2*(0!==n||0!==r?n+r:fa(c.top,c.bottom))}await l({...t,availableWidth:C,availableHeight:E});const A=await i.getDimensions(s.floating);return h!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}},So=(e,t,n)=>{const r=new Map,a={platform:go,...n},o={...a.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=n,s=o.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:c,y:d}=Xa(u,r,l),p=r,f={},h=0;for(let n=0;n<s.length;n++){const{name:o,fn:g}=s[n],{x:m,y:v,data:b,reset:y}=await g({x:c,y:d,initialPlacement:r,placement:p,strategy:a,middlewareData:f,rects:u,platform:i,elements:{reference:e,floating:t}});c=null!=m?m:c,d=null!=v?v:d,f={...f,[o]:{...f[o],...b}},y&&h<=50&&(h++,"object"==typeof y&&(y.placement&&(p=y.placement),y.rects&&(u=!0===y.rects?await i.getElementRects({reference:e,floating:t,strategy:a}):y.rects),({x:c,y:d}=Xa(u,p,l))),n=-1)}return{x:c,y:d,placement:p,strategy:a,middlewareData:f}})(e,t,{...a,platform:o})};var xo="undefined"!=typeof document?o.useLayoutEffect:function(){};function Eo(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Eo(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){const n=a[r];if(!("_owner"===n&&e.$$typeof||Eo(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function Co(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ao(e,t){const n=Co(e);return Math.round(t*n)/n}function Oo(e){const t=o.useRef(e);return xo(()=>{t.current=e}),t}const Ro=(e,t)=>({...yo(e),options:[e,t]}),Io=(e,t)=>({...wo(e),options:[e,t]}),Do={...i},Po=Do.useInsertionEffect||(e=>e());function _o(e){const t=o.useRef(()=>{});return Po(()=>{t.current=e}),o.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}const To="ArrowUp",ko="ArrowDown",Mo="ArrowLeft",Bo="ArrowRight";function Lo(e,t,n){return Math.floor(e/t)!==n}function No(e,t){return t<0||t>=e.current.length}function Vo(e,t){return jo(e,{disabledIndices:t})}function Fo(e,t){return jo(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function jo(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:a,amount:o=1}=void 0===t?{}:t;const i=e.current;let s=n;do{s+=r?-o:o}while(s>=0&&s<=i.length-1&&Ho(i,s,a));return s}function $o(e,t,n,r,a){if(-1===e)return-1;const o=n.indexOf(e),i=t[e];switch(a){case"tl":return o;case"tr":return i?o+i.width-1:o;case"bl":return i?o+(i.height-1)*r:o;case"br":return n.lastIndexOf(e)}}function zo(e,t){return t.flatMap((t,n)=>e.includes(t)?[n]:[])}function Ho(e,t,n){if(n)return n.includes(t);const r=e[t];return null==r||r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled")}var Uo="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Go.apply(this,arguments)}let Wo=!1,qo=0;const Qo=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+qo++,Yo=Do.useId||function(){const[e,t]=o.useState(()=>Wo?Qo():void 0);return Uo(()=>{null==e&&t(Qo())},[]),o.useEffect(()=>{Wo=!0},[]),e};const Xo=o.createContext(null),Ko=o.createContext(null),Zo=()=>{var e;return(null==(e=o.useContext(Xo))?void 0:e.id)||null},Jo=()=>o.useContext(Ko);function ei(e){return"data-floating-ui-"+e}function ti(e){const t=(0,o.useRef)(e);return Uo(()=>{t.current=e}),t}let ni=0;function ri(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:a=!1}=t;r&&cancelAnimationFrame(ni);const o=()=>null==e?void 0:e.focus({preventScroll:n});a?o():ni=requestAnimationFrame(o)}function ai(e,t){let n=e.filter(e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)}),r=n;for(;r.length;)r=e.filter(e=>{var t;return null==(t=r)?void 0:t.some(t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)})}),n=n.concat(r);return n}let oi=new WeakMap,ii=new WeakSet,si={},li=0;const ui=e=>e&&(e.host||ui(e.parentNode));function ci(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=sa(e[0]).body;return function(e,t,n,r){const a="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,i=(s=t,e.map(e=>{if(s.contains(e))return e;const t=ui(e);return s.contains(t)?t:null}).filter(e=>null!=e));var s;const l=new Set,u=new Set(i),c=[];si[a]||(si[a]=new WeakMap);const d=si[a];return i.forEach(function e(t){t&&!l.has(t)&&(l.add(t),t.parentNode&&e(t.parentNode))}),function e(t){t&&!u.has(t)&&[].forEach.call(t.children,t=>{if("script"!==Rr(t))if(l.has(t))e(t);else{const e=o?t.getAttribute(o):null,n=null!==e&&"false"!==e,r=(oi.get(t)||0)+1,i=(d.get(t)||0)+1;oi.set(t,r),d.set(t,i),c.push(t),1===r&&n&&ii.add(t),1===i&&t.setAttribute(a,""),!n&&o&&t.setAttribute(o,"true")}})}(t),l.clear(),li++,()=>{c.forEach(e=>{const t=(oi.get(e)||0)-1,n=(d.get(e)||0)-1;oi.set(e,t),d.set(e,n),t||(!ii.has(e)&&o&&e.removeAttribute(o),ii.delete(e)),n||e.removeAttribute(a)}),li--,li||(oi=new WeakMap,oi=new WeakMap,ii=new WeakSet,si={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const di=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function pi(e,t){const n=Qa(e,di());"prev"===t&&n.reverse();const r=n.indexOf(Jr(sa(e)));return n.slice(r+1)[0]}function fi(){return pi(document.body,"next")}function hi(){return pi(document.body,"prev")}function gi(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!ea(n,r)}function mi(e){Qa(e,di()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})}function vi(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}const bi={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function yi(e){"Tab"===e.key&&(e.target,clearTimeout(void 0))}const wi=o.forwardRef(function(e,t){const[n,r]=o.useState();Uo(()=>(oa()&&r("button"),document.addEventListener("keydown",yi),()=>{document.removeEventListener("keydown",yi)}),[]);const a={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[ei("focus-guard")]:"",style:bi};return o.createElement("span",Go({},e,a))}),Si=o.createContext(null),xi=ei("portal");function Ei(e){const{children:t,id:n,root:r,preserveTabOrder:a=!0}=e,i=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=Yo(),a=Ci(),[i,s]=o.useState(null),l=o.useRef(null);return Uo(()=>()=>{null==i||i.remove(),queueMicrotask(()=>{l.current=null})},[i]),Uo(()=>{if(!r)return;if(l.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(xi,""),e.appendChild(n),l.current=n,s(n)},[t,r]),Uo(()=>{if(null===n)return;if(!r)return;if(l.current)return;let e=n||(null==a?void 0:a.portalNode);e&&!_r(e)&&(e=e.current),e=e||document.body;let o=null;t&&(o=document.createElement("div"),o.id=t,e.appendChild(o));const i=document.createElement("div");i.id=r,i.setAttribute(xi,""),e=o||e,e.appendChild(i),l.current=i,s(i)},[t,n,r,a]),i}({id:n,root:r}),[s,l]=o.useState(null),u=o.useRef(null),c=o.useRef(null),d=o.useRef(null),p=o.useRef(null),f=null==s?void 0:s.modal,h=null==s?void 0:s.open,g=!!s&&!s.modal&&s.open&&a&&!(!r&&!i);return o.useEffect(()=>{if(i&&a&&!f)return i.addEventListener("focusin",e,!0),i.addEventListener("focusout",e,!0),()=>{i.removeEventListener("focusin",e,!0),i.removeEventListener("focusout",e,!0)};function e(e){i&&gi(e)&&("focusin"===e.type?vi:mi)(i)}},[i,a,f]),o.useEffect(()=>{i&&(h||vi(i))},[h,i]),o.createElement(Si.Provider,{value:o.useMemo(()=>({preserveTabOrder:a,beforeOutsideRef:u,afterOutsideRef:c,beforeInsideRef:d,afterInsideRef:p,portalNode:i,setFocusManagerState:l}),[a,i])},g&&i&&o.createElement(wi,{"data-type":"outside",ref:u,onFocus:e=>{if(gi(e,i)){var t;null==(t=d.current)||t.focus()}else{const e=hi()||(null==s?void 0:s.refs.domReference.current);null==e||e.focus()}}}),g&&i&&o.createElement("span",{"aria-owns":i.id,style:bi}),i&&Ya.createPortal(t,i),g&&i&&o.createElement(wi,{"data-type":"outside",ref:c,onFocus:e=>{if(gi(e,i)){var t;null==(t=p.current)||t.focus()}else{const t=fi()||(null==s?void 0:s.refs.domReference.current);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent,"focus-out"))}}}))}const Ci=()=>o.useContext(Si),Ai="data-floating-ui-focusable";function Oi(e){return e?e.hasAttribute(Ai)?e:e.querySelector("["+Ai+"]")||e:null}let Ri=[];function Ii(e){Ri=Ri.filter(e=>e.isConnected);let t=e;if(t&&"body"!==Rr(t)){if(!function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==Ba.call(e,ka)&&Ga(t,e)}(t,di())){const e=Qa(t,di())[0];e&&(t=e)}Ri.push(t),Ri.length>20&&(Ri=Ri.slice(-20))}}function Di(){return Ri.slice().reverse().find(e=>e.isConnected)}const Pi=o.forwardRef(function(e,t){return o.createElement("button",Go({},e,{type:"button",ref:t,tabIndex:-1,style:bi}))});function _i(e){const{context:t,children:n,disabled:r=!1,order:a=["content"],guards:i=!0,initialFocus:s=0,returnFocus:l=!0,restoreFocus:u=!1,modal:c=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:p=!0}=e,{open:f,refs:h,nodeId:g,onOpenChange:m,events:v,dataRef:b,floatingId:y,elements:{domReference:w,floating:S}}=t,x="number"==typeof s&&s<0,E=da(w)&&x,C="undefined"==typeof HTMLElement||!("inert"in HTMLElement.prototype)||i,A=ti(a),O=ti(s),R=ti(l),I=Jo(),D=Ci(),P=o.useRef(null),_=o.useRef(null),T=o.useRef(!1),k=o.useRef(!1),M=o.useRef(-1),B=null!=D,L=Oi(S),N=_o(function(e){return void 0===e&&(e=L),e?Qa(e,di()):[]}),V=_o(e=>{const t=N(e);return A.current.map(e=>w&&"reference"===e?w:L&&"floating"===e?L:t).filter(Boolean).flat()});function F(e){return!r&&d&&c?o.createElement(Pi,{ref:"start"===e?P:_,onClick:e=>m(!1,e.nativeEvent)},"string"==typeof d?d:"Dismiss"):null}o.useEffect(()=>{if(r)return;if(!c)return;function e(e){if("Tab"===e.key){ea(L,Jr(sa(L)))&&0===N().length&&!E&&ca(e);const t=V(),n=ua(e);"reference"===A.current[0]&&n===w&&(ca(e),e.shiftKey?ri(t[t.length-1]):ri(t[1])),"floating"===A.current[1]&&n===L&&e.shiftKey&&(ca(e),ri(t[0]))}}const t=sa(L);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[r,w,L,c,A,E,N,V]),o.useEffect(()=>{if(!r&&S)return S.addEventListener("focusin",e),()=>{S.removeEventListener("focusin",e)};function e(e){const t=ua(e),n=N().indexOf(t);-1!==n&&(M.current=n)}},[r,S,N]),o.useEffect(()=>{if(!r&&p)return S&&Tr(w)?(w.addEventListener("focusout",t),w.addEventListener("pointerdown",e),S.addEventListener("focusout",t),()=>{w.removeEventListener("focusout",t),w.removeEventListener("pointerdown",e),S.removeEventListener("focusout",t)}):void 0;function e(){k.current=!0,setTimeout(()=>{k.current=!1})}function t(e){const t=e.relatedTarget;queueMicrotask(()=>{const n=!(ea(w,t)||ea(S,t)||ea(t,S)||ea(null==D?void 0:D.portalNode,t)||null!=t&&t.hasAttribute(ei("focus-guard"))||I&&(ai(I.nodesRef.current,g).find(e=>{var n,r;return ea(null==(n=e.context)?void 0:n.elements.floating,t)||ea(null==(r=e.context)?void 0:r.elements.domReference,t)})||function(e,t){var n;let r=[],a=null==(n=e.find(e=>e.id===t))?void 0:n.parentId;for(;a;){const t=e.find(e=>e.id===a);a=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(I.nodesRef.current,g).find(e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t})));if(u&&n&&Jr(sa(L))===sa(L).body){Tr(L)&&L.focus();const e=M.current,t=N(),n=t[e]||t[t.length-1]||L;Tr(n)&&n.focus()}!E&&c||!t||!n||k.current||t===Di()||(T.current=!0,m(!1,e,"focus-out"))})}},[r,w,S,L,c,g,I,D,m,p,u,N,E]),o.useEffect(()=>{var e;if(r)return;const t=Array.from((null==D||null==(e=D.portalNode)?void 0:e.querySelectorAll("["+ei("portal")+"]"))||[]);if(S){const e=[S,...t,P.current,_.current,A.current.includes("reference")||E?w:null].filter(e=>null!=e),n=c||E?ci(e,C,!C):ci(e);return()=>{n()}}},[r,w,S,c,A,D,E,C]),Uo(()=>{if(r||!Tr(L))return;const e=Jr(sa(L));queueMicrotask(()=>{const t=V(L),n=O.current,r=("number"==typeof n?t[n]:n.current)||L,a=ea(L,e);x||a||!f||ri(r,{preventScroll:r===L})})},[r,f,L,x,V,O]),Uo(()=>{if(r||!L)return;let e=!1;const t=sa(L),n=Jr(t);let a=b.current.openEvent;function o(t){let{open:n,reason:r,event:o,nested:i}=t;n&&(a=o),"escape-key"===r&&h.domReference.current&&Ii(h.domReference.current),"hover"===r&&"mouseleave"===o.type&&(T.current=!0),"outside-press"===r&&(i?(T.current=!1,e=!0):T.current=!(ra(o)||aa(o)))}Ii(n),v.on("openchange",o);const i=t.createElement("span");return i.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),Object.assign(i.style,bi),B&&w&&w.insertAdjacentElement("afterend",i),()=>{v.off("openchange",o);const n=Jr(t),r=ea(S,n)||I&&ai(I.nodesRef.current,g).some(e=>{var t;return ea(null==(t=e.context)?void 0:t.elements.floating,n)});(r||a&&["click","mousedown"].includes(a.type))&&h.domReference.current&&Ii(h.domReference.current);const s="boolean"==typeof R.current?Di()||i:R.current.current||i;queueMicrotask(()=>{R.current&&!T.current&&Tr(s)&&(s===n||n===t.body||r)&&s.focus({preventScroll:e}),i.remove()})}},[r,S,L,R,b,h,v,I,g,B,w]),o.useEffect(()=>{queueMicrotask(()=>{T.current=!1})},[r]),Uo(()=>{if(!r&&D)return D.setFocusManagerState({modal:c,closeOnFocusOut:p,open:f,onOpenChange:m,refs:h}),()=>{D.setFocusManagerState(null)}},[r,D,c,f,m,h,p]),Uo(()=>{if(r)return;if(!L)return;if("function"!=typeof MutationObserver)return;if(x)return;const e=()=>{const e=L.getAttribute("tabindex"),t=N(),n=Jr(sa(S)),r=t.indexOf(n);-1!==r&&(M.current=r),A.current.includes("floating")||n!==h.domReference.current&&0===t.length?"0"!==e&&L.setAttribute("tabindex","0"):"-1"!==e&&L.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(L,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}},[r,S,L,h,A,N,x]);const j=!r&&C&&(!c||!E)&&(B||c);return o.createElement(o.Fragment,null,j&&o.createElement(wi,{"data-type":"inside",ref:null==D?void 0:D.beforeInsideRef,onFocus:e=>{if(c){const e=V();ri("reference"===a[0]?e[0]:e[e.length-1])}else if(null!=D&&D.preserveTabOrder&&D.portalNode)if(T.current=!1,gi(e,D.portalNode)){const e=fi()||w;null==e||e.focus()}else{var t;null==(t=D.beforeOutsideRef.current)||t.focus()}}}),!E&&F("start"),n,F("end"),j&&o.createElement(wi,{"data-type":"inside",ref:null==D?void 0:D.afterInsideRef,onFocus:e=>{if(c)ri(V()[0]);else if(null!=D&&D.preserveTabOrder&&D.portalNode)if(p&&(T.current=!0),gi(e,D.portalNode)){const e=hi()||w;null==e||e.focus()}else{var t;null==(t=D.afterOutsideRef.current)||t.focus()}}}))}const Ti={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},ki={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Mi=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function Bi(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=Yo(),i=o.useRef({}),[s]=o.useState(()=>function(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter(e=>e!==n))||[])}}}()),l=null!=Zo(),[u,c]=o.useState(r.reference),d=_o((e,t,r)=>{i.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)}),p=o.useMemo(()=>({setPositionReference:c}),[]),f=o.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return o.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:f,events:s,floatingId:a,refs:p}),[t,d,f,s,a,p])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[i,s]=o.useState(null),[l,u]=o.useState(null),c=(null==a?void 0:a.domReference)||i,d=o.useRef(null),p=Jo();Uo(()=>{c&&(d.current=c)},[c]);const f=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:u,open:c}=e,[d,p]=o.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=o.useState(r);Eo(f,r)||h(r);const[g,m]=o.useState(null),[v,b]=o.useState(null),y=o.useCallback(e=>{e!==E.current&&(E.current=e,m(e))},[]),w=o.useCallback(e=>{e!==C.current&&(C.current=e,b(e))},[]),S=i||g,x=s||v,E=o.useRef(null),C=o.useRef(null),A=o.useRef(d),O=null!=u,R=Oo(u),I=Oo(a),D=Oo(c),P=o.useCallback(()=>{if(!E.current||!C.current)return;const e={placement:t,strategy:n,middleware:f};I.current&&(e.platform=I.current),So(E.current,C.current,e).then(e=>{const t={...e,isPositioned:!1!==D.current};_.current&&!Eo(A.current,t)&&(A.current=t,Ya.flushSync(()=>{p(t)}))})},[f,t,n,I,D]);xo(()=>{!1===c&&A.current.isPositioned&&(A.current.isPositioned=!1,p(e=>({...e,isPositioned:!1})))},[c]);const _=o.useRef(!1);xo(()=>(_.current=!0,()=>{_.current=!1}),[]),xo(()=>{if(S&&(E.current=S),x&&(C.current=x),S&&x){if(R.current)return R.current(S,x,P);P()}},[S,x,P,R,O]);const T=o.useMemo(()=>({reference:E,floating:C,setReference:y,setFloating:w}),[y,w]),k=o.useMemo(()=>({reference:S,floating:x}),[S,x]),M=o.useMemo(()=>{const e={position:n,left:0,top:0};if(!k.floating)return e;const t=Ao(k.floating,d.x),r=Ao(k.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+r+"px)",...Co(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,l,k.floating,d.x,d.y]);return o.useMemo(()=>({...d,update:P,refs:T,elements:k,floatingStyles:M}),[d,P,T,k,M])}({...e,elements:{...a,...l&&{reference:l}}}),h=o.useCallback(e=>{const t=_r(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;u(t),f.refs.setReference(t)},[f.refs]),g=o.useCallback(e=>{(_r(e)||null===e)&&(d.current=e,s(e)),(_r(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!_r(e))&&f.refs.setReference(e)},[f.refs]),m=o.useMemo(()=>({...f.refs,setReference:g,setPositionReference:h,domReference:d}),[f.refs,g,h]),v=o.useMemo(()=>({...f.elements,domReference:c}),[f.elements,c]),b=o.useMemo(()=>({...f,...r,refs:m,elements:v,nodeId:t}),[f,m,v,t,r]);return Uo(()=>{r.dataRef.current.floatingContext=b;const e=null==p?void 0:p.nodesRef.current.find(e=>e.id===t);e&&(e.context=b)}),o.useMemo(()=>({...f,context:b,refs:m,elements:v}),[f,m,v,b])}const Li="active",Ni="selected";function Vi(e,t,n){const r=new Map,a="item"===n;let o=e;if(a&&e){const{[Li]:t,[Ni]:n,...r}=e;o=r}return{..."floating"===n&&{tabIndex:-1,[Ai]:""},...o,...t.map(t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>t?(Object.entries(t).forEach(t=>{let[n,o]=t;var i;a&&[Li,Ni].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof o&&(null==(i=r.get(n))||i.push(o),e[n]=function(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return null==(e=r.get(n))?void 0:e.map(e=>e(...a)).find(e=>void 0!==e)})):e[n]=o)}),e):e,{})}}let Fi=!1;function ji(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function $i(e,t){return ji(t,e===To||e===ko,e===Mo||e===Bo)}function zi(e,t,n){return ji(t,e===ko,n?e===Mo:e===Bo)||"Enter"===e||" "===e||""===e}function Hi(e,t,n){return ji(t,n?e===Bo:e===Mo,e===To)}function Ui(e,t){const{open:n,onOpenChange:r,elements:a}=e,{listRef:i,activeIndex:s,onNavigate:l=()=>{},enabled:u=!0,selectedIndex:c=null,allowEscape:d=!1,loop:p=!1,nested:f=!1,rtl:h=!1,virtual:g=!1,focusItemOnOpen:m="auto",focusItemOnHover:v=!0,openOnArrowKeyDown:b=!0,disabledIndices:y,orientation:w="vertical",cols:S=1,scrollItemIntoView:x=!0,virtualItemRef:E,itemSizes:C,dense:A=!1}=t,O=ti(Oi(a.floating)),R=Zo(),I=Jo(),D=_o(l),P=da(a.domReference),_=o.useRef(m),T=o.useRef(null!=c?c:-1),k=o.useRef(null),M=o.useRef(!0),B=o.useRef(D),L=o.useRef(!!a.floating),N=o.useRef(n),V=o.useRef(!1),F=o.useRef(!1),j=ti(y),$=ti(n),z=ti(x),H=ti(c),[U,G]=o.useState(),[W,q]=o.useState(),Q=_o(function(e,t,n){function r(e){g?(G(e.id),null==I||I.events.emit("virtualfocus",e),E&&(E.current=e)):ri(e,{preventScroll:!0,sync:!(!ta().toLowerCase().startsWith("mac")||navigator.maxTouchPoints||!oa())&&(Fi||V.current)})}void 0===n&&(n=!1);const a=e.current[t.current];a&&r(a),requestAnimationFrame(()=>{const o=e.current[t.current]||a;if(!o)return;a||r(o);const i=z.current;i&&X&&(n||!M.current)&&(null==o.scrollIntoView||o.scrollIntoView("boolean"==typeof i?{block:"nearest",inline:"nearest"}:i))})});Uo(()=>{document.createElement("div").focus({get preventScroll(){return Fi=!0,!1}})},[]),Uo(()=>{u&&(n&&a.floating?_.current&&null!=c&&(F.current=!0,T.current=c,D(c)):L.current&&(T.current=-1,B.current(null)))},[u,n,a.floating,c,D]),Uo(()=>{if(u&&n&&a.floating)if(null==s){if(V.current=!1,null!=H.current)return;if(L.current&&(T.current=-1,Q(i,T)),(!N.current||!L.current)&&_.current&&(null!=k.current||!0===_.current&&null==k.current)){let e=0;const t=()=>{null==i.current[0]?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e++):(T.current=null==k.current||zi(k.current,w,h)||f?Vo(i,j.current):Fo(i,j.current),k.current=null,D(T.current))};t()}}else No(i,s)||(T.current=s,Q(i,T,F.current),F.current=!1)},[u,n,a.floating,s,H,f,i,w,h,D,Q,j]),Uo(()=>{var e;if(!u||a.floating||!I||g||!L.current)return;const t=I.nodesRef.current,n=null==(e=t.find(e=>e.id===R))||null==(e=e.context)?void 0:e.elements.floating,r=Jr(sa(a.floating)),o=t.some(e=>e.context&&ea(e.context.elements.floating,r));n&&!o&&M.current&&n.focus({preventScroll:!0})},[u,a.floating,I,R,g]),Uo(()=>{if(u&&I&&g&&!R)return I.events.on("virtualfocus",e),()=>{I.events.off("virtualfocus",e)};function e(e){q(e.id),E&&(E.current=e)}},[u,I,g,R,E]),Uo(()=>{B.current=D,L.current=!!a.floating}),Uo(()=>{n||(k.current=null)},[n]),Uo(()=>{N.current=n},[n]);const Y=null!=s,X=o.useMemo(()=>{function e(e){if(!n)return;const t=i.current.indexOf(e);-1!==t&&D(t)}const t={onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...v&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(e){let{pointerType:t}=e;M.current&&"touch"!==t&&(T.current=-1,Q(i,T),D(null),g||ri(O.current,{preventScroll:!0}))}}};return t},[n,O,Q,v,i,D,g]),K=_o(e=>{if(M.current=!1,V.current=!0,229===e.which)return;if(!$.current&&e.currentTarget===O.current)return;if(f&&Hi(e.key,w,h))return ca(e),r(!1,e.nativeEvent,"list-navigation"),void(Tr(a.domReference)&&(g?null==I||I.events.emit("virtualfocus",a.domReference):a.domReference.focus()));const t=T.current,o=Vo(i,y),s=Fo(i,y);if(P||("Home"===e.key&&(ca(e),T.current=o,D(T.current)),"End"===e.key&&(ca(e),T.current=s,D(T.current))),S>1){const t=C||Array.from({length:i.current.length},()=>({width:1,height:1})),n=function(e,t,n){const r=[];let a=0;return e.forEach((e,o)=>{let{width:i,height:s}=e,l=!1;for(n&&(a=0);!l;){const e=[];for(let n=0;n<i;n++)for(let r=0;r<s;r++)e.push(a+n+r*t);a%t+i<=t&&e.every(e=>null==r[e])?(e.forEach(e=>{r[e]=o}),l=!0):a++}}),[...r]}(t,S,A),r=n.findIndex(e=>null!=e&&!Ho(i.current,e,y)),a=n.reduce((e,t,n)=>null==t||Ho(i.current,t,y)?e:n,-1),l=n[function(e,t){let{event:n,orientation:r,loop:a,rtl:o,cols:i,disabledIndices:s,minIndex:l,maxIndex:u,prevIndex:c,stopEvent:d=!1}=t,p=c;if(n.key===To){if(d&&ca(n),-1===c)p=u;else if(p=jo(e,{startingIndex:p,amount:i,decrement:!0,disabledIndices:s}),a&&(c-i<l||p<0)){const e=c%i,t=u%i,n=u-(t-e);p=t===e?u:t>e?n:n-i}No(e,p)&&(p=c)}if(n.key===ko&&(d&&ca(n),-1===c?p=l:(p=jo(e,{startingIndex:c,amount:i,disabledIndices:s}),a&&c+i>u&&(p=jo(e,{startingIndex:c%i-i,amount:i,disabledIndices:s}))),No(e,p)&&(p=c)),"both"===r){const t=ga(c/i);n.key===(o?Mo:Bo)&&(d&&ca(n),c%i!==i-1?(p=jo(e,{startingIndex:c,disabledIndices:s}),a&&Lo(p,i,t)&&(p=jo(e,{startingIndex:c-c%i-1,disabledIndices:s}))):a&&(p=jo(e,{startingIndex:c-c%i-1,disabledIndices:s})),Lo(p,i,t)&&(p=c)),n.key===(o?Bo:Mo)&&(d&&ca(n),c%i!==0?(p=jo(e,{startingIndex:c,decrement:!0,disabledIndices:s}),a&&Lo(p,i,t)&&(p=jo(e,{startingIndex:c+(i-c%i),decrement:!0,disabledIndices:s}))):a&&(p=jo(e,{startingIndex:c+(i-c%i),decrement:!0,disabledIndices:s})),Lo(p,i,t)&&(p=c));const r=ga(u/i)===t;No(e,p)&&(p=a&&r?n.key===(o?Bo:Mo)?u:jo(e,{startingIndex:c-c%i-1,disabledIndices:s}):c)}return p}({current:n.map(e=>null!=e?i.current[e]:null)},{event:e,orientation:w,loop:p,rtl:h,cols:S,disabledIndices:zo([...y||i.current.map((e,t)=>Ho(i.current,t)?t:void 0),void 0],n),minIndex:r,maxIndex:a,prevIndex:$o(T.current>s?o:T.current,t,n,S,e.key===ko?"bl":e.key===(h?Mo:Bo)?"tr":"tl"),stopEvent:!0})];if(null!=l&&(T.current=l,D(T.current)),"both"===w)return}if($i(e.key,w)){if(ca(e),n&&!g&&Jr(e.currentTarget.ownerDocument)===e.currentTarget)return T.current=zi(e.key,w,h)?o:s,void D(T.current);zi(e.key,w,h)?T.current=p?t>=s?d&&t!==i.current.length?-1:o:jo(i,{startingIndex:t,disabledIndices:y}):Math.min(s,jo(i,{startingIndex:t,disabledIndices:y})):T.current=p?t<=o?d&&-1!==t?i.current.length:s:jo(i,{startingIndex:t,decrement:!0,disabledIndices:y}):Math.max(o,jo(i,{startingIndex:t,decrement:!0,disabledIndices:y})),No(i,T.current)?D(null):D(T.current)}}),Z=o.useMemo(()=>g&&n&&Y&&{"aria-activedescendant":W||U},[g,n,Y,W,U]),J=o.useMemo(()=>({"aria-orientation":"both"===w?void 0:w,...!da(a.domReference)&&Z,onKeyDown:K,onPointerMove(){M.current=!0}}),[Z,K,a.domReference,w]),ee=o.useMemo(()=>{function e(e){"auto"===m&&ra(e.nativeEvent)&&(_.current=!0)}return{...Z,onKeyDown(e){M.current=!1;const t=e.key.startsWith("Arrow"),a=["Home","End"].includes(e.key),o=t||a,s=function(e,t,n){return ji(t,n?e===Mo:e===Bo,e===ko)}(e.key,w,h),l=Hi(e.key,w,h),u=$i(e.key,w),d=(f?s:u)||"Enter"===e.key||""===e.key.trim();if(g&&n){const t=null==I?void 0:I.nodesRef.current.find(e=>null==e.parentId),n=I&&t?function(e,t){let n,r=-1;return function t(a,o){o>r&&(n=a,r=o),ai(e,a).forEach(e=>{t(e.id,o+1)})}(t,0),e.find(e=>e.id===n)}(I.nodesRef.current,t.id):null;if(o&&n&&E){const t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(s||l){var p,m;const r=(null==(p=n.context)?void 0:p.elements.domReference)===e.currentTarget,a=l&&!r?null==(m=n.context)?void 0:m.elements.domReference:s?i.current.find(e=>(null==e?void 0:e.id)===U):null;a&&(ca(e),a.dispatchEvent(t),q(void 0))}var v;if((u||a)&&n.context&&n.context.open&&n.parentId&&e.currentTarget!==n.context.elements.domReference)return ca(e),void(null==(v=n.context.elements.domReference)||v.dispatchEvent(t))}return K(e)}(n||b||!t)&&(d&&(k.current=f&&u?null:e.key),f?s&&(ca(e),n?(T.current=Vo(i,j.current),D(T.current)):r(!0,e.nativeEvent,"list-navigation")):u&&(null!=c&&(T.current=c),ca(e),!n&&b?r(!0,e.nativeEvent,"list-navigation"):K(e),n&&D(T.current)))},onFocus(){n&&!g&&D(null)},onPointerDown:function(e){_.current=m,"auto"===m&&aa(e.nativeEvent)&&(_.current=!0)},onMouseDown:e,onClick:e}},[U,Z,K,j,m,i,f,D,r,n,b,w,h,c,I,g,E]);return o.useMemo(()=>u?{reference:ee,floating:J,item:X}:{},[u,ee,J,X])}const Gi=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);var Wi=n(5007),qi=Object.defineProperty,Qi=Object.getOwnPropertySymbols,Yi=Object.prototype.hasOwnProperty,Xi=Object.prototype.propertyIsEnumerable,Ki=(e,t,n)=>t in e?qi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Zi=(0,o.forwardRef)(function(e,t){var n=e,{children:r,active:a,addGroupBottomBorder:i,isMultiValueEdit:l,checked:u}=n,c=((e,t)=>{var n={};for(var r in e)Yi.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Qi)for(var r of Qi(e))t.indexOf(r)<0&&Xi.call(e,r)&&(n[r]=e[r]);return n})(n,["children","active","addGroupBottomBorder","isMultiValueEdit","checked"]);const d=(0,In.useStyles2)(Ji),p=(0,o.useId)();return s().createElement("div",((e,t)=>{for(var n in t||(t={}))Yi.call(t,n)&&Ki(e,n,t[n]);if(Qi)for(var n of Qi(t))Xi.call(t,n)&&Ki(e,n,t[n]);return e})({ref:t,role:"option",id:p,"aria-selected":a,className:(0,Pn.cx)(d.option,a&&d.optionFocused,i&&d.groupBottomBorder)},c),s().createElement("div",{className:d.optionBody,"data-testid":`data-testid ad hoc filter option value ${r}`},s().createElement("span",null,l?s().createElement(In.Checkbox,{tabIndex:-1,checked:u,className:d.checkbox}):null,r)))}),Ji=e=>({option:(0,Pn.css)({label:"grafana-select-option",top:0,left:0,width:"100%",position:"absolute",padding:e.spacing(1),display:"flex",alignItems:"center",flexDirection:"row",flexShrink:0,whiteSpace:"nowrap",cursor:"pointer","&:hover":{background:e.colors.action.hover,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}}),optionFocused:(0,Pn.css)({label:"grafana-select-option-focused",background:e.colors.action.focus,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}),optionBody:(0,Pn.css)({label:"grafana-select-option-body",display:"flex",fontWeight:e.typography.fontWeightMedium,flexDirection:"column",flexGrow:1}),groupBottomBorder:(0,Pn.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),checkbox:(0,Pn.css)({paddingRight:e.spacing(.5)}),multiValueApplyWrapper:(0,Pn.css)({position:"fixed",top:0,left:0,display:"flex",backgroundColor:e.colors.background.primary,color:e.colors.text.primary,boxShadow:e.shadows.z2,overflowY:"auto",zIndex:e.zIndex.dropdown,gap:e.spacing(1.5),padding:`${e.spacing(1.5)} ${e.spacing(1)}`})}),es=()=>s().createElement(Zi,{onClick:e=>e.stopPropagation()},"Loading options..."),ts=()=>s().createElement(Zi,{onClick:e=>e.stopPropagation()},"No options found"),ns=({handleFetchOptions:e})=>s().createElement(Zi,{onClick:e},"An error has occurred fetching labels. Click to retry"),rs=({onApply:e,floatingElement:t,maxOptionWidth:n,menuHeight:r})=>{const a=(0,In.useStyles2)(Ji),o=null==t?void 0:t.getBoundingClientRect();return s().createElement("div",{className:a.multiValueApplyWrapper,style:{width:`${n}px`,transform:`translate(${null==o?void 0:o.left}px,${o?o.top+r:0}px)`}},s().createElement(In.Button,{onClick:e,size:"sm",tabIndex:-1},"Apply"))},as=/[^ -~]/m,os={key:"operator",operator:"value",value:"key"},is=(e,t,n,r,a)=>ss(os[e],t,"value"===e?n:void 0,r,a),ss=(e,t,n,r,a)=>{t(e),null==n||n(void 0,a),setTimeout(()=>null==r?void 0:r.focus())},ls=({filterInputType:e,item:t,filter:n,setFilterMultiValues:r,onAddCustomValue:a})=>{var o,i,s,l,u;if("key"===e)return{key:t.value,keyLabel:t.label?t.label:t.value,meta:null==t?void 0:t.meta};if("value"===e)return t.isCustom&&a?a(t,n):{value:t.value,valueLabels:[t.label?t.label:t.value]};if("operator"===e){if(il(n.operator)&&!il(t.value))return r([]),{operator:t.value,valueLabels:[(null==(o=n.valueLabels)?void 0:o[0])||(null==(i=n.values)?void 0:i[0])||n.value],values:void 0};if(il(t.value)&&!il(n.operator)){const e=[(null==(s=n.valueLabels)?void 0:s[0])||(null==(l=n.values)?void 0:l[0])||n.value],a=[n.value];return a[0]&&r([{value:a[0],label:null!=(u=null==e?void 0:e[0])?u:a[0]}]),{operator:t.value,valueLabels:e,values:a}}}return{[e]:t.value}},us="Filter by label values",cs=(e,t,n,r)=>{var a;return"key"===t?us:"value"===t?n?"Edit values":(null==(a=e.valueLabels)?void 0:a[0])||"":e[t]&&!r?`${e[t]}`:us},ds=({populateInputOnEdit:e,item:t,filterInputType:n,setInputValue:r,filter:a})=>{var o,i,s;e&&!il(t.value||"")&&"value"===os[n]?r(null!=(s=null!=(i=null==(o=null==a?void 0:a.valueLabels)?void 0:o[0])?i:null==a?void 0:a.value)?s:""):r("")};var ps=Object.defineProperty,fs=Object.defineProperties,hs=Object.getOwnPropertyDescriptors,gs=Object.getOwnPropertySymbols,ms=Object.prototype.hasOwnProperty,vs=Object.prototype.propertyIsEnumerable,bs=(e,t,n)=>t in e?ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ys=(e,t)=>{for(var n in t||(t={}))ms.call(t,n)&&bs(e,n,t[n]);if(gs)for(var n of gs(t))vs.call(t,n)&&bs(e,n,t[n]);return e};const ws=({item:e,handleRemoveMultiValue:t,index:n,handleEditMultiValuePill:r})=>{var a,i;const l=(0,In.useStyles2)(Ss),u=(0,o.useCallback)(t=>{t.stopPropagation(),t.preventDefault(),r(e)},[r,e]),c=(0,o.useCallback)(e=>{"Enter"===e.key&&u(e)},[u]),d=(0,o.useCallback)(n=>{n.stopPropagation(),n.preventDefault(),t(e)},[t,e]),p=(0,o.useCallback)(e=>{"Enter"===e.key&&d(e)},[d]);return s().createElement("div",{className:(0,Pn.cx)(l.basePill,l.valuePill),onClick:u,onKeyDown:c,tabIndex:0,id:`${e.value}-${n}`},null!=(a=e.label)?a:e.value,s().createElement(In.Button,{onClick:d,onKeyDownCapture:p,fill:"text",size:"sm",variant:"secondary",className:l.removeButton,tooltip:`Remove filter value - ${null!=(i=e.label)?i:e.value}`},s().createElement(In.Icon,{name:"times",size:"md",id:`${e.value}-${n}-close-icon`})))},Ss=e=>{return{basePill:(0,Pn.css)((t=ys({display:"flex",alignItems:"center",background:e.colors.action.disabledBackground,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,1,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75)},e.typography.bodySmall),n={cursor:"pointer"},fs(t,hs(n)))),valuePill:(0,Pn.css)({background:e.colors.action.selected,padding:e.spacing(.125,0,.125,1)}),removeButton:(0,Pn.css)({marginInline:e.spacing(.5),height:"100%",padding:0,cursor:"pointer","&:hover":{color:e.colors.text.primary}})};var t,n};var xs=Object.defineProperty,Es=Object.defineProperties,Cs=Object.getOwnPropertyDescriptors,As=Object.getOwnPropertySymbols,Os=Object.prototype.hasOwnProperty,Rs=Object.prototype.propertyIsEnumerable,Is=(e,t,n)=>t in e?xs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ds=(e,t)=>{for(var n in t||(t={}))Os.call(t,n)&&Is(e,n,t[n]);if(As)for(var n of As(t))Rs.call(t,n)&&Is(e,n,t[n]);return e},Ps=(e,t)=>Es(e,Cs(t));const _s=(0,o.forwardRef)(function({filter:e,model:t,isAlwaysWip:n,handleChangeViewMode:r,focusOnWipInputRef:a,populateInputOnEdit:i},l){var u,c,d,p;const[f,h]=(0,o.useState)(!1),[g,m]=(0,o.useState)([]),[v,b]=(0,o.useState)(!1),[y,w]=(0,o.useState)(!1),[S,x]=(0,o.useState)(""),[E,C]=(0,o.useState)(null),[A,O]=(0,o.useState)(n?"key":"value"),[R,I]=(0,o.useState)(!n&&"value"===A),D=(0,In.useStyles2)(Ts),[P,_]=(0,o.useState)([]),[T,k]=(0,o.useState)({}),M=null==(u=t.state.allowCustomValue)||u,B=(0,o.useRef)(null),L=il((null==e?void 0:e.operator)||""),N=L&&"value"===A,V=(0,o.useId)(),F=(0,o.useRef)([]),j=(0,o.useRef)([]),$=(0,o.useRef)(n?"key":"value"),z=(0,o.useMemo)(()=>function(e){const t=Kl(e.map(e=>{var t;return null!=(t=e.label)?t:e.value}));return(n,r)=>as.test(n)?e.filter(e=>{var t,r;return(null==(t=e.label)?void 0:t.includes(n))||(null==(r=e.value)?void 0:r.includes(n))||!1}):("operator"===r&&""!==n&&(n=`"${n}"`),t(n).map(t=>e[t]))}(g),[g]),H=(0,o.useMemo)(()=>!n&&t.state.filters.at(-1)===e,[e,n,t.state.filters]),U=(0,o.useCallback)(()=>{n&&(t._addWip(),O("key"),x(""))},[t,n]),G=(0,o.useCallback)((e,t,n,r)=>{if(n.length){const r=[],a=[];n.forEach(e=>{var t;r.push(null!=(t=e.label)?t:e.value),a.push(e.value)}),e._updateFilter(t,{valueLabels:r,values:a,value:a[0]}),_([])}r||setTimeout(()=>{var e;return null==(e=Y.domReference.current)?void 0:e.focus()})},[]),W=(0,o.useCallback)(e=>{_(t=>t.some(t=>t.value===e.value)?t.filter(t=>t.value!==e.value):[...t,e])},[]),q=(0,o.useCallback)((n,a,o)=>{h(n),o&&["outside-press","escape-key"].includes(o)&&(N&&G(t,e,P),U(),null==r||r())},[e,P,r,G,U,N,t]),Q=(0,o.useMemo)(()=>[V,...P.reduce((e,t,n)=>[...e,`${t.value}-${n}`,`${t.value}-${n}-close-icon`],[])],[V,P]),{refs:Y,floatingStyles:X,context:K,getReferenceProps:Z,getFloatingProps:J,getItemProps:ee}=(({open:e,onOpenChange:t,activeIndex:n,setActiveIndex:r,outsidePressIdsToIgnore:a,listRef:i,disabledIndicesRef:s})=>{const{refs:l,floatingStyles:u,context:c}=Bi({whileElementsMounted:vo,open:e,onOpenChange:t,placement:"bottom-start",middleware:[{...bo(10),options:[10,void 0]},Ro({padding:10}),Io({apply({availableHeight:e,availableWidth:t,elements:n}){n.floating.style.maxHeight=`${Math.min(300,e)}px`,n.floating.style.maxWidth=`${t}px`},padding:10})],strategy:"fixed"}),d=function(e,t){var n;void 0===t&&(t={});const{open:r,floatingId:a}=e,{enabled:i=!0,role:s="dialog"}=t,l=null!=(n=Gi.get(s))?n:s,u=Yo(),c=null!=Zo(),d=o.useMemo(()=>"tooltip"===l||"label"===s?{["aria-"+("label"===s?"labelledby":"describedby")]:r?a:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===l?"dialog":l,"aria-controls":r?a:void 0,..."listbox"===l&&{role:"combobox"},..."menu"===l&&{id:u},..."menu"===l&&c&&{role:"menuitem"},..."select"===s&&{"aria-autocomplete":"none"},..."combobox"===s&&{"aria-autocomplete":"list"}},[l,a,c,r,u,s]),p=o.useMemo(()=>{const e={id:a,...l&&{role:l}};return"tooltip"===l||"label"===s?e:{...e,..."menu"===l&&{"aria-labelledby":u}}},[l,a,u,s]),f=o.useCallback(e=>{let{active:t,selected:n}=e;const r={role:"option",...t&&{id:a+"-option"}};switch(s){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}},[a,s]);return o.useMemo(()=>i?{reference:d,floating:p,item:f}:{},[i,d,p,f])}(c,{role:"listbox"}),p=function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:a,dataRef:i}=e,{enabled:s=!0,escapeKey:l=!0,outsidePress:u=!0,outsidePressEvent:c="pointerdown",referencePress:d=!1,referencePressEvent:p="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:g}=t,m=Jo(),v=_o("function"==typeof u?u:()=>!1),b="function"==typeof u?v:u,y=o.useRef(!1),w=o.useRef(!1),{escapeKey:S,outsidePress:x}=Mi(h),{escapeKey:E,outsidePress:C}=Mi(g),A=o.useRef(!1),O=_o(e=>{var t;if(!n||!s||!l||"Escape"!==e.key)return;if(A.current)return;const a=null==(t=i.current.floatingContext)?void 0:t.nodeId,o=m?ai(m.nodesRef.current,a):[];if(!S&&(e.stopPropagation(),o.length>0)){let e=!0;if(o.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)}),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")}),R=_o(e=>{var t;const n=()=>{var t;O(e),null==(t=ua(e))||t.removeEventListener("keydown",n)};null==(t=ua(e))||t.addEventListener("keydown",n)}),I=_o(e=>{var t;const n=y.current;y.current=!1;const o=w.current;if(w.current=!1,"click"===c&&o)return;if(n)return;if("function"==typeof b&&!b(e))return;const s=ua(e),l="["+ei("inert")+"]",u=sa(a.floating).querySelectorAll(l);let d=_r(s)?s:null;for(;d&&!Wr(d);){const e=Yr(d);if(Wr(e)||!_r(e))break;d=e}if(u.length&&_r(s)&&!s.matches("html,body")&&!ea(s,a.floating)&&Array.from(u).every(e=>!ea(d,e)))return;if(Tr(s)&&_){const t=s.clientWidth>0&&s.scrollWidth>s.clientWidth,n=s.clientHeight>0&&s.scrollHeight>s.clientHeight;let r=n&&e.offsetX>s.clientWidth;if(n&&"rtl"===qr(s).direction&&(r=e.offsetX<=s.offsetWidth-s.clientWidth),r||t&&e.offsetY>s.clientHeight)return}const p=null==(t=i.current.floatingContext)?void 0:t.nodeId,f=m&&ai(m.nodesRef.current,p).some(t=>{var n;return la(e,null==(n=t.context)?void 0:n.elements.floating)});if(la(e,a.floating)||la(e,a.domReference)||f)return;const h=m?ai(m.nodesRef.current,p):[];if(h.length>0){let e=!0;if(h.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)}),!e)return}r(!1,e,"outside-press")}),D=_o(e=>{var t;const n=()=>{var t;I(e),null==(t=ua(e))||t.removeEventListener(c,n)};null==(t=ua(e))||t.addEventListener(c,n)});o.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=S,i.current.__outsidePressBubbles=x;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function o(){window.clearTimeout(e),A.current=!0}function u(){e=window.setTimeout(()=>{A.current=!1},Ur()?5:0)}const d=sa(a.floating);l&&(d.addEventListener("keydown",E?R:O,E),d.addEventListener("compositionstart",o),d.addEventListener("compositionend",u)),b&&d.addEventListener(c,C?D:I,C);let p=[];return f&&(_r(a.domReference)&&(p=Kr(a.domReference)),_r(a.floating)&&(p=p.concat(Kr(a.floating))),!_r(a.reference)&&a.reference&&a.reference.contextElement&&(p=p.concat(Kr(a.reference.contextElement)))),p=p.filter(e=>{var t;return e!==(null==(t=d.defaultView)?void 0:t.visualViewport)}),p.forEach(e=>{e.addEventListener("scroll",t,{passive:!0})}),()=>{l&&(d.removeEventListener("keydown",E?R:O,E),d.removeEventListener("compositionstart",o),d.removeEventListener("compositionend",u)),b&&d.removeEventListener(c,C?D:I,C),p.forEach(e=>{e.removeEventListener("scroll",t)}),window.clearTimeout(e)}},[i,a,l,b,c,n,r,f,s,S,x,O,E,R,I,C,D]),o.useEffect(()=>{y.current=!1},[b,c]);const P=o.useMemo(()=>({onKeyDown:O,[Ti[p]]:e=>{d&&r(!1,e.nativeEvent,"reference-press")}}),[O,r,d,p]),_=o.useMemo(()=>({onKeyDown:O,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[ki[c]]:()=>{y.current=!0}}),[O,c]);return o.useMemo(()=>s?{reference:P,floating:_}:{},[s,P,_])}(c,{outsidePress:e=>{var t;if(e.currentTarget instanceof Element){const n=e.currentTarget;let r=n.id;if("path"===n.nodeName&&(r=(null==(t=n.parentElement)?void 0:t.id)||""),a.includes(r))return!1}return!0}}),f=Ui(c,{listRef:i,activeIndex:n,onNavigate:r,virtual:!0,loop:!0,disabledIndices:s.current}),{getReferenceProps:h,getFloatingProps:g,getItemProps:m}=function(e){void 0===e&&(e=[]);const t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),a=o.useCallback(t=>Vi(t,e,"reference"),t),i=o.useCallback(t=>Vi(t,e,"floating"),n),s=o.useCallback(t=>Vi(t,e,"item"),r);return o.useMemo(()=>({getReferenceProps:a,getFloatingProps:i,getItemProps:s}),[a,i,s])}([d,p,f]);return{refs:l,floatingStyles:u,context:c,getReferenceProps:h,getFloatingProps:g,getItemProps:m}})({open:f,onOpenChange:q,activeIndex:E,setActiveIndex:C,outsidePressIdsToIgnore:Q,listRef:F,disabledIndicesRef:j});(0,o.useImperativeHandle)(l,()=>()=>{var e;return null==(e=Y.domReference.current)?void 0:e.focus()},[Y.domReference]);const te=(0,o.useCallback)(e=>{_(t=>t.filter(t=>t.value!==e.value)),setTimeout(()=>{var e;return null==(e=Y.domReference.current)?void 0:e.focus()})},[Y.domReference]),ne=(e=>e.flatMap(e=>e.options?[e,...e.options]:[e]))(Xl(z(R?"":S,A)));M&&"operator"!==A&&S&&ne.push({value:S.trim(),label:S.trim(),isCustom:!0});const re=t.state.onAddCustomValue,ae=((e,t,n)=>{var r,a,o,i;let s=182;const l=[],u=[];for(let t=0;t<e.length;t++){l.push(null),(null==(r=e[t])?void 0:r.options)&&u.push(t);let n=null!=(o=null!=(a=e[t].label)?a:e[t].value)?o:"",c=8;8*n.length<6*((null==(i=e[t].description)?void 0:i.length)||0)&&(n=e[t].description,c=6);const d=(e[t].isCustom?n.length+18:n.length)*c+16;d>s&&(s=d)}return t.current=[...l],n.current=[...u],s})(ne,F,j),oe=(0,o.useCallback)(async n=>{var r;w(!1),b(!0),m([]);let a=[];try{if("key"===n?a=await t._getKeys(null):"operator"===n?a=t._getOperators():"value"===n&&(a=await t._getValuesFor(e)),$.current!==n)return;m(a),(null==(r=a[0])?void 0:r.group)?C(1):C(0)}catch(e){w(!0)}b(!1)},[e,t]),ie=(0,Wi.Te)({count:ne.length,getScrollElement:()=>Y.floating.current,estimateSize:e=>ne[e].description?60:38,overscan:5}),se=(0,o.useCallback)((r,o)=>{if("Backspace"===r.key&&!S){if("value"===A)return o&&P.length?void _(e=>{const t=[...e];return t.splice(-1,1),t}):void O("operator");null==a||a(),t._handleComboboxBackspace(e),n&&U()}},[S,A,t,e,n,P.length,U,a]),le=(0,o.useCallback)((n,a)=>{var o;"Tab"!==n.key||n.shiftKey||(a&&(n.preventDefault(),G(t,e,P),null==(o=Y.domReference.current)||o.focus()),null==r||r(),U())},[e,P,r,G,U,t,Y.domReference]),ue=(0,o.useCallback)((n,a)=>{"Tab"===n.key&&n.shiftKey&&(a&&(n.preventDefault(),G(t,e,P,!0)),null==r||r(),U())},[e,P,r,G,U,t]),ce=(0,o.useCallback)((n,o)=>{if("Enter"===n.key&&null!=E){if(!ne[E])return;const n=ne[E];o?(W(n),x("")):(t._updateFilter(e,ls({filterInputType:A,item:n,filter:e,setFilterMultiValues:_,onAddCustomValue:re})),ds({populateInputOnEdit:i,item:n,filterInputType:A,setInputValue:x,filter:e}),is(A,O,r,Y.domReference.current,!H&&void 0),C(null),H&&(null==a||a()))}},[E,ne,W,t,e,A,i,r,Y.domReference,H,a,re]),de=(0,o.useCallback)(e=>{var t;const n=e.label||e.value;_(t=>t.filter(t=>t.value!==e.value)),I(!0),x(n),null==(t=Y.domReference.current)||t.focus(),setTimeout(()=>{var e;null==(e=Y.domReference.current)||e.select()})},[Y.domReference]);(0,o.useEffect)(()=>{f&&oe(A)},[f,A]),(0,o.useEffect)(()=>{var t,r,a,o;if(!n){if(L&&(null==(t=null==e?void 0:e.values)?void 0:t.length)){const t=e.values.reduce((t,n,r)=>{var a;return[...t,{label:(null==(a=e.valueLabels)?void 0:a[r])||n,value:n}]},[]);_(t)}!L&&i&&(x(null!=(a=null==(r=null==e?void 0:e.valueLabels)?void 0:r[0])?a:(null==e?void 0:e.value)||""),setTimeout(()=>{var e;null==(e=Y.domReference.current)||e.select()})),null==(o=Y.domReference.current)||o.focus()}},[]),(0,o.useEffect)(()=>{N&&P&&setTimeout(()=>k({}))},[P,N]),(0,o.useLayoutEffect)(()=>{$.current&&($.current=A)},[A]),(0,o.useLayoutEffect)(()=>{var e,t;null!==E&&ie.range&&(E>(null==(e=ie.range)?void 0:e.endIndex)||E<(null==(t=ie.range)?void 0:t.startIndex))&&ie.scrollToIndex(E)},[E,ie]);const pe=null!=(c=null==e?void 0:e.keyLabel)?c:null==e?void 0:e.key;return s().createElement("div",{className:D.comboboxWrapper},e?s().createElement("div",{className:D.pillWrapper},(null==e?void 0:e.key)?s().createElement("div",{className:(0,Pn.cx)(D.basePill,D.keyPill)},pe):null,(null==e?void 0:e.key)&&(null==e?void 0:e.operator)&&"operator"!==A?s().createElement("div",{id:V,className:(0,Pn.cx)(D.basePill,D.operatorPill,V),role:"button","aria-label":"Edit filter operator",tabIndex:0,onClick:e=>{e.stopPropagation(),x(""),ss("operator",O,void 0,Y.domReference.current)},onKeyDown:e=>{ue(e,L),"Enter"===e.key&&(x(""),ss("operator",O,void 0,Y.domReference.current))}},e.operator):null,s().createElement("div",{ref:B}),N?P.map((e,t)=>s().createElement(ws,{key:`${e.value}-${t}`,item:e,index:t,handleRemoveMultiValue:te,handleEditMultiValuePill:de})):null):null,s().createElement("input",Ps(Ds({},Z({ref:Y.setReference,onChange:function(e){const t=e.target.value;x(t),C(0),R&&I(!1)},value:S,placeholder:cs(e,A,N,n),"aria-autocomplete":"list",onKeyDown(e){f?("operator"===A&&ue(e),se(e,N),le(e,N),ce(e,N)):h(!0)}})),{className:(0,Pn.cx)(D.inputStyle,{[D.loadingInputPadding]:!v}),onClick:e=>{e.stopPropagation(),h(!0)},onFocus:()=>{h(!0)}})),v?s().createElement(In.Spinner,{className:D.loadingIndicator,inline:!0}):null,s().createElement(Ei,null,f&&s().createElement(_i,{context:K,initialFocus:-1,visuallyHiddenDismiss:!0,modal:!1},s().createElement(s().Fragment,null,s().createElement("div",{style:Ps(Ds({},X),{width:`${y?366:ae}px`,transform:N?`translate(${(null==(d=B.current)?void 0:d.getBoundingClientRect().left)||0}px, ${((null==(p=Y.domReference.current)?void 0:p.getBoundingClientRect().bottom)||0)+10}px )`:X.transform}),ref:Y.setFloating,className:D.dropdownWrapper,tabIndex:-1},s().createElement("div",Ps(Ds({style:{height:`${ie.getTotalSize()||38}px`}},J()),{tabIndex:-1}),v?s().createElement(es,null):y?s().createElement(ns,{handleFetchOptions:()=>oe(A)}):ne.length||M&&"operator"!==A&&S?ie.getVirtualItems().map(n=>{var a;const o=ne[n.index],l=n.index;if(o.options)return s().createElement("div",{key:`${o.label}+${l}`,className:(0,Pn.cx)(D.optionGroupLabel,D.groupTopBorder),style:{height:`${n.size}px`,transform:`translateY(${n.start}px)`}},s().createElement(In.Text,{weight:"bold",variant:"bodySmall",color:"secondary"},o.label));const u=ne[n.index+1],c=u&&!u.group&&!u.options&&o.group;return s().createElement(Zi,Ps(Ds({},ee({key:`${o.value}-${l}`,ref(e){F.current[l]=e},onClick(n){var a;"value"!==A&&n.stopPropagation(),N?(n.preventDefault(),n.stopPropagation(),W(o),x(""),null==(a=Y.domReference.current)||a.focus()):(t._updateFilter(e,ls({filterInputType:A,item:o,filter:e,setFilterMultiValues:_,onAddCustomValue:re})),ds({populateInputOnEdit:i,item:o,filterInputType:A,setInputValue:x,filter:e}),is(A,O,r,Y.domReference.current,!1))}})),{active:E===l,addGroupBottomBorder:c,style:{height:`${n.size}px`,transform:`translateY(${n.start}px)`},"aria-setsize":ne.length,"aria-posinset":n.index+1,isMultiValueEdit:N,checked:P.some(e=>e.value===o.value)}),s().createElement("span",null,o.isCustom?"Use custom value: ":""," ",null!=(a=o.label)?a:o.value),o.description?s().createElement("div",{className:D.descriptionText},o.description):null)}):s().createElement(ts,null))),N&&!v&&!y&&ne.length?s().createElement(rs,{onApply:()=>{G(t,e,P)},floatingElement:Y.floating.current,maxOptionWidth:ae,menuHeight:Math.min(ie.getTotalSize(),300)}):null))))}),Ts=e=>({comboboxWrapper:(0,Pn.css)({display:"flex",flexWrap:"wrap"}),pillWrapper:(0,Pn.css)({display:"flex",alignItems:"center",flexWrap:"wrap"}),basePill:(0,Pn.css)(Ps(Ds({display:"flex",alignItems:"center",background:e.colors.action.disabledBackground,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,1,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75)},e.typography.bodySmall),{cursor:"pointer"})),keyPill:(0,Pn.css)({fontWeight:e.typography.fontWeightBold,cursor:"default"}),operatorPill:(0,Pn.css)({"&:hover":{background:e.colors.action.hover}}),dropdownWrapper:(0,Pn.css)({backgroundColor:e.colors.background.primary,color:e.colors.text.primary,boxShadow:e.shadows.z2,overflowY:"auto",zIndex:e.zIndex.dropdown}),inputStyle:(0,Pn.css)({paddingBlock:0,"&:focus":{outline:"none"}}),loadingIndicator:(0,Pn.css)({color:e.colors.text.secondary,marginLeft:e.spacing(.5)}),loadingInputPadding:(0,Pn.css)({paddingRight:e.spacing(2.5)}),optionGroupLabel:(0,Pn.css)({padding:e.spacing(1),position:"absolute",top:0,left:0,width:"100%"}),groupTopBorder:(0,Pn.css)({"&:not(:first-child)":{borderTop:`1px solid ${e.colors.border.weak}`}}),descriptionText:(0,Pn.css)(Ps(Ds({},e.typography.bodySmall),{color:e.colors.text.secondary,paddingTop:e.spacing(.5)}))});var ks=Object.defineProperty,Ms=Object.defineProperties,Bs=Object.getOwnPropertyDescriptors,Ls=Object.getOwnPropertySymbols,Ns=Object.prototype.hasOwnProperty,Vs=Object.prototype.propertyIsEnumerable,Fs=(e,t,n)=>t in e?ks(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,js=(e,t)=>{for(var n in t||(t={}))Ns.call(t,n)&&Fs(e,n,t[n]);if(Ls)for(var n of Ls(t))Vs.call(t,n)&&Fs(e,n,t[n]);return e};function $s({filter:e,model:t,readOnly:n,focusOnWipInputRef:r}){var a,i,l;const u=(0,In.useStyles2)(zs),[c,d]=(0,o.useState)(!0),[p,f]=(0,o.useState)(!1),h=(0,o.useRef)(null),[g,m]=(0,o.useState)(!1),v=null!=(a=e.keyLabel)?a:e.key,b=(null==(i=e.valueLabels)?void 0:i.join(", "))||(null==(l=e.values)?void 0:l.join(", "))||e.value,y=(0,o.useCallback)((e,t)=>{null==e||e.stopPropagation(),n||(f(null!=t?t:!c),d(!c))},[n,c]);if((0,o.useEffect)(()=>{var e;p&&(null==(e=h.current)||e.focus(),f(!1))},[p]),(0,o.useEffect)(()=>{e.forceEdit&&c&&(d(!1),t._updateFilter(e,{forceEdit:void 0}))},[e,t,c]),(0,o.useEffect)(()=>{c&&m(e=>!e&&e)},[c]),c){const a=s().createElement("span",{className:u.pillText},v," ",e.operator," ",b);return s().createElement("div",{className:(0,Pn.cx)(u.combinedFilterPill,{[u.readOnlyCombinedFilter]:n}),onClick:e=>{e.stopPropagation(),m(!0),y()},onKeyDown:e=>{"Enter"===e.key&&(m(!0),y())},role:"button","aria-label":`Edit filter with key ${v}`,tabIndex:0,ref:h},b.length<20?a:s().createElement(In.Tooltip,{content:s().createElement("div",{className:u.tooltipText},b),placement:"top"},a),n?null:s().createElement(In.IconButton,{onClick:n=>{n.stopPropagation(),t._removeFilter(e),setTimeout(()=>null==r?void 0:r())},onKeyDownCapture:n=>{"Enter"===n.key&&(n.preventDefault(),n.stopPropagation(),t._removeFilter(e),setTimeout(()=>null==r?void 0:r()))},name:"times",size:"md",className:u.removeButton,tooltip:`Remove filter with key ${v}`}))}return s().createElement(_s,{filter:e,model:t,handleChangeViewMode:y,focusOnWipInputRef:r,populateInputOnEdit:g})}const zs=e=>{return{combinedFilterPill:(0,Pn.css)((t=js({display:"flex",alignItems:"center",background:e.colors.action.selected,borderRadius:e.shape.radius.default,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,0,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75)},e.typography.bodySmall),n={fontWeight:e.typography.fontWeightBold,cursor:"pointer","&:hover":{background:e.colors.action.hover}},Ms(t,Bs(n)))),readOnlyCombinedFilter:(0,Pn.css)({paddingRight:e.spacing(1),cursor:"text","&:hover":{background:e.colors.action.selected}}),removeButton:(0,Pn.css)({marginInline:e.spacing(.5),cursor:"pointer","&:hover":{color:e.colors.text.primary}}),pillText:(0,Pn.css)({maxWidth:"200px",width:"100%",textOverflow:"ellipsis",overflow:"hidden"}),tooltipText:(0,Pn.css)({textAlign:"center"})};var t,n},Hs=(0,o.forwardRef)(function({model:e},t){const{_wip:n}=e.useState();return(0,o.useLayoutEffect)(()=>{n||e._addWip()},[n]),s().createElement(_s,{model:e,filter:n,isAlwaysWip:!0,ref:t})}),Us=(0,o.memo)(function({model:e}){const{filters:t,readOnly:n}=e.useState(),r=(0,In.useStyles2)(Gs),a=(0,o.useRef)();return s().createElement("div",{className:(0,Pn.cx)(r.comboboxWrapper,{[r.comboboxFocusOutline]:!n}),onClick:()=>{var e;null==(e=a.current)||e.call(a)}},s().createElement(In.Icon,{name:"filter",className:r.filterIcon,size:"lg"}),t.map((t,r)=>s().createElement($s,{key:`${r}-${t.key}`,filter:t,model:e,readOnly:n,focusOnWipInputRef:a.current})),n?null:s().createElement(Hs,{model:e,ref:a}))}),Gs=e=>({comboboxWrapper:(0,Pn.css)({display:"flex",flexWrap:"wrap",alignItems:"center",columnGap:e.spacing(1),rowGap:e.spacing(.5),minHeight:e.spacing(4),backgroundColor:e.components.input.background,border:`1px solid ${e.colors.border.strong}`,borderRadius:e.shape.radius.default,paddingInline:e.spacing(1),paddingBlock:e.spacing(.5),flexGrow:1}),comboboxFocusOutline:(0,Pn.css)({"&:focus-within":{outline:"2px dotted transparent",outlineOffset:"2px",boxShadow:`0 0 0 2px ${e.colors.background.canvas}, 0 0 0px 4px ${e.colors.primary.main}`,transitionTimingFunction:"cubic-bezier(0.19, 1, 0.22, 1)",transitionDuration:"0.2s",transitionProperty:"outline, outline-offset, box-shadow",zIndex:2}}),filterIcon:(0,Pn.css)({color:e.colors.text.secondary,alignSelf:"center"})});var Ws=Object.defineProperty,qs=Object.defineProperties,Qs=Object.getOwnPropertyDescriptors,Ys=Object.getOwnPropertySymbols,Xs=Object.prototype.hasOwnProperty,Ks=Object.prototype.propertyIsEnumerable,Zs=(e,t,n)=>t in e?Ws(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Js=(e,t)=>{for(var n in t||(t={}))Xs.call(t,n)&&Zs(e,n,t[n]);if(Ys)for(var n of Ys(t))Ks.call(t,n)&&Zs(e,n,t[n]);return e};const el=[{value:"=",description:"Equals"},{value:"!=",description:"Not equal"},{value:"=|",description:"One of. Use to filter on multiple values.",isMulti:!0},{value:"!=|",description:"Not one of. Use to exclude multiple values.",isMulti:!0},{value:"=~",description:"Matches regex",isRegex:!0},{value:"!~",description:"Does not match regex",isRegex:!0},{value:"<",description:"Less than"},{value:">",description:"Greater than"}];class tl extends J{constructor(e){var t,n;super(Js({type:"adhoc",name:null!=(t=e.name)?t:"Filters",filters:[],datasource:null,applyMode:"auto",filterExpression:null!=(n=e.filterExpression)?n:nl(e.expressionBuilder,e.filters)},e)),this._scopedVars={__sceneObject:Zn(this)},this._dataSourceSrv=(0,c.getDataSourceSrv)(),this._urlSync=new Er(this),"auto"===this.state.applyMode&&function(e){if(e.addActivationHandler(()=>(On.add(e),()=>On.delete(e))),An)return;const t=(0,c.getTemplateSrv)();(null==t?void 0:t.getAdhocFilters)?(An=t.getAdhocFilters,t.getAdhocFilters=function(e){var n;if(0===On.size)return An.call(t,e);const r=(0,c.getDataSourceSrv)().getInstanceSettings(e);if(!r)return[];for(const e of On.values())if((null==(n=e.state.datasource)?void 0:n.uid)===r.uid)return e.state.filters;return[]}.bind(t)):console.log("Failed to patch getAdhocFilters")}(this)}setState(e){let t=!1;e.filters&&e.filters!==this.state.filters&&!e.filterExpression&&(e.filterExpression=nl(this.state.expressionBuilder,e.filters),t=e.filterExpression!==this.state.filterExpression),super.setState(e),t&&this.publishEvent(new pt(this),!0)}updateFilters(e,t){let n,r=!1;e&&e!==this.state.filters&&(n=nl(this.state.expressionBuilder,e),r=n!==this.state.filterExpression),super.setState({filters:e,filterExpression:n}),(r&&!0!==(null==t?void 0:t.skipPublish)||(null==t?void 0:t.forcePublish))&&this.publishEvent(new pt(this),!0)}getValue(){return this.state.filterExpression}_updateFilter(e,t){const{filters:n,_wip:r}=this.state;if(e===r)return void("value"in t&&""!==t.value?this.setState({filters:[...n,Js(Js({},r),t)],_wip:void 0}):this.setState({_wip:Js(Js({},e),t)}));const a=this.state.filters.map(n=>n===e?Js(Js({},n),t):n);this.setState({filters:a})}_removeFilter(e){e!==this.state._wip?this.setState({filters:this.state.filters.filter(t=>t!==e)}):this.setState({_wip:void 0})}_removeLastFilter(){const e=this.state.filters.at(-1);e&&this._removeFilter(e)}_handleComboboxBackspace(e){if(this.state.filters.length){let t=this.state.filters.length-1;e!==this.state._wip&&(t=-1),this.setState({filters:this.state.filters.reduce((n,r,a)=>{return a===t?[...n,(o=Js({},r),i={forceEdit:!0},qs(o,Qs(i)))]:r===e?n:[...n,r];var o,i},[])})}}async _getKeys(e){var t,n,r;const a=await(null==(n=(t=this.state).getTagKeysProvider)?void 0:n.call(t,this,e));if(a&&a.replace)return Ql(a.values).map(al);if(this.state.defaultKeys)return this.state.defaultKeys.map(al);const o=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!o||!o.getTagKeys)return[];const i=this.state.filters.filter(t=>t.key!==e).concat(null!=(r=this.state.baseFilters)?r:[]),s=ju.getTimeRange(this).state.value,l=this.state.useQueriesAsFilterForOptions?Hl(this):void 0,u=await o.getTagKeys(Js({filters:i,queries:l,timeRange:s},Qn(this)));Yl(u)&&this.setState({error:u.error.message});let c=Ql(u);a&&(c=c.concat(Ql(a.values)));const d=this.state.tagKeyRegexFilter;return d&&(c=c.filter(e=>e.text.match(d))),c.map(al)}async _getValuesFor(e){var t,n,r;const a=await(null==(n=(t=this.state).getTagValuesProvider)?void 0:n.call(t,this,e));if(a&&a.replace)return Ql(a.values).map(al);const o=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!o||!o.getTagValues)return[];const i=this.state.filters.filter(t=>t.key!==e.key).concat(null!=(r=this.state.baseFilters)?r:[]),s=ju.getTimeRange(this).state.value,l=this.state.useQueriesAsFilterForOptions?Hl(this):void 0,u=await o.getTagValues(Js({key:e.key,filters:i,timeRange:s,queries:l},Qn(this)));Yl(u)&&this.setState({error:u.error.message});let c=Ql(u);return a&&(c=c.concat(Ql(a.values))),c.map(al)}_addWip(){this.setState({_wip:{key:"",value:"",operator:"=",condition:""}})}_getOperators(){const{supportsMultiValueOperators:e,allowCustomValue:t}=this.state;return el.filter(({isMulti:n,isRegex:r})=>!(!e&&n||!t&&r)).map(({value:e,description:t})=>({label:e,value:e,description:t}))}}function nl(e,t){return(null!=e?e:Fl)(null!=t?t:[])}tl.Component=function({model:e}){const{filters:t,readOnly:n,addFilterButtonText:r}=e.useState(),a=(0,In.useStyles2)(rl);return"combobox"===e.state.layout?s().createElement(Us,{model:e}):s().createElement("div",{className:a.wrapper},t.filter(e=>!e.hidden).map((t,n)=>s().createElement(s().Fragment,{key:n},s().createElement(wr,{filter:t,model:e}))),!n&&s().createElement(xr,{model:e,key:"'builder",addFilterButtonText:r}))};const rl=e=>({wrapper:(0,Pn.css)({display:"flex",flexWrap:"wrap",alignItems:"flex-end",columnGap:e.spacing(2),rowGap:e.spacing(1)})});function al(e){const{text:t,value:n}=e,r={label:String(t),value:String(null!=n?n:t)};return"group"in e&&(r.group=e.group),"meta"in e&&(r.meta=e.meta),r}function ol(e){return""!==e.key&&""!==e.operator&&""!==e.value}function il(e){const t=el.find(t=>t.value===e);return!!t&&Boolean(t.isMulti)}class sl{constructor(){this._resultsMap=new Map,this._prevLayers=[]}getMergedStream(e){(function(e,t){if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1})(e,this._prevLayers)&&(this._resultsMap=new Map,this._prevLayers=e);const t=e.map(e=>e.getResultsStream()),n=[];for(const t of e)n.push(t.activate());return(0,O.merge)(t).pipe((0,O.mergeAll)(),(0,O.filter)(e=>this._resultsMap.get(e.origin.state.key)!==e),(0,O.map)(e=>(this._resultsMap.set(e.origin.state.key,e),this._resultsMap.values())),(0,O.finalize)(()=>{n.forEach(e=>e())}))}}var ll=Object.defineProperty,ul=Object.defineProperties,cl=Object.getOwnPropertyDescriptors,dl=Object.getOwnPropertySymbols,pl=Object.prototype.hasOwnProperty,fl=Object.prototype.propertyIsEnumerable,hl=(e,t,n)=>t in e?ll(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gl=(e,t)=>{for(var n in t||(t={}))pl.call(t,n)&&hl(e,n,t[n]);if(dl)for(var n of dl(t))fl.call(t,n)&&hl(e,n,t[n]);return e},ml=(e,t)=>ul(e,cl(t));let vl=100;function bl(){return"SQR"+vl++}class yl extends J{constructor(e){super(e),this._dataLayersMerger=new sl,this._variableValueRecorder=new rn,this._results=new O.ReplaySubject(1),this._scopedVars={__sceneObject:Zn(this)},this._variableDependency=new iu(this,{statePaths:["queries","datasource","minInterval"],onVariableUpdateCompleted:this.onVariableUpdatesCompleted.bind(this),onAnyVariableChanged:this.onAnyVariableChanged.bind(this)}),this.onDataReceived=e=>{const t=(0,u.preProcessPanelData)(e,this.state.data);this._resultAnnotations=e.annotations;const n=this._combineDataLayers(t);let r=this.state._hasFetchedData;r||t.state===ze.Loading||(r=!0),this.setState({data:n,_hasFetchedData:r}),this._results.next({origin:this,data:n})},this.addActivationHandler(()=>this._onActivate())}getResultsStream(){return this._results}_onActivate(){if(this.isQueryModeAuto()){const e=ju.getTimeRange(this),t=this.getClosestExtraQueryProviders();for(const e of t)this._subs.add(e.subscribeToState((t,n)=>{e.shouldRerun(n,t,this.state.queries)&&this.runQueries()}));this.subscribeToTimeRangeChanges(e),this.shouldRunQueriesOnActivate()&&this.runQueries()}return this._dataLayersSub||this._handleDataLayers(),()=>this._onDeactivate()}_handleDataLayers(){const e=ju.getDataLayers(this);0!==e.length&&(this._dataLayersSub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayersReceived.bind(this)))}_onLayersReceived(e){var t,n,r,a,o;const i=ju.getTimeRange(this),{dataLayerFilter:s}=this.state;let l,c=[],d=[];for(const r of e)for(let e of r.data.series)(null==(t=e.meta)?void 0:t.dataTopic)===u.DataTopic.Annotations&&(c=c.concat(e)),(null==(n=e.meta)?void 0:n.dataTopic)===u.DataTopic.AlertStates&&(d=d.concat(e));if((null==s?void 0:s.panelId)&&(c.length>0&&(c=function(e,t){var n;if(!Array.isArray(e)||0===e.length)return e;const r=Array.from({length:e.length},()=>new Set);let a=0;for(const o of e){for(let e=0;e<o.length;e++){if(r[a].has(e))continue;let i=!0;const s=o.fields.find(e=>"panelId"===e.name),l=o.fields.find(e=>"source"===e.name);if(l){s&&"dashboard"===l.values[e].type&&(i=[t.panelId,En].includes(s.values[e]));const r=l.values[e].filter;if(r){const e=[...null!=(n=r.ids)?n:[],En].includes(t.panelId);r.exclude?e&&(i=!1):e||(i=!1)}}i&&r[a].add(e)}a++}const o=[];a=0;for(const t of e){const e=r[a].size,n=[];for(const e of t.fields){const o=[];for(let n=0;n<t.length;n++)r[a].has(n)&&o.push(e.values[n]);n.push(xn(Sn({},e),{values:o}))}o.push(xn(Sn({},t),{fields:n,length:e})),a++}return o}(c,s)),d.length>0))for(const e of d){const t=new u.DataFrameView(e);for(const e of t)if(e.panelId===s.panelId){l=e;break}}if(Sl(c)&&Sl(this._layerAnnotations)&&(0,fe.isEqual)(l,null==(r=this.state.data)?void 0:r.alertState))return;this._layerAnnotations=c;const p=this.state.data?this.state.data:ml(gl({},Ye),{timeRange:i.state.value});this.setState({data:ml(gl({},p),{annotations:[...null!=(a=this._resultAnnotations)?a:[],...c],alertState:null!=l?l:null==(o=this.state.data)?void 0:o.alertState})})}onVariableUpdatesCompleted(){this.isQueryModeAuto()&&this.runQueries()}onAnyVariableChanged(e){this._adhocFiltersVar!==e&&this._groupByVar!==e&&this.isQueryModeAuto()&&(e instanceof tl&&this._isRelevantAutoVariable(e)&&this.runQueries(),e instanceof sr&&this._isRelevantAutoVariable(e)&&this.runQueries())}_isRelevantAutoVariable(e){var t,n;const r=null!=(t=this.state.datasource)?t:wl(this.state.queries);return"auto"===e.state.applyMode&&(null==r?void 0:r.uid)===(null==(n=e.state.datasource)?void 0:n.uid)}shouldRunQueriesOnActivate(){return this._variableValueRecorder.hasDependenciesChanged(this)?(ge("SceneQueryRunner","Variable dependency changed while inactive, shouldRunQueriesOnActivate returns true"),!0):!this.state.data||!!this._isDataTimeRangeStale(this.state.data)}_isDataTimeRangeStale(e){const t=ju.getTimeRange(this).state.value,n=e.timeRange;return(t.from.unix()!==n.from.unix()||t.to.unix()!==n.to.unix())&&(ge("SceneQueryRunner","Data time range is stale"),!0)}_onDeactivate(){var e;this._querySub&&(this._querySub.unsubscribe(),this._querySub=void 0),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),null==(e=this._timeSub)||e.unsubscribe(),this._timeSub=void 0,this._timeSubRange=void 0,this._adhocFiltersVar=void 0,this._groupByVar=void 0,this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}setContainerWidth(e){!this._containerWidth&&e>0?(this._containerWidth=e,this.state.maxDataPointsFromWidth&&!this.state.maxDataPoints&&setTimeout(()=>{this.isActive&&!this.state._hasFetchedData&&this.runQueries()},0)):e>0&&(this._containerWidth=e)}isDataReadyToDisplay(){return Boolean(this.state._hasFetchedData)}subscribeToTimeRangeChanges(e){this._timeSubRange!==e&&(this._timeSub&&this._timeSub.unsubscribe(),this._timeSubRange=e,this._timeSub=e.subscribeToState(()=>{this.runWithTimeRange(e)}))}runQueries(){const e=ju.getTimeRange(this);this.isQueryModeAuto()&&this.subscribeToTimeRangeChanges(e),this.runWithTimeRange(e)}getMaxDataPoints(){var e;return this.state.maxDataPoints?this.state.maxDataPoints:this.state.maxDataPointsFromWidth&&null!=(e=this._containerWidth)?e:500}cancelQuery(){var e;null==(e=this._querySub)||e.unsubscribe(),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),this.setState({data:ml(gl({},this.state.data),{state:ze.Done})})}async runWithTimeRange(e){var t,n,r;if(!this.state.maxDataPoints&&this.state.maxDataPointsFromWidth&&!this._containerWidth)return;if(this._dataLayersSub||this._handleDataLayers(),null==(t=this._querySub)||t.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())return ge("SceneQueryRunner","Variable dependency is in loading state, skipping query execution"),void this.setState({data:ml(gl({},null!=(n=this.state.data)?n:Ye),{state:ze.Loading})});const{queries:a}=this.state;if(null==a?void 0:a.length)try{const t=null!=(r=this.state.datasource)?r:wl(a),n=await nn(t,this._scopedVars);this.findAndSubscribeToAdHocFilters(n.uid);const o=(0,c.getRunRequest)(),{primary:i,secondaries:s,processors:l}=this.prepareRequests(e,n);ge("SceneQueryRunner","Starting runRequest",this.state.key);let u=o(n,i);if(s.length>0){const e=s.map(e=>o(n,e)),t=(e=>t=>t.pipe((0,O.mergeMap)(([t,...n])=>{const r=n.flatMap(n=>{var r,a;return null!=(a=null==(r=e.get(n.request.requestId))?void 0:r(t,n))?a:(0,O.of)(n)});return(0,O.forkJoin)([(0,O.of)(t),...r])}),(0,O.map)(([e,...t])=>{var n,r,a;return r=((e,t)=>{for(var n in t||(t={}))cn.call(t,n)&&pn(e,n,t[n]);if(un)for(var n of un(t))dn.call(t,n)&&pn(e,n,t[n]);return e})({},e),a={series:[...e.series,...t.flatMap(e=>e.series)],annotations:[...null!=(n=e.annotations)?n:[],...t.flatMap(e=>{var t;return null!=(t=e.annotations)?t:[]})]},sn(r,ln(a))})))(l);u=(0,O.forkJoin)([u,...e]).pipe(t)}u=u.pipe(en({type:"data",request:i,origin:this,cancel:()=>this.cancelQuery()})),this._querySub=u.subscribe(this.onDataReceived)}catch(e){console.error("PanelQueryRunner Error",e),this.onDataReceived(ml(gl(gl({},Ye),this.state.data),{state:ze.Error,errors:[(0,c.toDataQueryError)(e)]}))}else this._setNoDataState()}clone(e){var t;const n=super.clone(e);return this._resultAnnotations&&(n._resultAnnotations=this._resultAnnotations.map(e=>gl({},e))),this._layerAnnotations&&(n._layerAnnotations=this._layerAnnotations.map(e=>gl({},e))),n._variableValueRecorder=this._variableValueRecorder.cloneAndRecordCurrentValuesForSceneObject(this),n._containerWidth=this._containerWidth,n._results.next({origin:this,data:null!=(t=this.state.data)?t:Ye}),n}prepareRequests(e,t){var n;const{minInterval:r,queries:a}=this.state;let o=gl({app:"scenes",requestId:bl(),timezone:e.getTimeZone(),range:e.state.value,interval:"1s",intervalMs:1e3,targets:(0,fe.cloneDeep)(a),maxDataPoints:this.getMaxDataPoints(),scopedVars:this._scopedVars,startTime:Date.now(),liveStreaming:this.state.liveStreaming,rangeRaw:{from:e.state.from,to:e.state.to},cacheTimeout:this.state.cacheTimeout,queryCachingTTL:this.state.queryCachingTTL},Cn(this));this._adhocFiltersVar&&(o.filters=this._adhocFiltersVar.state.filters.filter(ol)),this._groupByVar&&(o.groupByKeys=this._groupByVar.state.value),o.targets=o.targets.map(e=>{var n;return e.datasource&&(e.datasource.uid===t.uid||(null==(n=t.meta)?void 0:n.mixed)||!c.isExpressionReference||(0,c.isExpressionReference)(e.datasource))||(e.datasource=t.getRef()),e});const i=r?Lu(this,r):t.interval,s=u.rangeUtil.calculateInterval(e.state.value,o.maxDataPoints,i);o.scopedVars=Object.assign({},o.scopedVars,{__interval:{text:s.interval,value:s.interval},__interval_ms:{text:s.intervalMs.toString(),value:s.intervalMs}}),o.interval=s.interval,o.intervalMs=s.intervalMs;const l=e.state.value;let d=[],p=new Map;for(const e of null!=(n=this.getClosestExtraQueryProviders())?n:[])for(const{req:t,processor:n}of e.getExtraQueries(o)){const e=bl();d.push(ml(gl({},t),{requestId:e})),p.set(e,null!=n?n:fn)}return o.range=l,{primary:o,secondaries:d,processors:p}}_combineDataLayers(e){return this._layerAnnotations&&this._layerAnnotations.length>0&&(e.annotations=(e.annotations||[]).concat(this._layerAnnotations)),this.state.data&&this.state.data.alertState&&(e.alertState=this.state.data.alertState),e}_setNoDataState(){this.state.data!==Ye&&this.setState({data:Ye})}getClosestExtraQueryProviders(){const e=new Map;return this.parent?(ue(this.parent,t=>(an(t)&&!e.has(t.constructor)&&e.set(t.constructor,t),t.forEachChild(t=>{an(t)&&!e.has(t.constructor)&&e.set(t.constructor,t)}),null)),Array.from(e.values())):[]}findAndSubscribeToAdHocFilters(e){const t=function(e){var t;for(const n of On.values())if(Lu(n,null==(t=n.state.datasource)?void 0:t.uid)===e)return n}(e);this._adhocFiltersVar!==t&&(this._adhocFiltersVar=t,this._updateExplicitVariableDependencies());const n=function(e){var t;for(const n of Rn.values())if(Lu(n,null==(t=n.state.datasource)?void 0:t.uid)===e)return n}(e);this._groupByVar!==n&&(this._groupByVar=n,this._updateExplicitVariableDependencies())}_updateExplicitVariableDependencies(){const e=[];this._adhocFiltersVar&&e.push(this._adhocFiltersVar.state.name),this._groupByVar&&e.push(this._groupByVar.state.name),this._variableDependency.setVariableNames(e)}isQueryModeAuto(){var e;return"auto"===(null!=(e=this.state.runQueriesMode)?e:"auto")}}function wl(e){var t,n;return null!=(n=null==(t=e.find(e=>null!==e.datasource))?void 0:t.datasource)?n:void 0}function Sl(e){if(!e)return!0;for(let t=0;t<e.length;t++)if(e[t].length>0)return!1;return!0}const xl=(e,t)=>e>t?1:e<t?-1:0,El=1/0,Cl=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Al="eexxaacctt",Ol=/\p{P}/gu,Rl=["en",{numeric:!0,sensitivity:"base"}],Il=(e,t,n)=>e.replace("A-Z",t).replace("a-z",n),Dl={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",interBound:"[^A-Za-z\\d]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:El,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,El],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,toUpper:e=>e.toLocaleUpperCase(),toLower:e=>e.toLocaleLowerCase(),compare:null,sort:(e,t,n,r=xl)=>{let{idx:a,chars:o,terms:i,interLft2:s,interLft1:l,start:u,intraIns:c,interIns:d,cases:p}=e;return a.map((e,t)=>t).sort((e,n)=>o[n]-o[e]||c[e]-c[n]||i[n]+s[n]+.5*l[n]-(i[e]+s[e]+.5*l[e])||d[e]-d[n]||u[e]-u[n]||p[n]-p[e]||r(t[a[e]],t[a[n]]))}},Pl=(e,t)=>0==t?"":1==t?e+"??":t==El?e+"*?":e+`{0,${t}}?`,_l="(?:\\b|_)";function Tl(e){e=Object.assign({},Dl,e);let{unicode:t,interLft:n,interRgt:r,intraMode:a,intraSlice:o,intraIns:i,intraSub:s,intraTrn:l,intraDel:u,intraContr:c,intraSplit:d,interSplit:p,intraBound:f,interBound:h,intraChars:g,toUpper:m,toLower:v,compare:b}=e;i??=a,s??=a,l??=a,u??=a,b??="undefined"==typeof Intl?xl:new Intl.Collator(...Rl).compare;let y=e.letters??e.alpha;if(null!=y){let e=m(y),t=v(y);p=Il(p,e,t),d=Il(d,e,t),h=Il(h,e,t),f=Il(f,e,t),g=Il(g,e,t),c=Il(c,e,t)}let w=t?"u":"";const S='".+?"',x=new RegExp(S,"gi"+w),E=new RegExp(`(?:\\s+|^)-(?:${g}+|${S})`,"gi"+w);let{intraRules:C}=e;null==C&&(C=e=>{let t=Dl.intraSlice,n=0,r=0,a=0,c=0;if(/[^\d]/.test(e)){let d=e.length;d<=4?d>=3&&(a=Math.min(l,1),4==d&&(n=Math.min(i,1))):(t=o,n=i,r=s,a=l,c=u)}return{intraSlice:t,intraIns:n,intraSub:r,intraTrn:a,intraDel:c}});let A=!!d,O=new RegExp(d,"g"+w),R=new RegExp(p,"g"+w),I=new RegExp("^"+p+"|"+p+"$","g"+w),D=new RegExp(c,"gi"+w);const P=(e,t=!1)=>{let n=[];e=(e=e.replace(x,e=>(n.push(e),Al))).replace(I,""),t||(e=v(e)),A&&(e=e.replace(O,e=>e[0]+" "+e[1]));let r=0;return e.split(R).filter(e=>""!=e).map(e=>e===Al?n[r++]:e)},_=/[^\d]+|\d+/g,T=(t,o=0,s=!1)=>{let l=P(t);if(0==l.length)return[];let u,c=Array(l.length).fill("");if(l=l.map((e,t)=>e.replace(D,e=>(c[t]=e,""))),1==a)u=l.map((e,t)=>{if('"'===e[0])return Cl(e.slice(1,-1));let n="";for(let r of e.matchAll(_)){let e=r[0],{intraSlice:a,intraIns:o,intraSub:i,intraTrn:s,intraDel:l}=C(e);if(o+i+s+l==0)n+=e+c[t];else{let[r,u]=a,d=e.slice(0,r),p=e.slice(u),f=e.slice(r,u);1==o&&1==d.length&&d!=f[0]&&(d+="(?!"+d+")");let h=f.length,m=[e];if(i)for(let e=0;e<h;e++)m.push(d+f.slice(0,e)+g+f.slice(e+1)+p);if(s)for(let e=0;e<h-1;e++)f[e]!=f[e+1]&&m.push(d+f.slice(0,e)+f[e+1]+f[e]+f.slice(e+2)+p);if(l)for(let e=0;e<h;e++)m.push(d+f.slice(0,e+1)+"?"+f.slice(e+1)+p);if(o){let e=Pl(g,1);for(let t=0;t<h;t++)m.push(d+f.slice(0,t)+e+f.slice(t)+p)}n+="(?:"+m.join("|")+")"+c[t]}}return n});else{let e=Pl(g,i);2==o&&i>0&&(e=")("+e+")("),u=l.map((t,n)=>'"'===t[0]?Cl(t.slice(1,-1)):t.split("").map((e,t,n)=>(1==i&&0==t&&n.length>1&&e!=n[t+1]&&(e+="(?!"+e+")"),e)).join(e)+c[n])}let d=2==n?_l:"",p=2==r?_l:"",f=p+Pl(e.interChars,e.interIns)+d;return o>0?s?u=d+"("+u.join(")"+p+"|"+d+"(")+")"+p:(u="("+u.join(")("+f+")(")+")",u="(.??"+d+")"+u+"("+p+".*)"):(u=u.join(f),u=d+u+p),[new RegExp(u,"i"+w),l,c]},k=(e,t,n)=>{let[r]=T(t);if(null==r)return null;let a=[];if(null!=n)for(let t=0;t<n.length;t++){let o=n[t];r.test(e[o])&&a.push(o)}else for(let t=0;t<e.length;t++)r.test(e[t])&&a.push(t);return a};let M=!!f,B=new RegExp(h,w),L=new RegExp(f,w);const N=(t,a,o)=>{let[i,s,l]=T(o,1),u=P(o,!0),[c]=T(o,2),d=s.length,p=Array(d),f=Array(d);for(let e=0;e<d;e++){let t=s[e],n=u[e],r='"'==t[0]?t.slice(1,-1):t+l[e],a='"'==n[0]?n.slice(1,-1):n+l[e];p[e]=r,f[e]=a}let h=t.length,g=Array(h).fill(0),m={idx:Array(h),start:g.slice(),chars:g.slice(),cases:g.slice(),terms:g.slice(),interIns:g.slice(),intraIns:g.slice(),interLft2:g.slice(),interRgt2:g.slice(),interLft1:g.slice(),interRgt1:g.slice(),ranges:Array(h)},b=1==n||1==r,y=0;for(let o=0;o<t.length;o++){let s=a[t[o]],l=s.match(i),u=l.index+l[1].length,h=u,g=!1,S=0,x=0,E=0,C=0,A=0,O=0,R=0,I=0,D=0,P=[];for(let t=0,a=2;t<d;t++,a+=2){let o=v(l[a]),i=p[t],c=f[t],m=i.length,y=o.length,_=o==i;if(l[a]==c&&R++,!_&&l[a+1].length>=m){let e=v(l[a+1]).indexOf(i);e>-1&&(P.push(h,y,e,m),h+=V(l,a,e,m),o=i,y=m,_=!0,0==t&&(u=h))}if(b||_){let e=h-1,c=h+y,d=!1,p=!1;if(-1==e||B.test(s[e]))_&&S++,d=!0;else{if(2==n){g=!0;break}if(M&&L.test(s[e]+s[e+1]))_&&x++,d=!0;else if(1==n){let e=l[a+1],n=h+y;if(e.length>=m){let r,c=0,p=!1,f=new RegExp(i,"ig"+w);for(;r=f.exec(e);){c=r.index;let e=n+c,t=e-1;if(-1==t||B.test(s[t])){S++,p=!0;break}if(L.test(s[t]+s[e])){x++,p=!0;break}}p&&(d=!0,P.push(h,y,c,m),h+=V(l,a,c,m),o=i,y=m,_=!0,0==t&&(u=h))}if(!d){g=!0;break}}}if(c==s.length||B.test(s[c]))_&&E++,p=!0;else{if(2==r){g=!0;break}if(M&&L.test(s[c-1]+s[c]))_&&C++,p=!0;else if(1==r){g=!0;break}}_&&(A+=m,d&&p&&O++)}if(y>m&&(D+=y-m),t>0&&(I+=l[a-1].length),!e.intraFilt(i,o,h)){g=!0;break}t<d-1&&(h+=y+l[a+1].length)}if(!g){m.idx[y]=t[o],m.interLft2[y]=S,m.interLft1[y]=x,m.interRgt2[y]=E,m.interRgt1[y]=C,m.chars[y]=A,m.terms[y]=O,m.cases[y]=R,m.interIns[y]=I,m.intraIns[y]=D,m.start[y]=u;let e=s.match(c),n=e.index+e[1].length,r=P.length,a=r>0?0:1/0,i=r-4;for(let t=2;t<e.length;){let r=e[t].length;if(a<=i&&P[a]==n){let r=P[a+1],o=P[a+2],i=P[a+3],s=t,l="";for(let t=0;t<r;s++)l+=e[s],t+=e[s].length;e.splice(t,s-t,l),n+=V(e,t,o,i),a+=4}else n+=r,t++}n=e.index+e[1].length;let l=m.ranges[y]=[],d=n,p=n;for(let t=2;t<e.length;t++){let r=e[t].length;n+=r,t%2==0?p=n:r>0&&(l.push(d,p),d=p=n)}p>d&&l.push(d,p),y++}}if(y<t.length)for(let e in m)m[e]=m[e].slice(0,y);return m},V=(e,t,n,r)=>{let a=e[t]+e[t+1].slice(0,n);return e[t-1]+=a,e[t]=e[t+1].slice(n,n+r),e[t+1]=e[t+1].slice(n+r),a.length};return{search:(...t)=>{let n=((t,n,r,a=1e3,o)=>{r=r?!0===r?5:r:0;let i=null,s=null,l=[];n=n.replace(E,e=>{let t=e.trim().slice(1);return t='"'===t[0]?Cl(t.slice(1,-1)):t.replace(Ol,""),""!=t&&l.push(t),""});let u,c=P(n);if(l.length>0){if(u=new RegExp(l.join("|"),"i"+w),0==c.length){let e=[];for(let n=0;n<t.length;n++)u.test(t[n])||e.push(n);return[e,null,null]}}else if(0==c.length)return[null,null,null];if(r>0){let e=P(n);if(e.length>1){let n=e.slice().sort((e,t)=>t.length-e.length);for(let e=0;e<n.length;e++){if(0==o?.length)return[[],null,null];o=k(t,n[e],o)}if(e.length>r)return[o,null,null];i=Ml(e).map(e=>e.join(" ")),s=[];let a=new Set;for(let e=0;e<i.length;e++)if(a.size<o.length){let n=o.filter(e=>!a.has(e)),r=k(t,i[e],n);for(let e=0;e<r.length;e++)a.add(r[e]);s.push(r)}else s.push([])}}null==i&&(i=[n],s=[o?.length>0?o:k(t,n)]);let d=null,p=null;if(l.length>0&&(s=s.map(e=>e.filter(e=>!u.test(t[e])))),s.reduce((e,t)=>e+t.length,0)<=a){d={},p=[];for(let n=0;n<s.length;n++){let r=s[n];if(null==r||0==r.length)continue;let a=i[n],o=N(r,t,a),l=e.sort(o,t,a,b);if(n>0)for(let e=0;e<l.length;e++)l[e]+=p.length;for(let e in o)d[e]=(d[e]??[]).concat(o[e]);p=p.concat(l)}}return[[].concat(...s),d,p]})(...t);return n},split:P,filter:k,info:N,sort:e.sort}}const kl=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let r in e)e[r].split("").forEach(e=>{n+=e,t.set(e,r)});let r=new RegExp(`[${n}]`,"g"),a=e=>t.get(e);return e=>{if("string"==typeof e)return e.replace(r,a);let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].replace(r,a);return t}})();function Ml(e){let t,n,r=(e=e.slice()).length,a=[e.slice()],o=new Array(r).fill(0),i=1;for(;i<r;)o[i]<i?(t=i%2&&o[i],n=e[i],e[i]=e[t],e[t]=n,++o[i],i=1,a.push(e.slice())):(o[i]=0,++i);return a}const Bl=(e,t)=>t?`<mark>${e}</mark>`:e,Ll=(e,t)=>e+t;function Nl(e,t){return e===t||(0,fe.isEqual)(e,t)}function Vl(e){try{return JSON.stringify(e,(()=>{const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}})())}catch(e){console.error(e)}return""}function Fl(e){return e.map(e=>function(e){var t,n;let r="",a=e.operator;return"=|"===a?(a="=~",r=null==(t=e.values)?void 0:t.map($l).join("|")):"!=|"===a?(a="!~",r=null==(n=e.values)?void 0:n.map($l).join("|")):r="=~"===a||"!~"===a?$l(e.value):jl(e.value),`${e.key}${a}"${r}"`}(e)).join(",")}function jl(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"')}function $l(e){return jl(e.replace(zl,"\\$&"))}Tl.latinize=kl,Tl.permute=e=>Ml([...Array(e.length).keys()]).sort((e,t)=>{for(let n=0;n<e.length;n++)if(e[n]!=t[n])return e[n]-t[n];return 0}).map(t=>t.map(t=>e[t])),Tl.highlight=function(e,t,n=Bl,r="",a=Ll){r=a(r,n(e.substring(0,t[0]),!1))??r;for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];r=a(r,n(e.substring(i,s),!0))??r,o<t.length-3&&(r=a(r,n(e.substring(t[o+1],t[o+2]),!1))??r)}return a(r,n(e.substring(t[t.length-1]),!1))??r};const zl=/[*+?()|\\.\[\]{}^$]/g;function Hl(e){var t;const n=ju.findAllObjects(e.getRoot(),e=>e instanceof yl),r=ju.interpolate(e,null==(t=e.state.datasource)?void 0:t.uid),a=function(e){const t={};for(const n of e)n.state.key&&(n.state.key in t||(t[n.state.key]=[]),t[n.state.key].push(n));return Object.values(t).flatMap(e=>{const t=e.filter(e=>e.isActive);return 0===t.length&&1===e.length?e:t})}(n).filter(t=>{var n;return ju.interpolate(e,null==(n=t.state.datasource)?void 0:n.uid)===r});if(0===a.length)return[];const o=[];return a.forEach(t=>{o.push(...t.state.queries.filter(t=>!t.datasource||!t.datasource.uid||ju.interpolate(e,t.datasource.uid)===r))}),o}function Ul(e){return null==e?"":/\|/g[Symbol.replace](e,"__gfp__")}function Gl(e){return null==e?"":/,/g[Symbol.replace](e,"__gfc__")}function Wl(e){return null==e?"":(e=/__gfp__/g[Symbol.replace](e,"|"),e=/__gfc__/g[Symbol.replace](e,","))}function ql(e,t){return t&&e!==t?[e,t].map(Gl).join(","):Gl(e)}function Ql(e){return Array.isArray(e)?e:e.data}function Yl(e){return!Array.isArray(e)&&Boolean(e.error)}function Xl(e){const t=[],n=new Map;for(const r of e){const e=r.group;if(e){let a=n.get(e);a||(a=[],n.set(e,a),t.push({label:e,options:a})),a.push(r)}else t.push(r)}return t}function Kl(e,t=1e4){const n=new Tl,r=Array.from({length:Math.min(t,e.length)},(e,t)=>t);return a=>{if(""===a)return r;const[o,i,s]=n.search(e,a);if(o){if(i&&s){const e=Array(Math.min(s.length,t));for(let t=0;t<e.length;t++)e[t]=i.idx[s[t]];return e}return o.slice(0,t)}return[]}}var Zl=Object.defineProperty,Jl=Object.defineProperties,eu=Object.getOwnPropertyDescriptors,tu=Object.getOwnPropertySymbols,nu=Object.prototype.hasOwnProperty,ru=Object.prototype.propertyIsEnumerable,au=(e,t,n)=>t in e?Zl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class ou extends J{constructor(e){var t;super((t=((e,t)=>{for(var n in t||(t={}))nu.call(t,n)&&au(e,n,t[n]);if(tu)for(var n of tu(t))ru.call(t,n)&&au(e,n,t[n]);return e})({type:"constant",value:"",name:""},e),Jl(t,eu({skipUrlSync:!0}))))}getValue(){return this.state.value}}class iu{constructor(e,t){this._sceneObject=e,this._options=t,this._dependencies=new Set,this._isWaitingForVariables=!1,this.scanCount=0,this._statePaths=t.statePaths,this._options.handleTimeMacros&&this.handleTimeMacros()}hasDependencyOn(e){return this.getNames().has(e)}variableUpdateCompleted(e,t){const n=this.getNames();let r=!1;(n.has(e.state.name)||n.has(u.DataLinkBuiltInVars.includeVars))&&t&&(r=!0),ge("VariableDependencyConfig","variableUpdateCompleted",e.state.name,r,this._isWaitingForVariables),this._options.onAnyVariableChanged&&this._options.onAnyVariableChanged(e),this._options.onVariableUpdateCompleted&&(this._isWaitingForVariables||r)&&this._options.onVariableUpdateCompleted(),r&&(this._options.onReferencedVariableValueChanged&&this._options.onReferencedVariableValueChanged(e),this._options.onReferencedVariableValueChanged||this._options.onVariableUpdateCompleted||this._sceneObject.forceRender())}hasDependencyInLoadingState(){return ju.hasVariableDependencyInLoadingState(this._sceneObject)?(this._isWaitingForVariables=!0,!0):(this._isWaitingForVariables=!1,!1)}getNames(){const e=this._state,t=this._state=this._sceneObject.state;if(!e)return this.scanStateForDependencies(this._state),this._dependencies;if(t!==e)if(this._statePaths){for(const n of this._statePaths)if("*"===n||t[n]!==e[n]){this.scanStateForDependencies(t);break}}else this.scanStateForDependencies(t);return this._dependencies}setVariableNames(e){this._options.variableNames=e,this.scanStateForDependencies(this._state)}setPaths(e){this._statePaths=e}scanStateForDependencies(e){if(this._dependencies.clear(),this.scanCount+=1,this._options.variableNames)for(const e of this._options.variableNames)this._dependencies.add(e);if(this._statePaths)for(const t of this._statePaths){if("*"===t){this.extractVariablesFrom(e);break}{const n=e[t];n&&this.extractVariablesFrom(n)}}}extractVariablesFrom(e){Dt.lastIndex=0;const t=("string"!=typeof e?Vl(e):e).matchAll(Dt);if(t)for(const e of t){const[,t,n,,r]=e,a=t||n||r;this._dependencies.add(a)}}handleTimeMacros(){this._sceneObject.addActivationHandler(()=>{const e=ju.getTimeRange(this._sceneObject).subscribeToState((e,t)=>{const n=this.getNames(),r=n.has("__from"),a=n.has("__to"),o=n.has("__timezone");if(e.value!==t.value)if(r){const t=new ou({name:"__from",value:e.from});this.variableUpdateCompleted(t,!0)}else if(a){const t=new ou({name:"__to",value:e.to});this.variableUpdateCompleted(t,!0)}if(e.timeZone!==t.timeZone&&o){const t=new ou({name:"__timezone",value:e.timeZone});this.variableUpdateCompleted(t,!0)}});return()=>e.unsubscribe()})}}const su=e=>Boolean(e.metricFindQuery)&&!Boolean(e.variables),lu=e=>{if(!e.variables)return!1;if(e.variables.getType()!==u.VariableSupportType.Standard)return!1;const t=e.variables;return"toDataQuery"in t&&Boolean(t.toDataQuery)},uu=e=>{if(!e.variables)return!1;if(e.variables.getType()!==u.VariableSupportType.Custom)return!1;const t=e.variables;return"query"in t&&"editor"in t&&Boolean(t.query)&&Boolean(t.editor)},cu=e=>!!e.variables&&e.variables.getType()===u.VariableSupportType.Datasource;var du=Object.defineProperty,pu=Object.defineProperties,fu=Object.getOwnPropertyDescriptors,hu=Object.getOwnPropertySymbols,gu=Object.prototype.hasOwnProperty,mu=Object.prototype.propertyIsEnumerable,vu=(e,t,n)=>t in e?du(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bu=(e,t)=>{for(var n in t||(t={}))gu.call(t,n)&&vu(e,n,t[n]);if(hu)for(var n of hu(t))mu.call(t,n)&&vu(e,n,t[n]);return e},yu=(e,t)=>pu(e,fu(t));class wu{constructor(e,t=(0,c.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(lu(this.datasource))return this.datasource.variables.toDataQuery(function(e){var t;const n=null!=(t=e.state.query)?t:"";return"string"==typeof n?{query:n,refId:`variable-${e.state.name}`}:null==n.refId?yu(bu({},n),{refId:`variable-${e.state.name}`}):e.state.query}(e));throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return lu(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):Cu()}}class Su{constructor(e){this.datasource=e}getTarget(e){if(su(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest({variable:e,searchFilter:t},n){return su(this.datasource)?(0,O.from)(this.datasource.metricFindQuery(e.state.query,yu(bu({},n),{variable:{name:e.state.name,type:e.state.type},searchFilter:t}))).pipe((0,O.mergeMap)(e=>{if(!e||!e.length)return Cu();const t=e;return(0,O.of)({series:t,state:u.LoadingState.Done,timeRange:n.range})})):Cu()}}class xu{constructor(e,t=(0,c.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(uu(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return uu(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):Cu()}}class Eu{constructor(e,t=(0,c.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){var t;if(cu(this.datasource))return"string"==typeof e.state.query?e.state.query:yu(bu({},e.state.query),{refId:null!=(t=e.state.query.refId)?t:"variable-query"});throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return cu(this.datasource)?this._runRequest(this.datasource,t,this.datasource.query):Cu()}}function Cu(){return(0,O.of)({state:u.LoadingState.Done,series:[],timeRange:(0,u.getDefaultTimeRange)()})}const Au=(e,t)=>{const n=[];let r=null;t.lastIndex=0;do{r=t.exec(e),r&&n.push(r)}while(t.global&&r&&""!==r[0]&&void 0!==r[0]);return n};function Ou(e){if(!e.label)return-1;const t=e.label.match(/.*?(\d+).*/);return!t||t.length<2?-1:parseInt(t[1],10)}const Ru=new Intl.Collator(void 0,{sensitivity:"accent",numeric:!0});function Iu(e){return e.slice().sort((e,t)=>Ru.compare(e.label,t.label))}var Du=Object.defineProperty,Pu=Object.getOwnPropertySymbols,_u=Object.prototype.hasOwnProperty,Tu=Object.prototype.propertyIsEnumerable,ku=(e,t,n)=>t in e?Du(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Mu extends Bt{constructor(e){super(((e,t)=>{for(var n in t||(t={}))_u.call(t,n)&&ku(e,n,t[n]);if(Pu)for(var n of Pu(t))Tu.call(t,n)&&ku(e,n,t[n]);return e})({type:"query",name:"",value:"",text:"",options:[],datasource:null,regex:"",query:"",refresh:u.VariableRefresh.onDashboardLoad,sort:u.VariableSort.disabled},e)),this._variableDependency=new iu(this,{statePaths:["regex","query","datasource"]}),this.onSearchChange=e=>{Vl(this.state.query).indexOf("__searchFilter")>-1&&this._updateOptionsBasedOnSearchFilter(e)},this._updateOptionsBasedOnSearchFilter=(0,fe.debounce)(async e=>{const t=await(0,O.lastValueFrom)(this.getValueOptions({searchFilter:e}));this.setState({options:t,loading:!1})},400)}getValueOptions(e){return this.state.query?(this.setState({loading:!0,error:null}),(0,O.from)(nn(this.state.datasource,{__sceneObject:Zn(this)})).pipe((0,O.mergeMap)(t=>{const n=function(e){if(lu(e))return new wu(e,(0,c.getRunRequest)());if(su(e))return new Su(e);if(uu(e))return new xu(e);if(cu(e))return new Eu(e);throw new Error(`Couldn't create a query runner for datasource ${e.type}`)}(t),r=n.getTarget(this),a=this.getRequest(r,e.searchFilter);return n.runRequest({variable:this,searchFilter:e.searchFilter},a).pipe(en({type:"variable",request:a,origin:this}),(0,O.filter)(e=>e.state===u.LoadingState.Done||e.state===u.LoadingState.Error),(0,O.take)(1),(0,O.mergeMap)(e=>e.state===u.LoadingState.Error?(0,O.throwError)(()=>e.error):(0,O.of)(e)),e=>e.pipe((0,O.map)(e=>{const t=e.series;if(!t||!t.length)return[];if(function(e){if(!e)return!1;if(!e.length)return!0;const t=e[0];if((0,u.isDataFrame)(t))return!1;for(const e in t){if(!t.hasOwnProperty(e))continue;if(null!==t[e]&&"string"!=typeof t[e]&&"number"!=typeof t[e])continue;const n=e.toLowerCase();if("text"===n||"value"===n)return!0}return!1}(t))return t;if(0===t[0].fields.length)return[];const n=(0,u.getProcessedDataFrames)(t),r=[];let a=-1,o=-1,i=-1,s=-1;for(const e of n)for(let n=0;n<e.fields.length;n++){const r=e.fields[n],l=(0,u.getFieldDisplayName)(r,e,t).toLowerCase();r.type===u.FieldType.string&&-1===i&&(i=n),"text"===l&&r.type===u.FieldType.string&&-1===o&&(o=n),"value"===l&&r.type===u.FieldType.string&&-1===a&&(a=n),"expandable"!==l||r.type!==u.FieldType.boolean&&r.type!==u.FieldType.number||-1!==s||(s=n)}if(-1===i)throw new Error("Couldn't find any field of type string in the results.");for(const e of t)for(let t=0;t<e.length;t++){const n=-1!==s?e.fields[s].values.get(t):void 0,l=e.fields[i].values.get(t),u=-1!==o?e.fields[o].values.get(t):"",c=-1!==a?e.fields[a].values.get(t):"";-1!==a||-1!==o?-1!==a||-1===o?-1===a||-1!==o?r.push({text:u,value:c,expandable:n}):r.push({text:c,value:c,expandable:n}):r.push({text:u,value:u,expandable:n}):r.push({text:l,value:l,expandable:n})}return r})),(0,O.mergeMap)(e=>{let t="";return this.state.regex&&(t=ju.interpolate(this,this.state.regex,void 0,"regex")),(0,O.of)(function(e,t,n){var r,a,o,i,s,l,c,d,p,f;let h,g=[];e&&(h=(0,u.stringToJsRegex)(e));for(let e=0;e<n.length;e++){const t=n[e];let u=null!=(a=null!=(r=t.text)?r:t.value)?a:"",m=null!=(i=null!=(o=t.value)?o:t.text)?i:"";if((0,fe.isNumber)(m)&&(m=m.toString()),(0,fe.isNumber)(u)&&(u=u.toString()),h){const e=Au(m,h);if(!e.length)continue;const t=e.find(e=>e.groups&&e.groups.value),n=e.find(e=>e.groups&&e.groups.text),r=e.find(e=>e.length>1),a=e.length>1&&r;if(t||n)m=null!=(c=null==(s=null==t?void 0:t.groups)?void 0:s.value)?c:null==(l=null==n?void 0:n.groups)?void 0:l.text,u=null!=(f=null==(d=null==n?void 0:n.groups)?void 0:d.text)?f:null==(p=null==t?void 0:t.groups)?void 0:p.value;else{if(a){for(let t=0;t<e.length;t++){const n=e[t];g.push({label:n[1],value:n[1]})}continue}r&&(u=r[1],m=r[1])}}g.push({label:u,value:m})}return g=(0,fe.uniqBy)(g,"value"),((e,t)=>{if(t===u.VariableSort.disabled)return e;switch(t){case u.VariableSort.alphabeticalAsc:e=(0,fe.sortBy)(e,"label");break;case u.VariableSort.alphabeticalDesc:e=(0,fe.sortBy)(e,"label").reverse();break;case u.VariableSort.numericalAsc:e=(0,fe.sortBy)(e,Ou);break;case u.VariableSort.numericalDesc:e=(e=(0,fe.sortBy)(e,Ou)).reverse();break;case u.VariableSort.alphabeticalCaseInsensitiveAsc:e=(0,fe.sortBy)(e,e=>(0,fe.toLower)(e.label));break;case u.VariableSort.alphabeticalCaseInsensitiveDesc:e=(e=(0,fe.sortBy)(e,e=>(0,fe.toLower)(e.label))).reverse();break;case u.VariableSort.naturalAsc||7:e=Iu(e);break;case u.VariableSort.naturalDesc||8:e=(e=Iu(e)).reverse()}return e})(g,t)}(t,this.state.sort,e))}),(0,O.catchError)(e=>e.cancelled?(0,O.of)([]):(0,O.throwError)(()=>e)))}))):(0,O.of)([])}getRequest(e,t){const n={__sceneObject:Zn(this)};t&&(n.__searchFilter={value:t,text:t});const r=ju.getTimeRange(this).state.value;return{app:u.CoreApp.Dashboard,requestId:T(),timezone:"",range:r,interval:"",intervalMs:0,targets:[e],scopedVars:n,startTime:Date.now()}}}function Bu(e){var t;return null!=(t=ue(e,e=>e.state.$data))?t:lt}function Lu(e,t,n,r,a){return""===t||null==t?"":Yt(e,t,n,r,a)}function Nu(e,t,n,r){if(t(e))return e;let a=null;return e.forEachChild(e=>{if(e===n)return;let r=Nu(e,t);r&&(a=r)}),a||(r&&e.parent?Nu(e.parent,t,e,!0):null)}function Vu(e,t){return Nu(e,t,void 0,!0)}function Fu(e,t){const n=[];return e.forEachChild(e=>{t(e)&&n.push(e),n.push(...Fu(e,t))}),n}Mu.Component=({model:e})=>Wn(e);const ju={getVariables:function(e){var t;return null!=(t=ue(e,e=>e.state.$variables))?t:ct},getData:Bu,getTimeRange:dt,getLayout:function(e){return ue(e,e=>function(e){return"isDraggable"in e}(e)?e:void 0)||null},getDataLayers:function(e,t=!1){let n=e,r=[];for(;n;){const e=n.state.$data;if(e){if(Jt(e)?r=r.concat(e):e.state.$data&&Jt(e.state.$data)&&(r=r.concat(e.state.$data)),t&&r.length>0)break;n=n.parent}else n=n.parent}return r},interpolate:Lu,lookupVariable:he,hasVariableDependencyInLoadingState:function(e){if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){if(e instanceof Mu&&e.state.name===t){console.warn("Query variable is referencing itself");continue}const n=he(t,e);if(n&&n.parent.isVariableLoadingOrWaitingToUpdate(n))return!0}return!1},findByKey:function(e,t){const n=Vu(e,e=>e.state.key===t);if(!n)throw new Error("Unable to find scene with key "+t);return n},findByKeyAndType:function(e,t,n){const r=Vu(e,e=>e.state.key===t);if(!r)throw new Error("Unable to find scene with key "+t);if(!(r instanceof n))throw new Error(`Found scene object with key ${t} does not match type ${n.name}`);return r},findObject:Vu,findAllObjects:Fu,getAncestor:function(e,t){let n=e;for(;n;){if(n instanceof t)return n;n=n.parent}if(!n)throw new Error("Unable to find parent of type "+t.name);return n},getQueryController:Fe,findDescendents:function(e,t){function n(e){return e instanceof t}return Fu(e,n).filter(n)}};class $u{constructor(){this.index=new Map}getUniqueKey(e,t){const n=this.index.get(e);if(!n)return this.index.set(e,[t]),e;let r=n.findIndex(e=>e===t);return-1===r&&(function(e){for(const t of e)if(zu(t)){const n=e.indexOf(t);e.splice(n,1)}}(n),n.push(t),r=n.length-1),r>0?`${e}-${r+1}`:e}clear(){this.index.clear()}}function zu(e){const t=e.getRoot();return!ju.findObject(t,t=>t===e)}function Hu(e){const t=new $u,n={},r=e=>{if(e.urlSync){const r=e.urlSync.getUrlState();for(const[a,o]of Object.entries(r))if(null!=o){const r=t.getUniqueKey(a,e);n[r]=o}}e.forEachChild(r)};return r(e),n}function Uu(e,t,n,r){r||Gu(e,t,n),e.forEachChild(e=>{Gu(e,t,n)}),e.forEachChild(e=>Uu(e,t,n,!0))}function Gu(e,t,n){if(e.urlSync){const r={},a=e.urlSync.getUrlState();for(const o of e.urlSync.getKeys()){const i=n.getUniqueKey(o,e),s=t.getAll(i),l=a[o];Wu(s,l)||(s.length>0?Array.isArray(l)?r[o]=s:r[o]=s[0]:r[o]=null)}Object.keys(r).length>0&&e.urlSync.updateFromUrl(r)}}function Wu(e,t){return 0===e.length&&null==t||(Array.isArray(t)||1!==(null==e?void 0:e.length)?0===(null==t?void 0:t.length)&&null===e||(0,fe.isEqual)(e,t):t===e[0])}class qu extends J{constructor(){super(...arguments),this._runningEffect=null,this._variableDependency=new iu(this,{variableNames:[this.state.variableName],onReferencedVariableValueChanged:this._onVariableChanged.bind(this)})}_onVariableChanged(e){const t=this.state.onChange;this._runningEffect&&(this._runningEffect(),this._runningEffect=null);const n=t(e,this);n&&(this._runningEffect=n)}}var Qu=(e=>(e[e.never=0]="never",e[e.onDashboardLoad=1]="onDashboardLoad",e[e.onTimeRangeChanged=2]="onTimeRangeChanged",e))(Qu||{}),Yu=(e=>(e[e.Crosshair=1]="Crosshair",e[e.Off=0]="Off",e[e.Tooltip=2]="Tooltip",e))(Yu||{}),Xu=Object.defineProperty,Ku=Object.defineProperties,Zu=Object.getOwnPropertyDescriptors,Ju=Object.getOwnPropertySymbols,ec=Object.prototype.hasOwnProperty,tc=Object.prototype.propertyIsEnumerable,nc=(e,t,n)=>t in e?Xu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class rc extends J{constructor(e){var t,n;super((t=((e,t)=>{for(var n in t||(t={}))ec.call(t,n)&&nc(e,n,t[n]);if(Ju)for(var n of Ju(t))tc.call(t,n)&&nc(e,n,t[n]);return e})({},e),n={sync:e.sync||Yu.Off},Ku(t,Zu(n)))),this.getEventsBus=e=>{if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return new ac(this.parent,e)}}getEventsScope(){if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return this.state.key}}class ac{constructor(e,t){this._source=e,this._eventsOrigin=t}publish(e){e.origin=this,this._eventsOrigin.publishEvent(e,!0)}getStream(e){return new O.Observable(t=>{const n=this._source.subscribeToEvent(e,e=>{t.next(e)});return()=>n.unsubscribe()})}subscribe(e,t){return this.getStream(e).pipe().subscribe(t)}removeAllListeners(){}newScopedBus(e,t){throw new Error("For internal use only")}}var oc=function(){},ic="undefined"!=typeof window;const sc=ic?o.useLayoutEffect:o.useEffect;var lc={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const uc=ic&&void 0!==window.ResizeObserver?function(){var e=(0,o.useState)(null),t=e[0],n=e[1],r=(0,o.useState)(lc),a=r[0],i=r[1],s=(0,o.useMemo)(function(){return new window.ResizeObserver(function(e){if(e[0]){var t=e[0].contentRect,n=t.x,r=t.y,a=t.width,o=t.height,s=t.top,l=t.left,u=t.bottom,c=t.right;i({x:n,y:r,width:a,height:o,top:s,left:l,bottom:u,right:c})}})},[]);return sc(function(){if(t)return s.observe(t),function(){s.disconnect()}},[t]),[n,a]}:function(){return[oc,lc]};function cc({data:e,showAll:t,seriesLimit:n,onShowAllSeries:r}){const a=(0,In.useStyles2)(dc),o=null==e?void 0:e.series.length;if(void 0===o||o<n)return null;const i=t?"Restore limit":`Show all ${o}`;return s().createElement("div",{className:a.timeSeriesDisclaimer},!t&&s().createElement("span",{className:a.warningMessage},s().createElement(In.Icon,{title:`Showing only ${n} series`,name:"exclamation-triangle","aria-hidden":"true"})),s().createElement(In.Tooltip,{content:"Rendering too many series in a single panel may impact performance and make data harder to read."},s().createElement(In.Button,{variant:"secondary",size:"sm",onClick:r},i)))}const dc=e=>({timeSeriesDisclaimer:(0,Pn.css)({label:"time-series-disclaimer",display:"flex",alignItems:"center",gap:e.spacing(1)}),warningMessage:(0,Pn.css)({display:"flex",alignItems:"center",gap:e.spacing(.5),color:e.colors.warning.main,fontSize:e.typography.bodySmall.fontSize})});var pc=Object.defineProperty,fc=Object.defineProperties,hc=Object.getOwnPropertyDescriptors,gc=Object.getOwnPropertySymbols,mc=Object.prototype.hasOwnProperty,vc=Object.prototype.propertyIsEnumerable,bc=(e,t,n)=>t in e?pc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yc=(e,t)=>{for(var n in t||(t={}))mc.call(t,n)&&bc(e,n,t[n]);if(gc)for(var n of gc(t))vc.call(t,n)&&bc(e,n,t[n]);return e};function wc(e,t){if(t)return t;let n=e.error?e.error.message:void 0;return e.errors&&(n=e.errors.map(e=>e.message).join(", ")),n}const Sc=(0,Pn.css)({position:"relative",width:"100%",height:"100%"}),xc=(0,Pn.css)({position:"absolute",width:"100%",height:"100%"}),Ec=e=>({ok:(0,Pn.css)({color:e.colors.success.text}),pending:(0,Pn.css)({color:e.colors.warning.text}),alerting:(0,Pn.css)({color:e.colors.error.text})});var Cc=Object.defineProperty,Ac=Object.defineProperties,Oc=Object.getOwnPropertyDescriptors,Rc=Object.getOwnPropertySymbols,Ic=Object.prototype.hasOwnProperty,Dc=Object.prototype.propertyIsEnumerable,Pc=(e,t,n)=>t in e?Cc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_c=(e,t)=>{for(var n in t||(t={}))Ic.call(t,n)&&Pc(e,n,t[n]);if(Rc)for(var n of Rc(t))Dc.call(t,n)&&Pc(e,n,t[n]);return e},Tc=(e,t)=>Ac(e,Oc(t));const kc="hideSeriesFrom",Mc=(0,u.isSystemOverrideWithRef)(kc);function Bc(e,t=u.ByNamesMatcherMode.exclude,n){return n=null!=n?n:{id:"custom.hideFrom",value:{viz:!0,legend:!1,tooltip:!1}},{__systemRef:kc,matcher:{id:u.FieldMatcherID.byNames,options:{mode:t,names:e,prefix:t===u.ByNamesMatcherMode.exclude?"All except:":void 0,readOnly:!0}},properties:[Tc(_c({},n),{value:{viz:!0,legend:!1,tooltip:!1}})]}}const Lc=e=>{var t;const n=null==(t=e.matcher.options)?void 0:t.names;return Array.isArray(n)?[...n]:[]},Nc=(e,t)=>{const n=new Set;for(const r of e)for(const a of r.fields){if(a.type!==u.FieldType.number)continue;const o=(0,u.getFieldDisplayName)(a,r,e);o!==t&&n.add(o)}return Array.from(n)},Vc=(e,t)=>{var n;let r=[];for(const a of e){const e=a.properties.find(e=>"custom.hideFrom"===e.id);if(void 0!==e&&!0===(null==(n=e.value)?void 0:n.legend)){const e=u.fieldMatchers.get(a.matcher.id).get(a.matcher.options);for(const n of t)for(const a of n.fields){if(a.type!==u.FieldType.number)continue;const o=(0,u.getFieldDisplayName)(a,n,t);e(a,n,t)&&r.push(o)}}}return r};var Fc=Object.defineProperty,jc=Object.defineProperties,$c=Object.getOwnPropertyDescriptors,zc=Object.getOwnPropertySymbols,Hc=Object.prototype.hasOwnProperty,Uc=Object.prototype.propertyIsEnumerable,Gc=(e,t,n)=>t in e?Fc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wc=(e,t)=>{for(var n in t||(t={}))Hc.call(t,n)&&Gc(e,n,t[n]);if(zc)for(var n of zc(t))Uc.call(t,n)&&Gc(e,n,t[n]);return e},qc=(e,t)=>jc(e,$c(t));const Qc=(e,t)=>({matcher:{id:u.FieldMatcherID.byName,options:e},properties:[Yc(t)]}),Yc=e=>({id:"color",value:{mode:u.FieldColorModeId.Fixed,fixedColor:e}});var Xc=Object.defineProperty,Kc=Object.defineProperties,Zc=Object.getOwnPropertyDescriptors,Jc=Object.getOwnPropertySymbols,ed=Object.prototype.hasOwnProperty,td=Object.prototype.propertyIsEnumerable,nd=(e,t,n)=>t in e?Xc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rd=(e,t)=>{for(var n in t||(t={}))ed.call(t,n)&&nd(e,n,t[n]);if(Jc)for(var n of Jc(t))td.call(t,n)&&nd(e,n,t[n]);return e},ad=(e,t)=>Kc(e,Zc(t));class od extends J{constructor(e){var t;super(rd({options:{},fieldConfig:{defaults:{},overrides:[]},title:"Title",pluginId:"timeseries",_renderCounter:0},e)),this._variableDependency=new iu(this,{statePaths:["title","options","fieldConfig"]}),this._structureRev=0,this.onTimeRangeChange=e=>{ju.getTimeRange(this).onTimeRangeChange({raw:{from:(0,u.toUtc)(e.from),to:(0,u.toUtc)(e.to)},from:(0,u.toUtc)(e.from),to:(0,u.toUtc)(e.to)})},this.getTimeRange=e=>{const t=ju.findObject(this,e=>e instanceof sd),n=ju.getTimeRange(this);if(t instanceof sd&&t.isEnabled)return Je(n.state.from,n.state.to,n.getTimeZone(),n.state.fiscalYearStartMonth,n.state.UNSAFE_nowDelay,n.state.weekStart);const r=this.getPlugin();return r&&!r.meta.skipDataQuery&&e&&e.timeRange?e.timeRange:n.state.value},this.onTitleChange=e=>{this.setState({title:e})},this.onDescriptionChange=e=>{this.setState({description:e})},this.onDisplayModeChange=e=>{this.setState({displayMode:e})},this.onToggleCollapse=e=>{this.setState({collapsed:e})},this.onOptionsChange=(e,t=!1,n=!1)=>{var r;const{fieldConfig:a,options:o}=this.state,i=t?e:(0,fe.mergeWith)((0,fe.cloneDeep)(o),e,(e,t,n,r)=>{if((0,fe.isArray)(t))return t;e===t||void 0!==t||(r[n]=t)}),s=(0,u.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:i,currentFieldConfig:a,isAfterPluginChange:n});this.setState({options:s.options,_renderCounter:(null!=(r=this.state._renderCounter)?r:0)+1})},this.onFieldConfigChange=(e,t)=>{const{fieldConfig:n,options:r}=this.state,a=t?e:(0,fe.merge)((0,fe.cloneDeep)(n),e),o=(0,u.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:r,currentFieldConfig:a,isAfterPluginChange:!1});this._dataWithFieldConfig=void 0,this.setState({fieldConfig:o.fieldConfig})},this.interpolate=(e,t,n)=>ju.interpolate(this,e,t,n),this.getDescription=()=>{this.publishEvent(new H({origin:this,interaction:"panel-description-shown"}),!0);const{description:e}=this.state;if(e){const t=this.interpolate(e);return(0,u.renderMarkdown)(t)}return""},this.onCancelQuery=()=>{var e;this.publishEvent(new H({origin:this,interaction:"panel-cancel-query-clicked"}),!0);const t=ju.getData(this);null==(e=t.cancelQuery)||e.call(t)},this.onStatusMessageClick=()=>{this.publishEvent(new H({origin:this,interaction:"panel-status-message-clicked"}),!0)},this._onSeriesColorChange=(e,t)=>{this.onFieldConfigChange(((e,t,n)=>{const{overrides:r}=n,a=n.overrides.findIndex(t=>t.matcher.id===u.FieldMatcherID.byName&&t.matcher.options===e);if(a<0)return qc(Wc({},n),{overrides:[...n.overrides,Qc(e,t)]});const o=Array.from(r),i=o[a],s=i.properties.findIndex(e=>"color"===e.id);if(s<0)return o[a]=qc(Wc({},i),{properties:[...i.properties,Yc(t)]}),qc(Wc({},n),{overrides:o});const l=Array.from(i.properties);return l[s]=Yc(t),o[a]=qc(Wc({},i),{properties:l}),qc(Wc({},n),{overrides:o})})(e,t,this.state.fieldConfig))},this._onSeriesVisibilityChange=(e,t)=>{this._dataWithFieldConfig&&this.onFieldConfigChange(function(e,t,n,r){const{overrides:a}=n,o=e,i=a.findIndex(Mc);if(i<0){if(t===In.SeriesVisibilityChangeMode.ToggleSelection){const e=Bc([o,...Vc(a,r)]);return Tc(_c({},n),{overrides:[...n.overrides,e]})}const e=Bc(Nc(r,o));return Tc(_c({},n),{overrides:[...n.overrides,e]})}const s=Array.from(a),[l]=s.splice(i,1);if(t===In.SeriesVisibilityChangeMode.ToggleSelection){let e=Lc(l);const t=Vc(s,r);if(t.length>0&&(e=e.filter(e=>t.indexOf(e)<0)),e[0]===o&&1===e.length)return Tc(_c({},n),{overrides:s});const a=Bc([o,...t]);return Tc(_c({},n),{overrides:[...s,a]})}const c=((e,t,n=u.ByNamesMatcherMode.exclude)=>{const r=e.properties.find(e=>"custom.hideFrom"===e.id),a=Lc(e),o=a.findIndex(e=>e===t);return o<0?a.push(t):a.splice(o,1),Bc(a,n,r)})(l,o);return((e,t)=>Lc(e).length===Nc(t).length)(c,r)?Tc(_c({},n),{overrides:s}):Tc(_c({},n),{overrides:[...s,c]})}(e,t,this.state.fieldConfig,this._dataWithFieldConfig.series),!0)},this._onInstanceStateChange=e=>{this._panelContext&&(this._panelContext=ad(rd({},this._panelContext),{instanceState:e})),this.setState({_pluginInstanceState:e})},this._onToggleLegendSort=e=>{const t=this.state.options.legend;if(!t)return;let n=t.sortDesc,r=t.sortBy;e!==r&&(n=void 0),!1===n?(r=void 0,n=void 0):(n=!n,r=e),this.onOptionsChange(ad(rd({},this.state.options),{legend:ad(rd({},t),{sortBy:r,sortDesc:n})}),!0)},this.addActivationHandler(()=>{this._onActivate()}),null==(t=e.menu)||t.addActivationHandler(()=>{this.publishEvent(new H({origin:this,interaction:"panel-menu-shown"}),!0)})}_onActivate(){this._plugin||this._loadPlugin(this.state.pluginId)}forceRender(){var e;this.setState({_renderCounter:(null!=(e=this.state._renderCounter)?e:0)+1})}async _loadPlugin(e,t,n,r){const a=function(e){var t;const{getPanelPluginFromCache:n}=(0,c.getPluginImportUtils)();return null!=(t=n(e))?t:A.get(e)}(e);if(a)this._pluginLoaded(a,t,n,r);else{const{importPanelPlugin:a}=(0,c.getPluginImportUtils)();try{const o=a(e),i=ju.getQueryController(this);i&&i.state.enableProfiling&&tn(o).pipe(en({type:"plugin",origin:this})).subscribe(()=>{});const s=await o;this._pluginLoaded(s,t,n,r)}catch(t){this._pluginLoaded(function(e){const t=new u.PanelPlugin(()=>null);return t.meta={id:e,name:e,sort:100,type:u.PluginType.panel,module:"",baseUrl:"",info:{author:{name:""},description:"",links:[],logos:{large:"",small:"public/img/grafana_icon.svg"},screenshots:[],updated:"",version:""}},t}(e)),t instanceof Error&&this.setState({_pluginLoadError:t.message})}}}getLegacyPanelId(){const e=parseInt(this.state.key.replace("panel-",""),10);return isNaN(e)?0:e}async _pluginLoaded(e,t,n,r){const{options:a,fieldConfig:o,title:i,pluginVersion:s,_UNSAFE_customMigrationHandler:l}=this.state,c={title:i,options:a,fieldConfig:o,id:this.getLegacyPanelId(),type:e.meta.id,pluginVersion:s};t&&(c.options=t),n&&(c.fieldConfig=n);const d=this._getPluginVersion(e);null==l||l(c,e),e.onPanelMigration&&d!==s&&!r&&(c.options=await e.onPanelMigration(c));const p=(0,u.getPanelOptionsWithDefaults)({plugin:e,currentOptions:c.options,currentFieldConfig:c.fieldConfig,isAfterPluginChange:null!=r&&r});if(this._plugin=e,this.setState({options:p.options,fieldConfig:p.fieldConfig,pluginVersion:d,pluginId:e.meta.id}),e.meta.skipDataQuery){const e=ju.getTimeRange(this);this._subs.add(e.subscribeToState(()=>this.forceRender()))}}_getPluginVersion(e){return e&&e.meta.info.version?e.meta.info.version:c.config.buildInfo.version}getPlugin(){return this._plugin}getPanelContext(){return null!=this._panelContext||(this._panelContext=this.buildPanelContext()),this._panelContext}async changePluginType(e,t,n){var r,a;const{options:o,fieldConfig:i,pluginId:s}=this.state;this._dataWithFieldConfig=void 0;const l=this.state.pluginId!==e;await this._loadPlugin(e,null!=t?t:{},n,l);const u={title:this.state.title,options:this.state.options,fieldConfig:this.state.fieldConfig,id:1,type:e},c=null==(a=null==(r=this._plugin)?void 0:r.onPanelTypeChanged)?void 0:a.call(r,u,s,o,i);c&&!(0,fe.isEmpty)(c)&&this.onOptionsChange(c,!0,!0)}clearFieldConfigCache(){this._dataWithFieldConfig=void 0}applyFieldConfig(e){var t,n,r,a;const o=this._plugin;if(!o||o.meta.skipDataQuery||!e)return Ye;if(this._prevData===e&&this._dataWithFieldConfig)return this._dataWithFieldConfig;const i=o.dataSupport||{alertStates:!1,annotations:!1},s=o.fieldConfigRegistry,l=null!=(n=null==(t=this._dataWithFieldConfig)?void 0:t.series)?n:[],d=(0,u.applyFieldOverrides)({data:e.series,fieldConfig:this.state.fieldConfig,fieldConfigRegistry:s,replaceVariables:this.interpolate,theme:c.config.theme2,timeZone:null==(r=e.request)?void 0:r.timezone});return(0,u.compareArrayValues)(d,l,u.compareDataFrameStructures)||this._structureRev++,this._dataWithFieldConfig=ad(rd({},e),{structureRev:this._structureRev,series:d}),this._dataWithFieldConfig.annotations&&(this._dataWithFieldConfig.annotations=(0,u.applyFieldOverrides)({data:this._dataWithFieldConfig.annotations,fieldConfig:{defaults:{},overrides:[]},fieldConfigRegistry:s,replaceVariables:this.interpolate,theme:c.config.theme2,timeZone:null==(a=e.request)?void 0:a.timezone})),i.alertStates||(this._dataWithFieldConfig.alertState=void 0),i.annotations||(this._dataWithFieldConfig.annotations=void 0),this._prevData=e,this._dataWithFieldConfig}buildPanelContext(){const e=ju.findObject(this,e=>e instanceof rc);const t={eventsScope:e?e.getEventsScope():"__global_",eventBus:e?e.getEventsBus(this):(0,c.getAppEvents)(),app:u.CoreApp.Unknown,sync:()=>e?e.state.sync:u.DashboardCursorSync.Off,onSeriesColorChange:this._onSeriesColorChange,onToggleSeriesVisibility:this._onSeriesVisibilityChange,onToggleLegendSort:this._onToggleLegendSort,onInstanceStateChange:this._onInstanceStateChange};return this.state.extendPanelContext&&this.state.extendPanelContext(this,t),t}}od.Component=function({model:e}){var t;const{title:n,options:r,fieldConfig:a,_pluginLoadError:i,displayMode:l,hoverHeader:d,showMenuAlways:p,hoverHeaderOffset:f,menu:h,headerActions:g,titleItems:m,seriesLimit:v,seriesLimitShowAll:b,description:y,collapsible:w,collapsed:S,_renderCounter:x=0}=e.useState(),[E,{width:C,height:A}]=uc(),O=(0,o.useMemo)(()=>(0,c.getAppEvents)(),[]),R=(0,o.useCallback)(()=>{e.state.key&&O.publish(new u.SetPanelAttentionEvent({panelId:e.state.key}))},[e.state.key,O]),I=(0,o.useMemo)(()=>(0,fe.debounce)(R,100,{leading:!0,trailing:!1}),[R]),D=e.getPlugin(),{dragClass:P,dragClassCancel:_}=function(e){var t,n;const r=ju.getLayout(e),a=null==r?void 0:r.isDraggable();return r&&a&&!function(e,t){let n=e.parent;for(;n&&n!==t;){if("isDraggable"in n.state&&!1===n.state.isDraggable)return!0;n=n.parent}return!1}(e,r)?{dragClass:null==(t=r.getDragClass)?void 0:t.call(r),dragClassCancel:null==(n=null==r?void 0:r.getDragClassCancel)?void 0:n.call(r)}:{dragClass:"",dragClassCancel:""}}(e),T=function(e){var t,n;const r=ju.getLayout(e);return null!=(n=null==(t=null==r?void 0:r.getDragHooks)?void 0:t.call(r))?n:{}}(e),k=ju.getData(e),M=k.useState(),B=function(e,t,n){return(0,o.useMemo)(()=>{return(null==e?void 0:e.series)&&t&&!n?(r=yc({},e),a={series:e.series.slice(0,t)},fc(r,hc(a))):e;var r,a},[e,t,n])}(M.data,v,b),L=e.applyFieldConfig(B),N=ju.getTimeRange(e).getTimeZone(),V=e.getTimeRange(L),F=e.interpolate(n,void 0,"text"),j=(0,In.useStyles2)(Ec);if(!D)return s().createElement("div",null,"Loading plugin panel...");if(!D.panel)return s().createElement("div",null,"Panel plugin has no panel component");const $=D.panel;k&&k.setContainerWidth&&k.setContainerWidth(Math.round(C));let z,H,U=[];m&&(Array.isArray(m)?U=U.concat(m.map(e=>s().createElement(e.Component,{model:e,key:`${e.state.key}`}))):Xt(m)?U.push(s().createElement(m.Component,{model:m})):U.push(m)),v&&U.push(s().createElement(cc,{key:"series-limit",data:M.data,seriesLimit:v,showAll:b,onShowAllSeries:()=>e.setState({seriesLimitShowAll:!b})})),e.state.$timeRange&&U.push(s().createElement(e.state.$timeRange.Component,{model:e.state.$timeRange,key:e.state.key})),L.alertState&&U.push(s().createElement(In.Tooltip,{content:null!=(t=L.alertState.state)?t:"unknown",key:`alert-states-icon-${e.state.key}`},s().createElement(In.PanelChrome.TitleItem,{className:(0,Pn.cx)({[j.ok]:L.alertState.state===u.AlertState.OK,[j.pending]:L.alertState.state===u.AlertState.Pending,[j.alerting]:L.alertState.state===u.AlertState.Alerting})},s().createElement(In.Icon,{name:"alerting"===L.alertState.state?"heart-break":"heart",className:"panel-alert-icon",size:"md"})))),h&&(z=s().createElement(h.Component,{model:h})),g&&(H=Array.isArray(g)?s().createElement(s().Fragment,null,g.map(e=>s().createElement(e.Component,{model:e,key:`${e.state.key}`}))):Xt(g)?s().createElement(g.Component,{model:g}):g);const G=L,W=!k.isDataReadyToDisplay||k.isDataReadyToDisplay(),q=e.getPanelContext(),Q=e.getLegacyPanelId();return s().createElement("div",{className:Sc},s().createElement("div",{ref:E,className:xc,"data-viz-panel-key":e.state.key},C>0&&A>0&&s().createElement(In.PanelChrome,yc({title:F,description:(null==y?void 0:y.trim())?e.getDescription:void 0,loadingState:G.state,statusMessage:wc(G,i),statusMessageOnClick:e.onStatusMessageClick,width:C,height:A,selectionId:e.state.key,displayMode:l,titleItems:U,dragClass:P,actions:H,dragClassCancel:_,padding:D.noPadding?"none":"md",menu:z,onCancelQuery:e.onCancelQuery,onFocus:R,onMouseEnter:R,onMouseMove:I,onDragStart:t=>{var n;null==(n=T.onDragStart)||n.call(T,t,e)}},w?{collapsible:Boolean(w),collapsed:S,onToggleCollapse:e.onToggleCollapse,showMenuAlways:p}:{hoverHeader:d,hoverHeaderOffset:f}),(t,o)=>s().createElement(s().Fragment,null,s().createElement(In.ErrorBoundaryAlert,{dependencies:[D,G]},s().createElement(u.PluginContextProvider,{meta:D.meta},s().createElement(In.PanelContextProvider,{value:q},W&&s().createElement($,{id:Q,data:G,title:n,timeRange:V,timeZone:N,options:r,fieldConfig:a,transparent:!1,width:t,height:o,renderCounter:x,replaceVariables:e.interpolate,onOptionsChange:e.onOptionsChange,onFieldConfigChange:e.onFieldConfigChange,onChangeTimeRange:e.onTimeRangeChange,eventBus:q.eventBus}))))))))};const id=class extends J{constructor({enabled:e=!1}){super({enabled:e}),this.timerId=void 0,this._activationHandler=()=>(this.state.enabled&&this.enable(),()=>{window.clearInterval(this.timerId),this.timerId=void 0}),this.addActivationHandler(this._activationHandler)}enable(){window.clearInterval(this.timerId),this.timerId=void 0,this.timerId=window.setInterval(()=>{const e=ju.findAllObjects(this.getRoot(),e=>e instanceof od);for(const t of e)t.forceRender()},id.REFRESH_RATE),this.setState({enabled:!0})}disable(){window.clearInterval(this.timerId),this.timerId=void 0,this.setState({enabled:!1})}get isEnabled(){return this.state.enabled}};let sd=id;function ld(e){if("string"==typeof e)return e;if(e){if(e instanceof Error)return e.message;if((0,c.isFetchError)(e)){if(e.data&&e.data.message)return e.data.message;if(e.statusText)return e.statusText}else if(e.hasOwnProperty("message"))return e.message}return JSON.stringify(e)}sd.REFRESH_RATE=100;var ud=Object.defineProperty,cd=Object.getOwnPropertySymbols,dd=Object.prototype.hasOwnProperty,pd=Object.prototype.propertyIsEnumerable,fd=(e,t,n)=>t in e?ud(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class hd extends J{constructor(e,t=[]){super(((e,t)=>{for(var n in t||(t={}))dd.call(t,n)&&fd(e,n,t[n]);if(cd)for(var n of cd(t))pd.call(t,n)&&fd(e,n,t[n]);return e})({isEnabled:!0},e)),this._results=new O.ReplaySubject(1),this.isDataLayer=!0,this._variableValueRecorder=new rn,this._variableDependency=new iu(this,{onVariableUpdateCompleted:this.onVariableUpdateCompleted.bind(this)}),this._variableDependency.setPaths(t),this.addActivationHandler(()=>this.onActivate())}onActivate(){return this.state.isEnabled&&this.onEnable(),this.shouldRunLayerOnActivate()&&this.runLayer(),this.subscribeToState((e,t)=>{!e.isEnabled&&this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.onDisable(),this._results.next({origin:this,data:Ye}),this.setStateHelper({data:Ye})),e.isEnabled&&!t.isEnabled&&(this.onEnable(),this.runLayer())}),()=>{this.onDeactivate()}}onDeactivate(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0),this.onDisable(),this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}onVariableUpdateCompleted(){this.runLayer()}cancelQuery(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.publishResults(Ye))}publishResults(e){this.state.isEnabled&&(this._results.next({origin:this,data:e}),this.setStateHelper({data:e}))}getResultsStream(){return this._results}shouldRunLayerOnActivate(){return!!this.state.isEnabled&&(this._variableValueRecorder.hasDependenciesChanged(this)?(ge("SceneDataLayerBase","Variable dependency changed while inactive, shouldRunLayerOnActivate returns true"),!0):!this.state.data)}setStateHelper(e){kt(this,e)}}class gd extends J{constructor(){super({})}}function md({layer:e}){var t,n;const r=`data-layer-${e.state.key}`,{data:a,isEnabled:o}=e.useState(),i=Boolean(a&&a.state===ze.Loading);return s().createElement("div",{className:vd},s().createElement(dr,{htmlFor:r,isLoading:i,onCancel:()=>{var t;return null==(t=e.cancelQuery)?void 0:t.call(e)},label:e.state.name,description:e.state.description,error:null==(n=null==(t=e.state.data)?void 0:t.errors)?void 0:n[0].message}),s().createElement(In.InlineSwitch,{id:r,value:o,onChange:()=>e.setState({isEnabled:!o})}))}gd.Component=function({model:e}){const t=ju.getDataLayers(e,!0);return 0===t.length?null:s().createElement(s().Fragment,null,t.map(e=>s().createElement(e.Component,{model:e,key:e.state.key})))};const vd=(0,Pn.css)({display:"flex"});function bd(e){return"function"==typeof e}function yd(e){return function(t){if(function(e){return bd(null==e?void 0:e.lift)}(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}var wd=function(e,t){return wd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},wd(e,t)};function Sd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}wd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var xd=function(){return xd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},xd.apply(this,arguments)};function Ed(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function Cd(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ad(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}function Od(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function Rd(e){return this instanceof Rd?(this.v=e,this):new Rd(e)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Id,Dd=((Id=function(e){var t;t=this,Error.call(t),t.stack=(new Error).stack,this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),Id.prototype.constructor=Id,Id);function Pd(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var _d=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,a;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var i=Cd(o),s=i.next();!s.done;s=i.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(bd(l))try{l()}catch(e){a=e instanceof Dd?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var c=Cd(u),d=c.next();!d.done;d=c.next()){var p=d.value;try{kd(p)}catch(e){a=null!=a?a:[],e instanceof Dd?a=Od(Od([],Ad(a)),Ad(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}if(a)throw new Dd(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)kd(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Pd(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Pd(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function Td(e){return e instanceof _d||e&&"closed"in e&&bd(e.remove)&&bd(e.add)&&bd(e.unsubscribe)}function kd(e){bd(e)?e():e.unsubscribe()}_d.EMPTY;var Md=null,Bd=null,Ld=void 0,Nd=!1,Vd=!1,Fd={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=Fd.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,Od([e,t],Ad(n))):setTimeout.apply(void 0,Od([e,t],Ad(n)))},clearTimeout:function(e){var t=Fd.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function jd(e){Fd.setTimeout(function(){if(!Md)throw e;Md(e)})}function $d(){}var zd=Hd("C",void 0,void 0);function Hd(e,t,n){return{kind:e,value:t,error:n}}var Ud=null,Gd=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Td(t)&&t.add(n)):n.destination=Zd,n}return Sd(t,e),t.create=function(e,t,n){return new Yd(e,t,n)},t.prototype.next=function(e){this.isStopped?Kd(function(e){return Hd("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Kd(Hd("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Kd(zd,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(_d),Wd=Function.prototype.bind;function qd(e,t){return Wd.call(e,t)}var Qd=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Xd(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Xd(e)}else Xd(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Xd(e)}},e}(),Yd=function(e){function t(t,n,r){var a,o,i=e.call(this)||this;return bd(t)||!t?a={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:i&&Vd?((o=Object.create(t)).unsubscribe=function(){return i.unsubscribe()},a={next:t.next&&qd(t.next,o),error:t.error&&qd(t.error,o),complete:t.complete&&qd(t.complete,o)}):a=t,i.destination=new Qd(a),i}return Sd(t,e),t}(Gd);function Xd(e){var t;Nd?(t=e,Nd&&Ud&&(Ud.errorThrown=!0,Ud.error=t)):jd(e)}function Kd(e,t){var n=Bd;n&&Fd.setTimeout(function(){return n(e,t)})}var Zd={closed:!0,next:$d,error:function(e){throw e},complete:$d};function Jd(e,t,n,r,a){return new ep(e,t,n,r,a)}var ep=function(e){function t(t,n,r,a,o,i){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=i,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return Sd(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Gd);function tp(e,t){return yd(function(n,r){var a=0;n.subscribe(Jd(r,function(n){r.next(e.call(t,n,a++))}))})}var np="function"==typeof Symbol&&Symbol.observable||"@@observable";function rp(e){return e}var ap=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,a=this,o=(r=e)&&r instanceof Gd||function(e){return e&&bd(e.next)&&bd(e.error)&&bd(e.complete)}(r)&&Td(r)?e:new Yd(e,t,n);return function(e){if(Nd){var t=!Ud;if(t&&(Ud={errorThrown:!1,error:null}),e(),t){var n=Ud,r=n.errorThrown,a=n.error;if(Ud=null,r)throw a}}else e()}(function(){var e=a,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?a._subscribe(o):a._trySubscribe(o))}),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=op(t))(function(t,r){var a=new Yd({next:function(t){try{e(t)}catch(e){r(e),a.unsubscribe()}},error:r,complete:t});n.subscribe(a)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[np]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(n=e).length?rp:1===n.length?n[0]:function(e){return n.reduce(function(e,t){return t(e)},e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=op(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function op(e){var t;return null!==(t=null!=e?e:Ld)&&void 0!==t?t:Promise}var ip="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function sp(e){if(e instanceof ap)return e;if(null!=e){if(function(e){return bd(e[np])}(e))return i=e,new ap(function(e){var t=i[np]();if(bd(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if((o=e)&&"number"==typeof o.length&&"function"!=typeof o)return a=e,new ap(function(e){for(var t=0;t<a.length&&!e.closed;t++)e.next(a[t]);e.complete()});if(bd(null==(r=e)?void 0:r.then))return n=e,new ap(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,jd)});if(function(e){return Symbol.asyncIterator&&bd(null==e?void 0:e[Symbol.asyncIterator])}(e))return lp(e);if(function(e){return bd(null==e?void 0:e[ip])}(e))return t=e,new ap(function(e){var n,r;try{for(var a=Cd(t),o=a.next();!o.done;o=a.next()){var i=o.value;if(e.next(i),e.closed)return}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}e.complete()});if(function(e){return bd(null==e?void 0:e.getReader)}(e))return lp(function(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function i(e,t){a[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=a[e](t)).value instanceof Rd?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(e){c(o[0][3],e)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}(this,arguments,function(){var t,n,r;return Ed(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Rd(t.read())];case 3:return n=a.sent(),r=n.value,n.done?[4,Rd(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Rd(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}(e))}var t,n,r,a,o,i;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function lp(e){return new ap(function(t){(function(e,t){var n,r,a,o,i,s,l,u;return i=this,s=void 0,u=function(){var i,s;return Ed(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Cd(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,a){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,a,(t=e[n](t)).done,t.value)})}}}(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(i=r.value,t.next(i),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),a={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})},new((l=void 0)||(l=Promise))(function(e,t){function n(e){try{a(u.next(e))}catch(e){t(e)}}function r(e){try{a(u.throw(e))}catch(e){t(e)}}function a(t){var a;t.done?e(t.value):(a=t.value,a instanceof l?a:new l(function(e){e(a)})).then(n,r)}a((u=u.apply(i,s||[])).next())})})(e,t).catch(function(e){return t.error(e)})})}function up(e,t,n){return void 0===n&&(n=1/0),bd(t)?up(function(n,r){return tp(function(e,a){return t(n,e,r,a)})(sp(e(n,r)))},n):("number"==typeof t&&(n=t),yd(function(t,r){return function(e,t,n,r){var a=[],o=0,i=0,s=!1,l=function(){!s||a.length||o||t.complete()},u=function(e){return o<r?c(e):a.push(e)},c=function(e){o++;var s=!1;sp(n(e,i++)).subscribe(Jd(t,function(e){t.next(e)},function(){s=!0},void 0,function(){if(s)try{o--;for(var e=function(){var e=a.shift();c(e)};a.length&&o<r;)e();l()}catch(e){t.error(e)}}))};return e.subscribe(Jd(t,u,function(){s=!0,l()})),function(){}}(t,r,e,n)}))}var cp=Object.defineProperty,dp=Object.defineProperties,pp=Object.getOwnPropertyDescriptors,fp=Object.getOwnPropertySymbols,hp=Object.prototype.hasOwnProperty,gp=Object.prototype.propertyIsEnumerable,mp=(e,t,n)=>t in e?cp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const vp={prepareAnnotation:e=>{if((0,fe.isString)(null==e?void 0:e.query)){const n=e,{query:r}=n;return t=((e,t)=>{for(var n in t||(t={}))hp.call(t,n)&&mp(e,n,t[n]);if(fp)for(var n of fp(t))gp.call(t,n)&&mp(e,n,t[n]);return e})({},((e,t)=>{var n={};for(var r in e)hp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&fp)for(var r of fp(e))t.indexOf(r)<0&&gp.call(e,r)&&(n[r]=e[r]);return n})(n,["query"])),dp(t,pp({target:{refId:"annotation_query",query:r},mappings:{}}))}var t;return e},prepareQuery:e=>e.target,processEvents:(e,t)=>function(e,t){return(0,O.of)(e).pipe(e=>e.pipe(up(e=>{if(!(null==e?void 0:e.length))return(0,O.of)(void 0);if(1===e.length)return(0,O.of)(e[0]);return(0,O.of)(e).pipe(u.standardTransformers.mergeTransformer.operator({},{interpolate:e=>e}),tp(e=>e[0]))})),tp(e=>{if(!(null==e?void 0:e.length))return[];let n=!1,r=!1;const a={};for(const t of e.fields)a[(0,u.getFieldDisplayName)(t,e).toLowerCase()]=t;t||(t={});const o=[];for(const i of yp){const s=t[i.key]||{};if(s.source===u.AnnotationEventFieldSource.Skip)continue;const l={key:i.key,split:i.split};if(s.source===u.AnnotationEventFieldSource.Text)l.text=s.value;else{const t=(s.value||i.key).toLowerCase();l.field=a[t],!l.field&&i.field&&(l.field=i.field(e))}(l.field||l.text)&&(o.push(l),"time"===l.key?n=!0:"text"===l.key&&(r=!0))}if(!n||!r)return console.error("Cannot process annotation fields. No time or text present."),[];const i=[];for(let t=0;t<e.length;t++){const e={type:"default",color:"red"};for(const n of o){let r;if(n.text)r=n.text;else if(n.field&&(r=n.field.values.get(t),void 0!==r&&n.regex)){const e=n.regex.exec(r);e&&(r=e[1]?e[1]:e[0])}null!=r&&(n.split&&"string"==typeof r&&(r=r.split(",")),e[n.key]=r)}i.push(e)}return i}))}(t,e.mappings)},bp=[{key:"time",field:e=>e.fields.find(e=>e.type===u.FieldType.time),placeholder:"time, or the first time field"},{key:"timeEnd",help:"When this field is defined, the annotation will be treated as a range"},{key:"title"},{key:"text",field:e=>e.fields.find(e=>e.type===u.FieldType.string),placeholder:"text, or the first text field"},{key:"tags",split:",",help:"The results will be split on comma (,)"},{key:"id"}],yp=[...c.config.publicDashboardAccessToken?[{key:"color"},{key:"isRegion"},{key:"source"}]:[],...bp,{key:"userId"},{key:"login"},{key:"email"},{key:"prevState"},{key:"newState"},{key:"data"},{key:"panelId"},{key:"alertId"},{key:"dashboardId"},{key:"dashboardUID"}],wp=["prometheus","loki","elasticsearch","grafana-opensearch-datasource"];var Sp=Object.defineProperty,xp=Object.defineProperties,Ep=Object.getOwnPropertyDescriptors,Cp=Object.getOwnPropertySymbols,Ap=Object.prototype.hasOwnProperty,Op=Object.prototype.propertyIsEnumerable,Rp=(e,t,n)=>t in e?Sp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ip=(e,t)=>{for(var n in t||(t={}))Ap.call(t,n)&&Rp(e,n,t[n]);if(Cp)for(var n of Cp(t))Op.call(t,n)&&Rp(e,n,t[n]);return e},Dp=(e,t)=>xp(e,Ep(t));let Pp=100;var _p=Object.defineProperty,Tp=Object.getOwnPropertySymbols,kp=Object.prototype.hasOwnProperty,Mp=Object.prototype.propertyIsEnumerable,Bp=(e,t,n)=>t in e?_p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Lp(e){return"panel-alert"===e.eventType}var Np=Object.defineProperty,Vp=Object.defineProperties,Fp=Object.getOwnPropertyDescriptors,jp=Object.getOwnPropertySymbols,$p=Object.prototype.hasOwnProperty,zp=Object.prototype.propertyIsEnumerable,Hp=(e,t,n)=>t in e?Np(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Up=(e,t)=>{for(var n in t||(t={}))$p.call(t,n)&&Hp(e,n,t[n]);if(jp)for(var n of jp(t))zp.call(t,n)&&Hp(e,n,t[n]);return e},Gp=(e,t)=>Vp(e,Fp(t));class Wp extends hd{constructor(e){super(Up({isEnabled:!0},e),["query"]),this._scopedVars={__sceneObject:Zn(this)}}onEnable(){this.publishEvent(new c.RefreshEvent,!0);const e=ju.getTimeRange(this);this._timeRangeSub=e.subscribeToState(()=>{this.runWithTimeRange(e)})}onDisable(){var e;this.publishEvent(new c.RefreshEvent,!0),null==(e=this._timeRangeSub)||e.unsubscribe()}runLayer(){ge("AnnotationsDataLayer","run layer");const e=ju.getTimeRange(this);this.runWithTimeRange(e)}async runWithTimeRange(e){const{query:t}=this.state;if(this.querySub&&this.querySub.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())ge("AnnotationsDataLayer","Variable dependency is in loading state, skipping query execution");else try{let n=function(e,t,n,r){var a;if(e.annotationQuery&&function(e){const{type:t}=e;return!e.annotations||wp.includes(t)}(e))return console.warn("Using deprecated annotationQuery method, please upgrade your datasource"),(0,O.from)(e.annotationQuery({range:t.state.value,rangeRaw:t.state.value.raw,annotation:n,dashboard:{getVariables:(0,c.getTemplateSrv)().getVariables}})).pipe(tp(e=>({state:ze.Done,events:e})));const o=Ip(Ip({},vp),e.annotations),i=Ip(Ip({},null==(a=o.getDefaultQuery)?void 0:a.call(o)),n),s=o.prepareAnnotation(i);if(!s)return(0,O.of)({state:ze.Done,events:[]});const l=o.prepareQuery(s);if(!l)return(0,O.of)({state:ze.Done,events:[]});const d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,p=u.rangeUtil.calculateInterval(t.state.value,d,e.interval),f={__interval:{text:p.interval,value:p.interval},__interval_ms:{text:p.intervalMs.toString(),value:p.intervalMs},__annotation:{text:s.name,value:s},__sceneObject:Zn(r)},h=Ip(Dp(Ip({startTime:Date.now(),requestId:"AQ"+Pp++,range:t.state.value,maxDataPoints:d,scopedVars:f},p),{app:u.CoreApp.Dashboard,timezone:t.getTimeZone(),targets:[Dp(Ip({},l),{refId:"Anno"})]}),Cn(r));return(0,c.getRunRequest)()(e,h).pipe(up(e=>{const t=(null==e?void 0:e.series.length)?e.series:e.annotations;return(null==t?void 0:t.length)?(t.forEach(e=>{var t;(null==(t=e.meta)?void 0:t.dataTopic)||(e.meta=Dp(Ip({},e.meta||{}),{dataTopic:u.DataTopic.Annotations}))}),o.processEvents(s,t).pipe(tp(t=>({state:e.state,events:t||[]})))):(0,O.of)({state:e.state,events:[]})}))}(await this.resolveDataSource(t),e,t,this).pipe(en({type:"annotations",origin:this,cancel:()=>this.cancelQuery()}),(0,O.map)(e=>this.processEvents(t,e)));this.querySub=n.subscribe(e=>{this.publishResults(e)})}catch(e){this.publishResults(Gp(Up({},Ye),{state:ze.Error,errors:[{message:ld(e)}]})),console.error("AnnotationsDataLayer error",e)}}async resolveDataSource(e){return await nn(e.datasource||void 0,this._scopedVars)}processEvents(e,t){let n=(r=e,a=t.events||[],r.snapshotData&&delete(r=(0,fe.cloneDeep)(r)).snapshotData,a.map(e=>{var t;const n=((e,t)=>{for(var n in t||(t={}))kp.call(t,n)&&Bp(e,n,t[n]);if(Tp)for(var n of Tp(t))Mp.call(t,n)&&Bp(e,n,t[n]);return e})({},e);switch(n.source=r,n.color=c.config.theme2.visualization.getColorByName(r.iconColor),n.type=r.name,n.isRegion=Boolean(n.timeEnd&&n.time!==n.timeEnd),null==(t=n.newState)?void 0:t.toLowerCase()){case"pending":n.color="yellow";break;case"alerting":n.color="red";break;case"ok":case"normal":n.color="green";break;case"no_data":case"nodata":n.color="gray"}return n}));var r,a;n=function(e){let t=[];const n=(0,fe.partition)(e,"id"),r=(0,fe.groupBy)(n[0],"id");return t=(0,fe.map)(r,e=>e.length>1&&!(0,fe.every)(e,Lp)?(0,fe.find)(e,e=>"panel-alert"!==e.eventType):(0,fe.head)(e)),t=(0,fe.concat)(t,n[1]),t}(n);const o=Gp(Up({},Ye),{state:t.state}),i=(0,u.arrayToDataFrame)(n);return i.meta=Gp(Up({},i.meta),{dataTopic:u.DataTopic.Annotations}),o.series=[i],o}}Wp.Component=function({model:e}){const{isHidden:t}=e.useState();return t?null:s().createElement(md,{layer:e})};class qp extends J{constructor(e){super(e),this._activationHandler=()=>{const e=this.getAncestorTimeRange();this.ancestorTimeRangeChanged(e.state),this._subs.add(e.subscribeToState(e=>this.ancestorTimeRangeChanged(e)))},this.addActivationHandler(this._activationHandler)}getAncestorTimeRange(){if(!this.parent||!this.parent.parent)throw new Error(typeof this+" must be used within $timeRange scope");return ju.getTimeRange(this.parent.parent)}getTimeZone(){return this.getAncestorTimeRange().getTimeZone()}onTimeRangeChange(e){this.getAncestorTimeRange().onTimeRangeChange(e)}onTimeZoneChange(e){this.getAncestorTimeRange().onTimeZoneChange(e)}onRefresh(){this.getAncestorTimeRange().onRefresh()}}var Qp=Object.defineProperty,Yp=Object.defineProperties,Xp=Object.getOwnPropertyDescriptors,Kp=Object.getOwnPropertySymbols,Zp=Object.prototype.hasOwnProperty,Jp=Object.prototype.propertyIsEnumerable,ef=(e,t,n)=>t in e?Qp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tf=(e,t)=>{for(var n in t||(t={}))Zp.call(t,n)&&ef(e,n,t[n]);if(Kp)for(var n of Kp(t))Jp.call(t,n)&&ef(e,n,t[n]);return e},nf=(e,t)=>Yp(e,Xp(t));class rf extends qp{constructor(e){super(nf(tf({},e),{timeZone:e.timeZone,from:"now-6h",to:"now",value:(0,u.getDefaultTimeRange)()}))}ancestorTimeRangeChanged(e){this.setState(nf(tf({},e),{timeZone:this.state.timeZone,value:Je(e.from,e.to,this.state.timeZone,e.fiscalYearStartMonth,e.UNSAFE_nowDelay,e.weekStart)}))}getTimeZone(){return this.state.timeZone}onTimeZoneChange(e){const t=this.getAncestorTimeRange();this.setState({timeZone:e,value:Je(t.state.from,t.state.to,e,t.state.fiscalYearStartMonth,t.state.UNSAFE_nowDelay,t.state.weekStart)})}}class af extends J{constructor(e){super({source:e.source,data:e.source.resolve().state.data}),this.addActivationHandler(()=>{this._subs.add(this.state.source.resolve().subscribeToState((e,t)=>{e.data!==t.data&&this.setState({data:e.data})}))})}setContainerWidth(e){var t,n;null==(n=(t=this.state.source.resolve()).setContainerWidth)||n.call(t,e)}isDataReadyToDisplay(){var e,t,n;return null==(n=null==(t=(e=this.state.source.resolve()).isDataReadyToDisplay)?void 0:t.call(e))||n}cancelQuery(){var e,t;null==(t=(e=this.state.source.resolve()).cancelQuery)||t.call(e)}getResultsStream(){return this.state.source.resolve().getResultsStream()}}var of=Object.defineProperty,sf=Object.defineProperties,lf=Object.getOwnPropertyDescriptors,uf=Object.getOwnPropertySymbols,cf=Object.prototype.hasOwnProperty,df=Object.prototype.propertyIsEnumerable,pf=(e,t,n)=>t in e?of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class ff extends J{constructor(){super(...arguments),this.isDataLayer=!0,this._results=new O.ReplaySubject(1),this._dataLayersMerger=new sl}subscribeToAllLayers(e){e.length>0?this.querySub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayerUpdateReceived.bind(this)):(this._results.next({origin:this,data:Ye}),this.setStateHelper({data:Ye}))}_onLayerUpdateReceived(e){var t;let n=[];for(const r of e)(null==(t=r.data)?void 0:t.series)&&(n=n.concat(r.data.series));const r=(a=((e,t)=>{for(var n in t||(t={}))cf.call(t,n)&&pf(e,n,t[n]);if(uf)for(var n of uf(t))df.call(t,n)&&pf(e,n,t[n]);return e})({},Ye),sf(a,lf({series:n})));var a;this._results.next({origin:this,data:r}),this.setStateHelper({data:r})}getResultsStream(){return this._results}cancelQuery(){var e;null==(e=this.querySub)||e.unsubscribe()}setStateHelper(e){kt(this,e)}}class hf extends ff{constructor(e){var t,n;super({name:null!=(t=e.name)?t:"Data layers",layers:null!=(n=e.layers)?n:[]}),this.addActivationHandler(()=>this._onActivate())}_onActivate(){return this._subs.add(this.subscribeToState((e,t)=>{var n;e.layers!==t.layers&&(null==(n=this.querySub)||n.unsubscribe(),this.subscribeToAllLayers(e.layers))})),this.subscribeToAllLayers(this.state.layers),()=>{var e;null==(e=this.querySub)||e.unsubscribe()}}}hf.Component=({model:e})=>{const{layers:t}=e.useState();return s().createElement(s().Fragment,null,t.map(e=>s().createElement(e.Component,{model:e,key:e.state.key})))};var gf=Object.defineProperty,mf=Object.defineProperties,vf=Object.getOwnPropertyDescriptors,bf=Object.getOwnPropertySymbols,yf=Object.prototype.hasOwnProperty,wf=Object.prototype.propertyIsEnumerable,Sf=(e,t,n)=>t in e?gf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xf=(e,t)=>{for(var n in t||(t={}))yf.call(t,n)&&Sf(e,n,t[n]);if(bf)for(var n of bf(t))wf.call(t,n)&&Sf(e,n,t[n]);return e},Ef=(e,t)=>mf(e,vf(t));class Cf extends J{constructor(e){super(e),this._results=new O.ReplaySubject(1),this._variableDependency=new iu(this,{statePaths:["transformations"],onReferencedVariableValueChanged:()=>this.reprocessTransformations()}),this.addActivationHandler(()=>this.activationHandler())}activationHandler(){const e=this.getSourceData();return this._subs.add(e.subscribeToState(e=>this.transform(e.data))),e.state.data&&this.transform(e.state.data),()=>{this._transformSub&&this._transformSub.unsubscribe()}}getSourceData(){if(this.state.$data){if(this.state.$data instanceof hf)throw new Error("SceneDataLayerSet can not be used as data provider for SceneDataTransformer.");return this.state.$data}if(!this.parent||!this.parent.parent)throw new Error("SceneDataTransformer must either have $data set on it or have a parent.parent with $data");return ju.getData(this.parent.parent)}setContainerWidth(e){this.state.$data&&this.state.$data.setContainerWidth&&this.state.$data.setContainerWidth(e)}isDataReadyToDisplay(){const e=this.getSourceData();return!e.isDataReadyToDisplay||e.isDataReadyToDisplay()}reprocessTransformations(){this.transform(this.getSourceData().state.data,!0)}cancelQuery(){var e,t;null==(t=(e=this.getSourceData()).cancelQuery)||t.call(e)}getResultsStream(){return this._results}clone(e){const t=super.clone(e);return this._prevDataFromSource&&(t._prevDataFromSource=this._prevDataFromSource),t}haveAlreadyTransformedData(e){if(!this._prevDataFromSource)return!1;if(e===this._prevDataFromSource)return!0;const{series:t,annotations:n}=this._prevDataFromSource;return e.series===t&&e.annotations===n&&(this.state.data&&e.state!==this.state.data.state&&this.setState({data:Ef(xf({},this.state.data),{state:e.state})}),!0)}transform(e,t=!1){var n;if(0===this.state.transformations.length||!e)return this._prevDataFromSource=e,this.setState({data:e}),void(e&&this._results.next({origin:this,data:e}));if(!t&&this.haveAlreadyTransformedData(e))return;const r=this.state.transformations.filter(e=>!("options"in e)&&!("topic"in e)||null==e.topic||e.topic===u.DataTopic.Series).map(e=>"operator"in e?e.operator:e),a=this.state.transformations.filter(e=>("options"in e||"topic"in e)&&e.topic===u.DataTopic.Annotations).map(e=>"operator"in e?e.operator:e);this._transformSub&&this._transformSub.unsubscribe();const o={interpolate:t=>{var n;return ju.interpolate(this,t,null==(n=e.request)?void 0:n.scopedVars)}};let i=[(0,u.transformDataFrame)(r,e.series,o)];e.annotations&&e.annotations.length>0&&a.length>0&&i.push((0,u.transformDataFrame)(a,null!=(n=e.annotations)?n:[])),this._transformSub=(0,O.forkJoin)(i).pipe((0,O.map)(t=>{const n=t[0],r=t[1];return Ef(xf({},e),{series:n,annotations:null!=r?r:e.annotations})}),(0,O.catchError)(t=>{var n;console.error("Error transforming data: ",t);const r=(null==(n=this.getSourceData().state.data)?void 0:n.errors)||[],a=(0,c.toDataQueryError)(t);a.message=`Error transforming data: ${a.message}`;const o=Ef(xf({},e),{state:u.LoadingState.Error,errors:[...r,a]});return(0,O.of)(o)})).subscribe(t=>{this.setState({data:t}),this._results.next({origin:this,data:t}),this._prevDataFromSource=e})}}class Af extends J{}function Of({variable:e,layout:t,showAlways:n,hideLabel:r}){return ee(e,{shouldActivateOrKeepAlive:!0}).hide!==u.VariableHide.hideVariable||n?"vertical"===t?s().createElement("div",{className:Df,"data-testid":Dn.Tp.pages.Dashboard.SubMenu.submenuItem},s().createElement(Rf,{variable:e,layout:t,hideLabel:r}),s().createElement(e.Component,{model:e})):s().createElement("div",{className:If,"data-testid":Dn.Tp.pages.Dashboard.SubMenu.submenuItem},s().createElement(Rf,{variable:e,hideLabel:r}),s().createElement(e.Component,{model:e})):null}function Rf({variable:e,layout:t,hideLabel:n}){var r;const{state:a}=e;if(e.state.hide===u.VariableHide.hideLabel||n)return null;const o=`var-${a.key}`,i=a.label||a.name;return s().createElement(dr,{htmlFor:o,isLoading:a.loading,onCancel:()=>{var t;return null==(t=e.onCancel)?void 0:t.call(e)},label:i,error:a.error,layout:t,description:null!=(r=a.description)?r:void 0})}Af.Component=function({model:e}){const t=ju.getVariables(e).useState();return s().createElement(s().Fragment,null,t.variables.map(t=>s().createElement(Of,{key:t.state.key,variable:t,layout:e.state.layout})))};const If=(0,Pn.css)({display:"flex","> :nth-child(2)":(0,Pn.css)({borderTopLeftRadius:0,borderBottomLeftRadius:0})}),Df=(0,Pn.css)({display:"flex",flexDirection:"column"});class Pf extends J{}Pf.Component=function({model:e}){const t=ju.lookupVariable(e.state.variableName,e);return t?s().createElement(Of,{key:t.state.key,variable:t,layout:e.state.layout,showAlways:!0}):null};class _f extends J{constructor(e){super(e),this._variablesThatHaveChanged=new Set,this._variablesToUpdate=new Set,this._updating=new Map,this._variableValueRecorder=new rn,this._variableDependency=new kf(this._handleParentVariableUpdatesCompleted.bind(this)),this._onActivate=()=>{const e=ju.getTimeRange(this);this._subs.add(this.subscribeToEvent(pt,e=>this._handleVariableValueChanged(e.payload))),this._subs.add(e.subscribeToState(()=>{this._refreshTimeRangeBasedVariables()})),this._subs.add(this.subscribeToState(this._onStateChanged)),this._checkForVariablesThatChangedWhileInactive();for(const e of this.state.variables)this._variableNeedsUpdate(e)&&this._variablesToUpdate.add(e);return this._updateNextBatch(),this._onDeactivate},this._onDeactivate=()=>{var e;for(const t of this._updating.values())null==(e=t.subscription)||e.unsubscribe();for(const e of this.state.variables)this._variablesToUpdate.has(e)||this._updating.has(e)||this._variableValueRecorder.recordCurrentValue(e);this._variablesToUpdate.clear(),this._updating.clear()},this._onStateChanged=(e,t)=>{const n=this._variablesToUpdate.size;for(const n of t.variables)if(!e.variables.includes(n)){const e=this._updating.get(n);(null==e?void 0:e.subscription)&&e.subscription.unsubscribe(),this._updating.delete(n),this._variablesToUpdate.delete(n)}for(const n of e.variables)t.variables.includes(n)||this._variableNeedsUpdate(n)&&this._variablesToUpdate.add(n);0===n&&this._variablesToUpdate.size>0&&this._updateNextBatch()},this.addActivationHandler(this._onActivate)}getByName(e){return this.state.variables.find(t=>t.state.name===e)}_refreshTimeRangeBasedVariables(){for(const e of this.state.variables)"refresh"in e.state&&e.state.refresh===u.VariableRefresh.onTimeRangeChanged&&this._variablesToUpdate.add(e);this._updateNextBatch()}_checkForVariablesThatChangedWhileInactive(){if(this._variableValueRecorder.hasValues())for(const e of this.state.variables)this._variableValueRecorder.hasValueChanged(e)&&(Tf(e,"Changed while in-active"),this._addDependentVariablesToUpdateQueue(e))}_variableNeedsUpdate(e){return!(e.isLazy||!e.validateAndUpdate||this._variableValueRecorder.hasRecordedValue(e)&&(Tf(e,"Skipping updateAndValidate current value valid"),1))}_updateNextBatch(){for(const e of this._variablesToUpdate){if(!e.validateAndUpdate)throw new Error("Variable added to variablesToUpdate but does not have validateAndUpdate");if(this._updating.has(e))continue;if(ju.hasVariableDependencyInLoadingState(e))continue;const t={variable:e};this._updating.set(e,t),Tf(e,"updateAndValidate started"),t.subscription=e.validateAndUpdate().subscribe({next:()=>this._validateAndUpdateCompleted(e),complete:()=>this._validateAndUpdateCompleted(e),error:t=>this._handleVariableError(e,t)})}}_validateAndUpdateCompleted(e){var t;if(!this._updating.has(e))return;const n=this._updating.get(e);null==(t=null==n?void 0:n.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),Tf(e,"updateAndValidate completed"),this._notifyDependentSceneObjects(e),this._updateNextBatch()}cancel(e){var t;const n=this._updating.get(e);null==(t=null==n?void 0:n.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e)}_handleVariableError(e,t){var n;const r=this._updating.get(e);null==(n=null==r?void 0:r.subscription)||n.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),e.setState({loading:!1,error:t.message}),console.error("SceneVariableSet updateAndValidate error",t),Tf(e,"updateAndValidate error",t),this._notifyDependentSceneObjects(e),this._updateNextBatch()}_handleVariableValueChanged(e){this._variablesThatHaveChanged.add(e),this._addDependentVariablesToUpdateQueue(e),this._updating.has(e)||(this._updateNextBatch(),this._notifyDependentSceneObjects(e))}_handleParentVariableUpdatesCompleted(e,t){t&&this._addDependentVariablesToUpdateQueue(e),this._variablesToUpdate.size>0&&0===this._updating.size&&this._updateNextBatch()}_addDependentVariablesToUpdateQueue(e){for(const t of this.state.variables)t.variableDependency&&t.variableDependency.hasDependencyOn(e.state.name)&&(Tf(t,"Added to update queue, dependant variable value changed"),this._updating.has(t)&&t.onCancel&&t.onCancel(),this._variablesToUpdate.add(t))}_notifyDependentSceneObjects(e){this.parent&&(this._traverseSceneAndNotify(this.parent,e,this._variablesThatHaveChanged.has(e)),this._variablesThatHaveChanged.delete(e))}_traverseSceneAndNotify(e,t,n){if(this!==e&&e.isActive){if(e.state.$variables&&e.state.$variables!==this){const n=e.state.$variables.getByName(t.state.name);if(null==n?void 0:n.isAncestorLoading)t=n;else if(n)return}e.variableDependency&&e.variableDependency.variableUpdateCompleted(t,n),e.forEachChild(e=>this._traverseSceneAndNotify(e,t,n))}}isVariableLoadingOrWaitingToUpdate(e){return!(!e.isAncestorLoading||!e.isAncestorLoading())||!(!this._variablesToUpdate.has(e)&&!this._updating.has(e))||ju.hasVariableDependencyInLoadingState(e)}}function Tf(e,t,n){n?ge("SceneVariableSet",`Variable[${e.state.name}]: ${t}`,n):ge("SceneVariableSet",`Variable[${e.state.name}]: ${t}`)}class kf{constructor(e){this._variableUpdatesCompleted=e,this._emptySet=new Set}getNames(){return this._emptySet}hasDependencyOn(e){return!1}variableUpdateCompleted(e,t){this._variableUpdatesCompleted(e,t)}}var Mf=Object.defineProperty,Bf=Object.getOwnPropertySymbols,Lf=Object.prototype.hasOwnProperty,Nf=Object.prototype.propertyIsEnumerable,Vf=(e,t,n)=>t in e?Mf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Ff extends Bt{constructor(e){super(((e,t)=>{for(var n in t||(t={}))Lf.call(t,n)&&Vf(e,n,t[n]);if(Bf)for(var n of Bf(t))Nf.call(t,n)&&Vf(e,n,t[n]);return e})({type:"custom",query:"",value:"",text:"",options:[],name:""},e)),this._variableDependency=new iu(this,{statePaths:["query"]})}getValueOptions(e){var t;const n=(null!=(t=ju.interpolate(this,this.state.query).match(/(?:\\,|[^,])+/g))?t:[]).map(e=>{var t;e=e.replace(/\\,/g,",");const n=null!=(t=/^(.+)\s:\s(.+)$/g.exec(e))?t:[];if(3===n.length){const[,e,t]=n;return{label:e.trim(),value:t.trim()}}return{label:e.trim(),value:e.trim()}});return n.length||(this.skipNextValidation=!0),(0,O.of)(n)}}Ff.Component=({model:e})=>Wn(e);var jf=Object.defineProperty,$f=Object.getOwnPropertySymbols,zf=Object.prototype.hasOwnProperty,Hf=Object.prototype.propertyIsEnumerable,Uf=(e,t,n)=>t in e?jf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Gf extends Bt{constructor(e){super(((e,t)=>{for(var n in t||(t={}))zf.call(t,n)&&Uf(e,n,t[n]);if($f)for(var n of $f(t))Hf.call(t,n)&&Uf(e,n,t[n]);return e})({type:"datasource",value:"",text:"",options:[],name:"",regex:"",pluginId:""},e)),this._variableDependency=new iu(this,{statePaths:["regex"]})}getValueOptions(e){if(!this.state.pluginId)return(0,O.of)([]);const t=(0,c.getDataSourceSrv)().getList({metrics:!0,variables:!1,pluginId:this.state.pluginId});let n;if(this.state.regex){const e=ju.interpolate(this,this.state.regex,void 0,"regex");n=(0,u.stringToJsRegex)(e)}const r=[];for(let e=0;e<t.length;e++){const a=t[e];Wf(a,n)&&r.push({label:a.name,value:a.uid}),this.state.defaultOptionEnabled&&qf(a,n)&&r.push({label:"default",value:"default"})}return 0===r.length?this.setState({error:"No data sources found"}):this.state.error&&this.setState({error:null}),(0,O.of)(r)}}function Wf(e,t){return!t||t.exec(e.name)}function qf(e,t){return!!e.isDefault&&(!t||t.exec("default"))}function Qf(e,t){const n=["A","B","C","D","E","F","G","H"],r=[];if(t>5)return[];for(const a of n){const n=`${e}${a}`;r.push({name:n,children:Qf(n,t+1)})}return r}function Yf(e,t,n){if(n>=t.length)return e;if("*"===t[n])return e;const r=t[n];let a=[],o=[r];r.startsWith("{")&&(o=r.replace(/\{|\}/g,"").split(","));for(const r of e)for(const e of o)if(-1!==e.indexOf("*")){const o=e.replace("*","");new RegExp(`^${o}.*`,"gi").test(r.name)&&(a=a.concat(Yf([r],t,n+1)))}else r.name===e&&(a=a.concat(Yf(r.children,t,n+1)));return a}function Xf(e){return 0===e.indexOf("value")?[{name:e,children:[]}]:Yf(Qf("",0),e.split("."),0)}Gf.Component=({model:e})=>Wn(e);var Kf=Object.defineProperty,Zf=Object.getOwnPropertySymbols,Jf=Object.prototype.hasOwnProperty,eh=Object.prototype.propertyIsEnumerable,th=(e,t,n)=>t in e?Kf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class nh extends Bt{constructor(e,t=!1){super(((e,t)=>{for(var n in t||(t={}))Jf.call(t,n)&&th(e,n,t[n]);if(Zf)for(var n of Zf(t))eh.call(t,n)&&th(e,n,t[n]);return e})({type:"custom",name:"Test",value:"Value",text:"Text",query:"Query",options:[],refresh:u.VariableRefresh.onDashboardLoad,updateOptions:!0},e)),this.completeUpdate=new O.Subject,this.isGettingValues=!0,this.getValueOptionsCount=0,this.isLazy=!1,this._variableDependency=new iu(this,{statePaths:["query"]}),this.isLazy=t}getValueOptions(e){const{delayMs:t}=this.state;this.getValueOptionsCount+=1;const n=ju.getQueryController(this);return new O.Observable(e=>{const r={type:"variable",origin:this,cancel:()=>e.complete()};if(n&&n.queryStarted(r),this.setState({loading:!0}),this.state.throwError)throw new Error(this.state.throwError);const a=ju.interpolate(this,this.state.query),o=this.getOptions(a),i=this.completeUpdate.subscribe({next:()=>{const t={issuedQuery:a,loading:!1};this.state.updateOptions&&(t.options=o),this.setState(t),e.next(o),e.complete()}});let s;return t?s=window.setTimeout(()=>this.signalUpdateCompleted(),t):0===t&&this.signalUpdateCompleted(),this.isGettingValues=!0,()=>{i.unsubscribe(),window.clearTimeout(s),this.isGettingValues=!1,this.state.loading&&this.setState({loading:!1}),n&&n.queryCompleted(r)}})}cancel(){const e=ue(this,e=>e instanceof _f?e:void 0);null==e||e.cancel(this)}getOptions(e){return this.state.optionsToReturn?this.state.optionsToReturn:Xf(e).map(e=>({label:e.name,value:e.name}))}signalUpdateCompleted(){this.completeUpdate.next(1)}}function rh({model:e}){const{value:t,key:n,loading:r}=e.useState(),a=(0,o.useCallback)(t=>{e.setValue(t.currentTarget.value)},[e]),i=(0,o.useCallback)(t=>{"Enter"===t.key&&e.setValue(t.currentTarget.value)},[e]);return s().createElement(In.AutoSizeInput,{id:n,placeholder:"Enter value",minWidth:15,maxWidth:30,value:t,loading:r,onBlur:a,onKeyDown:i})}nh.Component=({model:e})=>Wn(e);var ah=Object.defineProperty,oh=Object.getOwnPropertySymbols,ih=Object.prototype.hasOwnProperty,sh=Object.prototype.propertyIsEnumerable,lh=(e,t,n)=>t in e?ah(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class uh extends J{constructor(e){super(((e,t)=>{for(var n in t||(t={}))ih.call(t,n)&&lh(e,n,t[n]);if(oh)for(var n of oh(t))sh.call(t,n)&&lh(e,n,t[n]);return e})({type:"textbox",value:"",name:""},e)),this._urlSync=new Xe(this,{keys:()=>[this.getKey()]})}getValue(){return this.state.value}setValue(e){e!==this.state.value&&(this.setState({value:e}),this.publishEvent(new pt(this),!0))}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t=e[this.getKey()];"string"==typeof t&&this.setValue(t)}}uh.Component=({model:e})=>s().createElement(rh,{model:e});var ch=Object.defineProperty,dh=Object.defineProperties,ph=Object.getOwnPropertyDescriptors,fh=Object.getOwnPropertySymbols,hh=Object.prototype.hasOwnProperty,gh=Object.prototype.propertyIsEnumerable,mh=(e,t,n)=>t in e?ch(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class vh extends J{constructor(e){var t;super((t=((e,t)=>{for(var n in t||(t={}))hh.call(t,n)&&mh(e,n,t[n]);if(fh)for(var n of fh(t))gh.call(t,n)&&mh(e,n,t[n]);return e})({type:"system",value:"",text:"",name:""},e),dh(t,ph({skipUrlSync:!0}))))}getValue(){return this.state.value}getValueText(){return this.state.text.toString()}isAncestorLoading(){var e,t;const n=null==(t=null==(e=this.parent)?void 0:e.parent)?void 0:t.parent;if(!n)throw new Error("LocalValueVariable requires a parent SceneVariableSet that has an ancestor SceneVariableSet");const r=ju.getVariables(n),a=ju.lookupVariable(this.state.name,n);return!(!r||!a)&&r.isVariableLoadingOrWaitingToUpdate(a)}}var bh=Object.defineProperty,yh=Object.getOwnPropertySymbols,wh=Object.prototype.hasOwnProperty,Sh=Object.prototype.propertyIsEnumerable,xh=(e,t,n)=>t in e?bh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Eh extends J{constructor(e){super(((e,t)=>{for(var n in t||(t={}))wh.call(t,n)&&xh(e,n,t[n]);if(yh)for(var n of yh(t))Sh.call(t,n)&&xh(e,n,t[n]);return e})({type:"interval",value:"",intervals:["1m","10m","30m","1h","6h","12h","1d","7d","14d","30d"],name:"",autoStepCount:30,autoMinInterval:"10s",autoEnabled:!1,refresh:Qu.onTimeRangeChanged},e)),this._onChange=e=>{this.setState({value:e.value}),this.publishEvent(new pt(this),!0)},this._urlSync=new Xe(this,{keys:()=>[this.getKey()]})}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t={},n=e[this.getKey()];"string"==typeof n&&(n.startsWith("$__auto_interval_")?t.value=It:t.value=n),this.setState(t)}getOptionsForSelect(){const{value:e,intervals:t,autoEnabled:n}=this.state;let r=t.map(e=>({value:e,label:e}));return n&&(r=[{value:It,label:"Auto"},...r]),e&&!r.some(t=>t.value===e)&&r.push({value:e,label:e}),r}getValue(){const{value:e,autoStepCount:t,autoMinInterval:n}=this.state;return e===It?this.getAutoRefreshInteval(t,n):e}getAutoRefreshInteval(e,t){const n=ju.getTimeRange(this).state.value;return u.rangeUtil.calculateInterval(n,e,t).interval}validateAndUpdate(){const{value:e,intervals:t}=this.state;let n=!1;if(e===It)n=!0;else if(!e&&t.length>0){const e=t[0];this.setState({value:e}),n=!0}return n&&this.publishEvent(new pt(this),!0),(0,O.of)({})}}Eh.Component=({model:e})=>{const{key:t,value:n}=e.useState();return s().createElement(In.Select,{id:t,placeholder:"Select value",width:"auto",value:n,tabSelectsValue:!1,options:e.getOptionsForSelect(),onChange:e._onChange})};var Ch,Ah,Oh=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Rh=(e,t,n)=>(Oh(e,t,"read from private field"),n?n.call(e):t.get(e)),Ih=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Dh=(e,t,n,r)=>(Oh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class Ph extends u.BusEventWithPayload{}Ph.type="new-scene-object-added";class _h{constructor(e={},t=c.locationService){this._urlKeyMapper=new $u,this._options=e,this._locationService=t,this._paramsCache=new Th(t)}initSync(e){var t;if(this._subs&&(ge("UrlSyncManager","Unregister previous scene state subscription",null==(t=this._sceneRoot)?void 0:t.state.key),this._subs.unsubscribe()),ge("UrlSyncManager","init",e.state.key),this._sceneRoot=e,this._subs=new O.Subscription,this._subs.add(e.subscribeToEvent(z,e=>{this.handleSceneObjectStateChanged(e.payload.changedObject)})),this._subs.add(e.subscribeToEvent(Ph,e=>{this.handleNewObject(e.payload)})),this._urlKeyMapper.clear(),this._lastLocation=this._locationService.getLocation(),this.handleNewObject(this._sceneRoot),this._options.updateUrlOnInit){const t=Hu(e);(function(e,t){for(let n in e)if(!Wu(t.getAll(n),e[n]))return!0;return!1})(t,this._paramsCache.getParams())&&this._locationService.partial(t,!0)}}cleanUp(e){this._sceneRoot===e&&(ge("UrlSyncManager","Clean up"),this._subs&&(this._subs.unsubscribe(),this._subs=void 0,ge("UrlSyncManager","Root deactived, unsub to state","same key",this._sceneRoot.state.key===e.state.key)),this._sceneRoot=void 0,this._lastLocation=void 0)}handleNewLocation(e){this._sceneRoot&&this._lastLocation!==e&&(ge("UrlSyncManager","handleNewLocation"),this._lastLocation=e,Uu(this._sceneRoot,this._paramsCache.getParams(),this._urlKeyMapper))}handleNewObject(e){this._sceneRoot&&Uu(e,this._paramsCache.getParams(),this._urlKeyMapper)}handleSceneObjectStateChanged(e){var t,n;if(!e.urlSync)return;const r=e.urlSync.getUrlState(),a=this._locationService.getSearch(),o={};for(const[t,n]of Object.entries(r)){const r=this._urlKeyMapper.getUniqueKey(t,e);Wu(a.getAll(r),n)||(o[r]=n)}if(Object.keys(o).length>0){const a=!0!==(null==(n=(t=e.urlSync).shouldCreateHistoryStep)?void 0:n.call(t,r));ge("UrlSyncManager","onStateChange updating URL"),this._locationService.partial(o,a),this._lastLocation=this._locationService.getLocation()}}getUrlState(e){return Hu(e)}}class Th{constructor(e){this.locationService=e,Ih(this,Ch,void 0),Ih(this,Ah,void 0)}getParams(){const e=this.locationService.getLocation();return Rh(this,Ah)===e||(Dh(this,Ah,e),Dh(this,Ch,new URLSearchParams(e.search))),Rh(this,Ch)}}function kh(e,t={}){const n=(0,l.useLocation)(),r=Mt(),[a,i]=(0,o.useState)(!1),s=function(e,t){return(0,o.useMemo)(()=>new _h({updateUrlOnInit:e.updateUrlOnInit,createBrowserHistorySteps:e.createBrowserHistorySteps},t),[e.updateUrlOnInit,e.createBrowserHistorySteps,t])}(t,r);return(0,o.useEffect)(()=>(s.initSync(e),i(!0),()=>s.cleanUp(e)),[e,s]),(0,o.useEffect)(()=>{const e=r.getLocation(),t=e!==n?e:n;e!==n&&ge("useUrlSync","latestLocation different from location"),s.handleNewLocation(t)},[e,s,n,r]),a}function Mh({children:e,scene:t,updateUrlOnInit:n,createBrowserHistorySteps:r}){return kh(t,{updateUrlOnInit:n,createBrowserHistorySteps:r})?e:null}Ch=new WeakMap,Ah=new WeakMap;class Bh extends J{constructor(e){super(e),this.addActivationHandler(()=>{const e=function(e){const t=window.__grafanaSceneContext;return ge("setWindowGrafanaScene","set window.__grafanaSceneContext",e),window.__grafanaSceneContext=e,()=>{window.__grafanaSceneContext===e&&(ge("setWindowGrafanaScene","restore window.__grafanaSceneContext",t),window.__grafanaSceneContext=t)}}(this);return()=>{e()}})}}Bh.Component=function({model:e}){const{body:t,controls:n}=e.useState(),r=(0,In.useStyles2)(Lh);return s().createElement("div",{className:r.container},n&&s().createElement("div",{className:r.controls},n.map(e=>s().createElement(e.Component,{key:e.state.key,model:e}))),s().createElement("div",{className:r.body},s().createElement(t.Component,{model:t})))};const Lh=e=>({container:(0,Pn.css)({flexGrow:1,display:"flex",gap:e.spacing(2),minHeight:"100%",flexDirection:"column"}),body:(0,Pn.css)({flexGrow:1,display:"flex",gap:e.spacing(1)}),controls:(0,Pn.css)({display:"flex",gap:e.spacing(2),alignItems:"flex-end",flexWrap:"wrap"})});class Nh extends J{addItem(e){this.setState({items:this.state.items?[...this.state.items,e]:[e]})}setItems(e){this.setState({items:e})}}async function Vh(e,t,n,r){var a,o,i,s;const l=null==(a=e.request)?void 0:a.targets;if(!l)return"";const{from:u,to:d}=n,p=null==(o=e.request)?void 0:o.filters,f={__sceneObject:Zn(t)},h=(await Promise.allSettled(l.map(async e=>{var t;const n=await(0,c.getDataSourceSrv)().get(e.datasource);return(null==(t=n.interpolateVariablesInQueries)?void 0:t.call(n,[e],null!=f?f:{},p)[0])||e}))).filter(e=>"fulfilled"===e.status).map(e=>e.value).map(e=>{var t;return null!=(t=null==r?void 0:r(e))?t:e}),g=null!=h?h:[],m=null==(s=null==(i=g.find(e=>{var t;return!!(null==(t=e.datasource)?void 0:t.uid)}))?void 0:i.datasource)?void 0:s.uid;return(null==g?void 0:g.length)&&m&&u&&d?`/explore?left=${encodeURIComponent(JSON.stringify({datasource:m,queries:g,range:{from:u,to:d}}))}`:""}Nh.Component=function({model:e}){const{items:t=[]}=e.useState(),n=s().useRef(null);(0,o.useEffect)(()=>{n.current&&n.current.focus()},[]);const r=e=>e.map(e=>{switch(e.type){case"divider":return s().createElement(In.Menu.Divider,{key:e.text});case"group":return s().createElement(In.Menu.Group,{key:e.text,label:e.text},e.subMenu?r(e.subMenu):void 0);default:return s().createElement(In.Menu.Item,{key:e.text,label:e.text,icon:e.iconClassName,childItems:e.subMenu?r(e.subMenu):void 0,url:e.href,onClick:e.onClick,shortcut:e.shortcut,testId:Dn.Tp.components.Panels.Panel.menuItems(e.text)})}});return s().createElement(In.Menu,{ref:n},r(t))};class Fh extends J{constructor(e={}){super({options:e})}}Fh.Component=function({model:e}){const{options:t}=e.useState(),{data:n}=ju.getData(e).useState(),{from:r,to:a}=ju.getTimeRange(e).useState(),{value:i}=function(i,s){void 0===s&&(s=[]);var l=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var r,a,i=(0,o.useRef)(0),s=(r=(0,o.useRef)(!1),a=(0,o.useCallback)(function(){return r.current},[]),(0,o.useEffect)(function(){return r.current=!0,function(){r.current=!1}},[]),a),l=(0,o.useState)(n),u=l[0],c=l[1],d=(0,o.useCallback)(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=++i.current;return u.loading||c(function(e){return xd(xd({},e),{loading:!0})}),e.apply(void 0,t).then(function(e){return s()&&r===i.current&&c({value:e,loading:!1}),e},function(e){return s()&&r===i.current&&c({error:e,loading:!1}),e})},t);return[u,d]}(async()=>n?Vh(n,e,{from:r,to:a},t.transform):"",s,{loading:!0}),u=l[0],c=l[1];return(0,o.useEffect)(function(){c()},[c]),u}(0,[n,e,r,a]),l=(0,c.useReturnToPrevious)();return i?s().createElement(In.LinkButton,{key:"explore",icon:"compass",size:"sm",variant:"secondary",href:i,onClick:()=>{var e;t.returnToPrevious&&l(t.returnToPrevious.title,t.returnToPrevious.href),null==(e=t.onClick)||e.call(t)}},"Explore"):null};class jh extends J{}function $h(e){return e instanceof jg}jh.Component=function({model:e}){const{body:t}=e.useState(),n=e.parent;if(n&&!(n instanceof Dg)&&!$h(n))throw new Error("SceneGridItem must be a child of SceneGridLayout or SceneGridRow");return t?s().createElement(t.Component,{model:t}):null};var zh=n(2548),Hh=n.n(zh);var Uh=Object.defineProperty,Gh=Object.getOwnPropertySymbols,Wh=Object.prototype.hasOwnProperty,qh=Object.prototype.propertyIsEnumerable,Qh=(e,t,n)=>t in e?Uh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Yh(){const e=(0,o.useRef)(void 0);return null!=e.current||(e.current=(0,fe.uniqueId)()),e.current}const Xh=s().forwardRef((e,t)=>{var n=e,{children:r,onLoad:a,onChange:i,className:l}=n,u=((e,t)=>{var n={};for(var r in e)Wh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Gh)for(var r of Gh(e))t.indexOf(r)<0&&qh.call(e,r)&&(n[r]=e[r]);return n})(n,["children","onLoad","onChange","className"]);const c=Yh(),{hideEmpty:d}=(0,In.useStyles2)(Kh),[p,f]=(0,o.useState)(!1),[h,g]=(0,o.useState)(!1),m=(0,o.useRef)(null);return(0,o.useImperativeHandle)(t,()=>m.current),v=()=>{Xh.addCallback(c,e=>{!p&&e.isIntersecting&&(f(!0),null==a||a()),g(e.isIntersecting),null==i||i(e.isIntersecting)});const e=m.current;return e&&Xh.observer.observe(e),()=>{e&&Xh.observer.unobserve(e),delete Xh.callbacks[c],0===Object.keys(Xh.callbacks).length&&Xh.observer.disconnect()}},(0,o.useEffect)(v,[]),s().createElement("div",((e,t)=>{for(var n in t||(t={}))Wh.call(t,n)&&Qh(e,n,t[n]);if(Gh)for(var n of Gh(t))qh.call(t,n)&&Qh(e,n,t[n]);return e})({id:c,ref:m,className:`${d} ${l}`},u),!p&&"",p&&("function"==typeof r?r({isInView:h}):r));var v});function Kh(){return{hideEmpty:(0,Pn.css)({"&:empty":{display:"none"}})}}Xh.displayName="LazyLoader",Xh.callbacks={},Xh.addCallback=(e,t)=>Xh.callbacks[e]=t,Xh.observer=new IntersectionObserver(e=>{for(const t of e)"function"==typeof Xh.callbacks[t.target.id]&&Xh.callbacks[t.target.id](t)},{rootMargin:"100px"});var Zh=Object.defineProperty,Jh=Object.defineProperties,eg=Object.getOwnPropertyDescriptors,tg=Object.getOwnPropertySymbols,ng=Object.prototype.hasOwnProperty,rg=Object.prototype.propertyIsEnumerable,ag=(e,t,n)=>t in e?Zh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,og=(e,t)=>{for(var n in t||(t={}))ng.call(t,n)&&ag(e,n,t[n]);if(tg)for(var n of tg(t))rg.call(t,n)&&ag(e,n,t[n]);return e},ig=(e,t)=>Jh(e,eg(t)),sg=(e,t)=>{var n={};for(var r in e)ng.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&tg)for(var r of tg(e))t.indexOf(r)<0&&rg.call(e,r)&&(n[r]=e[r]);return n};const lg=s().forwardRef((e,t)=>{var n;const r=e,{grid:a,layoutItem:o,index:i,totalCount:l,isLazy:u,style:c,onLoad:d,onChange:p,children:f}=r,h=sg(r,["grid","layoutItem","index","totalCount","isLazy","style","onLoad","onChange","children"]),g=a.getSceneLayoutChild(o.i),m=null==(n=g.getClassName)?void 0:n.call(g),v=s().createElement(g.Component,{model:g,key:g.state.key});return u?s().createElement(Xh,ig(og({},h),{key:g.state.key,"data-griditem-key":g.state.key,className:(0,Pn.cx)(m,e.className),style:c,ref:t}),v,f):s().createElement("div",ig(og({},h),{ref:t,key:g.state.key,"data-griditem-key":g.state.key,className:(0,Pn.cx)(m,e.className),style:c}),v,f)});function ug(e,t,n){e.current?t?e.current.classList.add("react-grid-layout--enable-move-animations"):e.current.classList.remove("react-grid-layout--enable-move-animations"):n||setTimeout(()=>ug(e,t,!0),50)}lg.displayName="GridItemWrapper";const cg=s().forwardRef((e,t)=>{var n=sg(e,["handleAxis"]);const r=(0,In.useStyles2)(dg);return s().createElement("div",ig(og({ref:t},n),{className:`${r} scene-resize-handle`}),s().createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M21 15L15 21M21 8L8 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))});function dg(e){return(0,Pn.css)({position:"absolute",bottom:0,right:0,zIndex:999,padding:e.spacing(1.5,0,0,1.5),color:e.colors.border.strong,cursor:"se-resize","&:hover":{color:e.colors.text.link},svg:{display:"block"},".react-resizable-hide &":{display:"none"}})}cg.displayName="ResizeHandle";var pg=Object.defineProperty,fg=Object.defineProperties,hg=Object.getOwnPropertyDescriptors,gg=Object.getOwnPropertySymbols,mg=Object.prototype.hasOwnProperty,vg=Object.prototype.propertyIsEnumerable,bg=(e,t,n)=>t in e?pg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yg=Object.defineProperty,wg=Object.defineProperties,Sg=Object.getOwnPropertyDescriptors,xg=Object.getOwnPropertySymbols,Eg=Object.prototype.hasOwnProperty,Cg=Object.prototype.propertyIsEnumerable,Ag=(e,t,n)=>t in e?yg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Og=(e,t)=>{for(var n in t||(t={}))Eg.call(t,n)&&Ag(e,n,t[n]);if(xg)for(var n of xg(t))Cg.call(t,n)&&Ag(e,n,t[n]);return e},Rg=(e,t)=>wg(e,Sg(t));const Ig=class extends J{constructor(e){super(Rg(Og({},e),{children:_g(e.children)})),this._skipOnLayoutChange=!1,this._oldLayout=[],this._loadOldLayout=!1,this.onLayoutChange=e=>{if(this._skipOnLayoutChange)this._skipOnLayoutChange=!1;else{this._loadOldLayout&&(e=[...this._oldLayout],this._loadOldLayout=!1);for(const t of e){const e=this.getSceneLayoutChild(t.i),n={x:t.x,y:t.y,width:t.w,height:t.h};Pg(e.state,n)||e.setState(Og({},n))}this.setState({children:_g(this.state.children)})}},this.onResizeStop=(e,t,n)=>{this.getSceneLayoutChild(n.i).setState({width:n.w,height:n.h})},this.onDragStart=e=>{this._oldLayout=[...e]},this.onDragStop=(e,t,n)=>{const r=this.getSceneLayoutChild(n.i);e=Tg(e);for(let t=0;t<e.length;t++){const n=e[t],r=this.getSceneLayoutChild(n.i),a=r.state;(null==a?void 0:a.x)===n.x&&(null==a?void 0:a.y)===n.y||r.setState({x:n.x,y:n.y})}const a=e.findIndex(e=>e.i===n.i);let o=this.findGridItemSceneParent(e,a-1),i=this.state.children;r instanceof jg&&o instanceof jg&&(this.isRowDropValid(e,n,a)||(this._loadOldLayout=!0),o=this),o!==r.parent&&(i=this.moveChildTo(r,o)),this.setState({children:_g(i)}),this._skipOnLayoutChange=!0}}isDraggable(){var e;return null!=(e=this.state.isDraggable)&&e}getDragClass(){return`grid-drag-handle-${this.state.key}`}getDragClassCancel(){return"grid-drag-cancel"}toggleRow(e){var t,n;if(!e.state.isCollapsed)return e.setState({isCollapsed:!0}),void this.setState({});const r=e.state.children;if(0===r.length)return e.setState({isCollapsed:!1}),void this.setState({});const a=e.state.y,o=(null!=(t=r[0].state.y)?t:a)-(a+1);let i=a;for(const e of r){const t=Og({},e.state);t.y=null!=(n=t.y)?n:a,t.y-=o,t.y!==e.state.y&&e.setState(t),i=Math.max(i,Number(t.y)+Number(t.height))}const s=i-a-1;for(const t of this.state.children)if(t.state.y>a&&this.pushChildDown(t,s),$h(t)&&t!==e)for(const e of t.state.children)e.state.y>a&&this.pushChildDown(e,s);e.setState({isCollapsed:!1}),this.setState({})}ignoreLayoutChange(e){this._skipOnLayoutChange=e}getSceneLayoutChild(e){for(const t of this.state.children){if(t.state.key===e)return t;if(t instanceof jg)for(const n of t.state.children)if(n.state.key===e)return n}throw new Error("Scene layout child not found for GridItem")}pushChildDown(e,t){e.setState({y:e.state.y+t})}findGridItemSceneParent(e,t){for(let n=t;n>=0;n--){const t=e[n],r=this.getSceneLayoutChild(t.i);if(r instanceof jg)return r.state.isCollapsed?this:r}return this}isRowDropValid(e,t,n){if(e[e.length-1].i===t.i)return!0;const r=this.getSceneLayoutChild(e[n+1].i);return r instanceof jg||r.parent instanceof Ig}moveChildTo(e,t){const n=e.parent;let r=this.state.children;const a=e.clone({key:e.state.key});if(n instanceof jg){const o=n.clone();if(o.setState({children:o.state.children.filter(t=>t.state.key!==e.state.key)}),r=r.map(e=>e===n?o:e),t instanceof jg){const e=t.clone();e.setState({children:[...e.state.children,a]}),r=r.map(n=>n===t?e:n)}else r=[...r,a]}else if(!(t instanceof Ig)){r=r.filter(t=>t.state.key!==e.state.key);const n=t.clone();n.setState({children:[...n.state.children,a]}),r=r.map(e=>e===t?n:e)}return r}toGridCell(e){var t,n;const r=e.state;let a=null!=(t=r.x)?t:0,o=null!=(n=r.y)?n:0;const i=Number.isInteger(Number(r.width))?Number(r.width):4,s=Number.isInteger(Number(r.height))?Number(r.height):4;let l=e.state.isDraggable,u=e.state.isResizable;return e instanceof jg&&(l=!!e.state.isCollapsed,u=!1),{i:e.state.key,x:a,y:o,h:s,w:i,isResizable:u,isDraggable:l}}buildGridLayout(e,t){let n=[];for(const e of this.state.children)if(n.push(this.toGridCell(e)),e instanceof jg&&!e.state.isCollapsed)for(const t of e.state.children)n.push(this.toGridCell(t));return n=Tg(n),this.state.UNSAFE_fitPanels&&(n=function(e,t){const n=t-32,r=Math.max(...e.map(e=>e.h+e.y))/Math.floor(n/38);return e.map(e=>{return t=((e,t)=>{for(var n in t||(t={}))mg.call(t,n)&&bg(e,n,t[n]);if(gg)for(var n of gg(t))vg.call(t,n)&&bg(e,n,t[n]);return e})({},e),n={y:Math.round(e.y/r)||0,h:Math.round(e.h/r)||1},fg(t,hg(n));var t,n})}(n,t)),e<768?(this._skipOnLayoutChange=!0,n.map(e=>Rg(Og({},e),{w:24}))):(this._skipOnLayoutChange=!1,n)}};let Dg=Ig;function Pg(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _g(e){return e.forEach(e=>{e instanceof jg&&e.setState({children:_g(e.state.children)})}),[...e].sort((e,t)=>e.state.y-t.state.y||e.state.x-t.state.x)}function Tg(e){return[...e].sort((e,t)=>e.y-t.y||e.x-t.x)}Dg.Component=function({model:e}){const{children:t,isLazy:n,isDraggable:r,isResizable:a}=e.useState(),[i,{width:l,height:u}]=uc(),c=(0,o.useRef)(null);return(0,o.useEffect)(()=>{ug(c,!!r)},[r]),function(e){if(e.some(e=>void 0===e.state.height||void 0===e.state.width||void 0===e.state.x||void 0===e.state.y))throw new Error("All children must have a size specified")}(t),s().createElement("div",{ref:i,style:{flex:"1 1 auto",position:"relative",zIndex:1,width:"100%"}},((t,o)=>{if(!t||!o)return null;const i=e.buildGridLayout(t,o);return s().createElement("div",{ref:c,style:{width:`${t}px`,height:"100%"},className:"react-grid-layout"},s().createElement(Hh(),{width:t,isDraggable:r&&t>768,isResizable:null!=a&&a,containerPadding:[0,0],useCSSTransforms:!0,margin:[8,8],cols:24,rowHeight:30,draggableHandle:`.grid-drag-handle-${e.state.key}`,draggableCancel:".grid-drag-cancel",layout:i,onDragStart:e.onDragStart,onDragStop:e.onDragStop,onResizeStop:e.onResizeStop,onLayoutChange:e.onLayoutChange,isBounded:!1,resizeHandle:s().createElement(cg,null)},i.map((t,r)=>s().createElement(lg,{key:t.i,grid:e,layoutItem:t,index:r,isLazy:n,totalCount:i.length}))))})(l,u))};var kg=Object.defineProperty,Mg=Object.defineProperties,Bg=Object.getOwnPropertyDescriptors,Lg=Object.getOwnPropertySymbols,Ng=Object.prototype.hasOwnProperty,Vg=Object.prototype.propertyIsEnumerable,Fg=(e,t,n)=>t in e?kg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class jg extends J{constructor(e){var t;super((t=((e,t)=>{for(var n in t||(t={}))Ng.call(t,n)&&Fg(e,n,t[n]);if(Lg)for(var n of Lg(t))Vg.call(t,n)&&Fg(e,n,t[n]);return e})({children:e.children||[],isCollapsible:e.isCollapsible||!0,title:e.title||""},e),Mg(t,Bg({x:0,height:1,width:24})))),this._variableDependency=new iu(this,{statePaths:["title"],handleTimeMacros:!0}),this.onCollapseToggle=()=>{this.state.isCollapsible&&this.getGridLayout().toggleRow(this)}}getGridLayout(){const e=this.parent;if(!(e&&e instanceof Dg))throw new Error("SceneGridRow must be a child of SceneGridLayout");return e}getUrlState(){return{rowc:this.state.isCollapsed?"1":"0"}}updateFromUrl(e){null!=e.rowc&&e.rowc!==this.getUrlState().rowc&&this.onCollapseToggle()}}jg.Component=function({model:e}){const t=(0,In.useStyles2)($g),{isCollapsible:n,isCollapsed:r,title:a,actions:o,children:i}=e.useState(),l=e.getGridLayout(),u=l.getDragClass(),c=l.isDraggable(),d=i?i.length:0,p=1===d?"panel":"panels";return s().createElement("div",{className:(0,Pn.cx)(t.row,r&&t.rowCollapsed)},s().createElement("div",{className:t.rowTitleAndActionsGroup},s().createElement("button",{onClick:e.onCollapseToggle,className:t.rowTitleButton,"aria-label":r?"Expand row":"Collapse row","data-testid":Dn.Tp.components.DashboardRow.title(ju.interpolate(e,a,void 0,"text"))},n&&s().createElement(In.Icon,{name:r?"angle-right":"angle-down"}),s().createElement("span",{className:t.rowTitle,role:"heading"},ju.interpolate(e,a,void 0,"text"))),s().createElement("span",{className:(0,Pn.cx)(t.panelCount,r&&t.panelCountCollapsed)},"(",d," ",p,")"),o&&s().createElement("div",{className:t.rowActions},s().createElement(o.Component,{model:o}))),c&&r&&s().createElement("div",{className:(0,Pn.cx)(t.dragHandle,u)},s().createElement(In.Icon,{name:"draggabledots"})))};const $g=e=>({row:(0,Pn.css)({width:"100%",height:"30px",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowTitleButton:(0,Pn.css)({display:"flex",alignItems:"center",cursor:"pointer",background:"transparent",border:"none",minWidth:0,gap:e.spacing(1)}),rowCollapsed:(0,Pn.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),rowTitle:(0,Pn.css)({fontSize:e.typography.h5.fontSize,fontWeight:e.typography.fontWeightMedium,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",flexGrow:1,minWidth:0}),collapsedInfo:(0,Pn.css)({fontSize:e.typography.bodySmall.fontSize,color:e.colors.text.secondary,display:"flex",alignItems:"center",flexGrow:1}),rowTitleAndActionsGroup:(0,Pn.css)({display:"flex",minWidth:0,"&:hover, &:focus-within":{"& > div":{opacity:1}}}),rowActions:(0,Pn.css)({display:"flex",whiteSpace:"nowrap",opacity:0,transition:"200ms opacity ease-in 200ms","&:hover, &:focus-within":{opacity:1}}),dragHandle:(0,Pn.css)({display:"flex",padding:e.spacing(0,1),alignItems:"center",justifyContent:"flex-end",cursor:"move",color:e.colors.text.secondary,"&:hover":{color:e.colors.text.primary}}),panelCount:(0,Pn.css)({whiteSpace:"nowrap",paddingLeft:e.spacing(2),color:e.colors.text.secondary,fontStyle:"italic",fontSize:e.typography.size.sm,fontWeight:"normal",display:"none",lineHeight:"30px"}),panelCountCollapsed:(0,Pn.css)({display:"inline-block"})});class zg extends J{constructor(){super(...arguments),this.onToggle=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onRemove=()=>{const e=this.parent;"body"in e.state&&e.setState({body:void 0})}}}zg.Component=function({model:e}){const{title:t,isCollapsed:n,canCollapse:r,canRemove:a,body:o,controls:i}=e.useState(),l=(0,In.useStyles2)($g),u=(0,In.useStyles2)(Hg),c=(null!=i?i:[]).map(e=>s().createElement(e.Component,{key:e.state.key,model:e}));return a&&c.push(s().createElement(In.ToolbarButton,{icon:"times",variant:"default",onClick:e.onRemove,key:"remove-button","aria-label":"Remove scene"})),s().createElement("div",{className:u.wrapper},s().createElement("div",{className:(0,Pn.cx)(u.row,n&&u.rowCollapsed)},s().createElement("button",{onClick:e.onToggle,className:l.rowTitleButton,"aria-label":n?"Expand scene":"Collapse scene"},r&&s().createElement(In.Icon,{name:n?"angle-right":"angle-down"}),s().createElement("span",{className:l.rowTitle,role:"heading"},ju.interpolate(e,t,void 0,"text"))),s().createElement("div",{className:u.actions},c)),!n&&s().createElement(o.Component,{model:o}))};const Hg=e=>({wrapper:(0,Pn.css)({display:"flex",flexDirection:"column",flexGrow:1,gap:e.spacing(1)}),row:(0,Pn.css)({width:"100%",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowCollapsed:(0,Pn.css)({borderBottom:`1px solid ${e.colors.border.weak}`,paddingBottom:e.spacing(1)}),actions:(0,Pn.css)({display:"flex",alignItems:"center",gap:e.spacing(1),justifyContent:"flex-end",flexGrow:1})});class Ug extends J{constructor(){super(...arguments),this._variableDependency=new iu(this,{statePaths:["text"]})}}Ug.Component=({model:e})=>{const{text:t,fontSize:n=20,align:r="left",key:a,spacing:o}=e.useState(),i=(0,In.useTheme2)(),l=(0,Pn.css)({fontSize:n,display:"flex",flexGrow:1,alignItems:"center",padding:o?i.spacing(o,0):void 0,justifyContent:r});return s().createElement("div",{className:l,"data-testid":a},ju.interpolate(e,t))};class Gg extends J{}Gg.Component=({model:e})=>{const t=e.useState();return s().createElement(In.ToolbarButton,{onClick:t.onClick,icon:t.icon})};class Wg extends J{}Wg.Component=({model:e})=>{const t=e.useState();return s().createElement("div",{style:{display:"flex"}},t.label&&s().createElement(dr,{label:t.label}),s().createElement(In.Input,{defaultValue:t.value,width:8,onBlur:t=>{e.state.onChange(parseInt(t.currentTarget.value,10))}}))};class qg extends J{constructor(){super(...arguments),this.onZoom=()=>{const e=ju.getTimeRange(this),t=function(e){const t=e.to.valueOf()-e.from.valueOf(),n=e.to.valueOf()-t/2,r=0===t?3e4:2*t,a=n+r/2,o=n-r/2;return{from:(0,u.toUtc)(o),to:(0,u.toUtc)(a),raw:{from:(0,u.toUtc)(o),to:(0,u.toUtc)(a)}}}(e.state.value);e.onTimeRangeChange(t)},this.onChangeFiscalYearStartMonth=e=>{ju.getTimeRange(this).setState({fiscalYearStartMonth:e})},this.toAbsolute=()=>{const e=ju.getTimeRange(this),t=e.state.value,n=(0,u.toUtc)(t.from),r=(0,u.toUtc)(t.to);e.onTimeRangeChange({from:n,to:r,raw:{from:n,to:r}})},this.onMoveBackward=()=>{const e=ju.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(Yg(Qg.Backward,t,Date.now()))},this.onMoveForward=()=>{const e=ju.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(Yg(Qg.Forward,t,Date.now()))}}}qg.Component=function({model:e}){const{hidePicker:t,isOnCanvas:n,quickRanges:r}=e.useState(),a=ju.getTimeRange(e),i=a.getTimeZone(),l=a.useState(),[c,d]=function(e,t,n){if(!ic)return[t,oc,oc];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=n?n.raw?function(e){return e}:n.deserializer:JSON.parse,a=(0,o.useRef)(function(e){try{var a=n?n.raw?String:n.serializer:JSON.stringify,o=localStorage.getItem(e);return null!==o?r(o):(t&&localStorage.setItem(e,a(t)),t)}catch(e){return t}}),i=(0,o.useState)(function(){return a.current(e)}),s=i[0],l=i[1];(0,o.useLayoutEffect)(function(){return l(a.current(e))},[e]);var u=(0,o.useCallback)(function(t){try{var a,o="function"==typeof t?t(s):t;if(void 0===o)return;a=n?n.raw?"string"==typeof o?o:JSON.stringify(o):n.serializer?n.serializer(o):JSON.stringify(o):JSON.stringify(o),localStorage.setItem(e,a),l(r(a))}catch(e){}},[e,l]),c=(0,o.useCallback)(function(){try{localStorage.removeItem(e),l(void 0)}catch(e){}},[e,l]);return[s,u,c]}(Xg,[],{raw:!1,serializer:Zg,deserializer:Kg});return t?null:s().createElement(In.TimeRangePicker,{isOnCanvas:null==n||n,value:l.value,onChange:e=>{var t;t=e,((0,u.isDateTime)(t.raw.from)||(0,u.isDateTime)(t.raw.to))&&d([e,...null!=c?c:[]]),a.onTimeRangeChange(e)},timeZone:i,fiscalYearStartMonth:l.fiscalYearStartMonth,onMoveBackward:e.onMoveBackward,onMoveForward:e.onMoveForward,onZoom:e.onZoom,onChangeTimeZone:a.onTimeZoneChange,onChangeFiscalYearStartMonth:e.onChangeFiscalYearStartMonth,weekStart:l.weekStart,history:c,quickRanges:r})};var Qg=(e=>(e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e))(Qg||{});function Yg(e,t,n){const r=t.to.valueOf(),a=t.from.valueOf(),o=(r-a)/2;let i,s;0===e?(i=a-o,s=r-o):(i=a+o,s=r+o,s>n&&r<n&&(s=n,i=a));const l=(0,u.toUtc)(i),c=(0,u.toUtc)(s);return{from:l,to:c,raw:{from:l,to:c}}}const Xg="grafana.dashboard.timepicker.history";function Kg(e){return JSON.parse(e).map(e=>u.rangeUtil.convertRawToRange(e,"utc",void 0,"YYYY-MM-DD HH:mm:ss"))}function Zg(e){return JSON.stringify((t=e.map(e=>({from:"string"==typeof e.raw.from?e.raw.from:e.raw.from.toISOString(),to:"string"==typeof e.raw.to?e.raw.to:e.raw.to.toISOString()})),(0,fe.uniqBy)(t,e=>e.from+e.to).slice(0,4)));var t}var Jg=Object.defineProperty,em=Object.defineProperties,tm=Object.getOwnPropertyDescriptors,nm=Object.getOwnPropertySymbols,rm=Object.prototype.hasOwnProperty,am=Object.prototype.propertyIsEnumerable,om=(e,t,n)=>t in e?Jg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const im=["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"];class sm extends J{constructor(e){var t,n,r,a,o;super((a=((e,t)=>{for(var n in t||(t={}))rm.call(t,n)&&om(e,n,t[n]);if(nm)for(var n of nm(t))am.call(t,n)&&om(e,n,t[n]);return e})({refresh:""},e),o={autoValue:void 0,autoEnabled:null==(t=e.autoEnabled)||t,autoMinInterval:null!=(n=e.autoMinInterval)?n:c.config.minRefreshInterval,intervals:(null!=(r=e.intervals)?r:im).filter(t=>{var n;const r=null!=(n=e.minRefreshInterval)?n:c.config.minRefreshInterval;try{return!r||u.rangeUtil.intervalToMs(t)>=u.rangeUtil.intervalToMs(r)}catch(e){return!1}})},em(a,tm(o)))),this._urlSync=new Xe(this,{keys:["refresh"]}),this._autoRefreshBlocked=!1,this.onRefresh=()=>{const e=ju.getQueryController(this);if(null==e||e.startProfile(this),null==e?void 0:e.state.isRunning)return void e.cancelAll();const t=ju.getTimeRange(this);this._intervalTimer&&clearInterval(this._intervalTimer),t.onRefresh(),this.setupIntervalTimer()},this.onIntervalChanged=e=>{this.setState({refresh:e}),this.setupIntervalTimer()},this.setupAutoTimeRangeListener=()=>ju.getTimeRange(this).subscribeToState((e,t)=>{e.from===t.from&&e.to===t.to||this.setupIntervalTimer()}),this.calculateAutoRefreshInterval=()=>{var e;const t=ju.getTimeRange(this),n=null!=(e=null==window?void 0:window.innerWidth)?e:2e3;return u.rangeUtil.calculateInterval(t.state.value,n,this.state.autoMinInterval)},this.setupIntervalTimer=()=>{var e;const t=ju.getTimeRange(this),{refresh:n,intervals:r}=this.state;if((this._intervalTimer||""===n)&&clearInterval(this._intervalTimer),""===n)return;if(n!==In.RefreshPicker.autoOption.value&&r&&!r.includes(n))return;let a;if(null==(e=this._autoTimeRangeListener)||e.unsubscribe(),n===In.RefreshPicker.autoOption.value){const e=this.calculateAutoRefreshInterval();a=e.intervalMs,this._autoTimeRangeListener=this.setupAutoTimeRangeListener(),e.interval!==this.state.autoValue&&this.setState({autoValue:e.interval})}else a=u.rangeUtil.intervalToMs(n);this._intervalTimer=setInterval(()=>{if(this.isTabVisible()){const e=ju.getQueryController(this);null==e||e.startProfile(this),t.onRefresh()}else this._autoRefreshBlocked=!0},a)},this.addActivationHandler(()=>{this.setupIntervalTimer();const e=()=>{this._autoRefreshBlocked&&"visible"===document.visibilityState&&(this._autoRefreshBlocked=!1,this.onRefresh())};return document.addEventListener("visibilitychange",e),()=>{var t;this._intervalTimer&&clearInterval(this._intervalTimer),document.removeEventListener("visibilitychange",e),null==(t=this._autoTimeRangeListener)||t.unsubscribe()}})}getUrlState(){let e=this.state.refresh;return"string"==typeof e&&0!==e.length||(e=void 0),{refresh:e}}updateFromUrl(e){const{intervals:t}=this.state;let n=e.refresh;"string"==typeof n&&function(e){try{return u.rangeUtil.describeInterval(e).count>0}catch(e){return!1}}(n)&&((null==t?void 0:t.includes(n))?this.setState({refresh:n}):this.setState({refresh:t?t[0]:void 0}))}isTabVisible(){return void 0===document.visibilityState||"visible"===document.visibilityState}}sm.Component=function({model:e}){var t;const{refresh:n,intervals:r,autoEnabled:a,autoValue:o,isOnCanvas:i,primary:l,withText:u}=e.useState(),c=function(e){const t=ju.getQueryController(e);return!!t&&t.useState().isRunning}(e);let d,p,f=n===(null==(t=In.RefreshPicker.autoOption)?void 0:t.value)?o:u?"Refresh":void 0;return c&&(d="Cancel all queries",u&&(f="Cancel")),u&&(p="96px"),s().createElement(In.RefreshPicker,{showAutoInterval:a,value:n,intervals:r,tooltip:d,width:p,text:f,onRefresh:()=>{e.onRefresh()},primary:l,onIntervalChanged:e.onIntervalChanged,isLoading:c,isOnCanvas:null==i||i})};const lm=e=>`${e}-compare`;var um=Object.defineProperty,cm=Object.defineProperties,dm=Object.getOwnPropertyDescriptors,pm=Object.getOwnPropertySymbols,fm=Object.prototype.hasOwnProperty,hm=Object.prototype.propertyIsEnumerable,gm=(e,t,n)=>t in e?um(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mm=(e,t)=>{for(var n in t||(t={}))fm.call(t,n)&&gm(e,n,t[n]);if(pm)for(var n of pm(t))hm.call(t,n)&&gm(e,n,t[n]);return e},vm=(e,t)=>cm(e,dm(t));const bm="__previousPeriod",ym="__noPeriod",wm={label:"Previous period",value:bm},Sm={label:"No comparison",value:ym},xm=[{label:"Day before",value:"24h"},{label:"Week before",value:"1w"},{label:"Month before",value:"1M"}];class Em extends J{constructor(e){super(mm({compareOptions:xm},e)),this._urlSync=new Xe(this,{keys:["compareWith"]}),this._onActivate=()=>{const e=ju.getTimeRange(this);this.setState({compareOptions:this.getCompareOptions(e.state.value)}),this._subs.add(e.subscribeToState(e=>{const t=this.getCompareOptions(e.value),n={compareOptions:t};Boolean(this.state.compareWith)&&!t.find(({value:e})=>e===this.state.compareWith)&&(n.compareWith=bm),this.setState(n)}))},this.getCompareOptions=e=>{const t=Math.ceil(e.to.diff(e.from)),n=xm.findIndex(({value:e})=>u.rangeUtil.intervalToMs(e)>=t);return[Sm,wm,...xm.slice(n).map(({label:e,value:t})=>({label:e,value:t}))]},this.onCompareWithChanged=e=>{e===ym?this.onClearCompare():this.setState({compareWith:e})},this.onClearCompare=()=>{this.setState({compareWith:void 0})},this.addActivationHandler(this._onActivate)}getExtraQueries(e){const t=[],n=this.getCompareTimeRange(e.range);if(!n)return t;const r=e.targets.filter(e=>!1!==e.timeRangeCompare);return r.length&&t.push({req:vm(mm({},e),{targets:r,range:n}),processor:Cm}),t}shouldRerun(e,t,n){return e.compareWith!==t.compareWith&&void 0!==n.find(e=>!1!==e.timeRangeCompare)}getCompareTimeRange(e){let t,n;if(this.state.compareWith){if(this.state.compareWith===bm){const r=e.to.diff(e.from);t=(0,u.dateTime)(e.from).subtract(r),n=(0,u.dateTime)(e.to).subtract(r)}else t=(0,u.dateTime)(e.from).subtract(u.rangeUtil.intervalToMs(this.state.compareWith)),n=(0,u.dateTime)(e.to).subtract(u.rangeUtil.intervalToMs(this.state.compareWith));return{from:t,to:n,raw:{from:t,to:n}}}}getUrlState(){return{compareWith:this.state.compareWith}}updateFromUrl(e){if(!e.compareWith)return;const t=Ze(e.compareWith);t&&(this.getCompareOptions(ju.getTimeRange(this).state.value).find(({value:e})=>e===t)?this.setState({compareWith:t}):this.setState({compareWith:"__previousPeriod"}))}}Em.Component=function({model:e}){var t;const n=(0,In.useStyles2)(Am),{compareWith:r,compareOptions:a}=e.useState(),[o,i]=s().useState(r),l=null!=(t=a.find(({value:e})=>e===o))?t:wm,u=a.find(({value:e})=>e===r),c=Boolean(u),d=()=>{c?(i(r),e.onClearCompare()):c||e.onCompareWithChanged(l.value)};return s().createElement(In.ButtonGroup,null,s().createElement(In.ToolbarButton,{variant:"canvas",tooltip:"Enable time frame comparison",onClick:e=>{e.stopPropagation(),e.preventDefault(),d()}},s().createElement(In.Checkbox,{label:" ",value:c,onClick:d}),"Comparison"),c?s().createElement(In.ButtonSelect,{variant:"canvas",value:u,options:a,onChange:t=>{e.onCompareWithChanged(t.value)}}):s().createElement(In.ToolbarButton,{className:n.previewButton,disabled:!0,variant:"canvas",isOpen:!1},l.label))};const Cm=(e,t)=>{const n=t.timeRange.from.diff(e.timeRange.from);return t.series.forEach(e=>{e.refId=lm(e.refId||""),e.meta=vm(mm({},e.meta),{timeCompare:{diffMs:n,isTimeShiftQuery:!0}}),e.fields.forEach(e=>(e.type===u.FieldType.time&&(e.values=e.values.map(e=>n<0?e-n:e+n)),e.config=vm(mm({},e.config),{color:{mode:"fixed",fixedColor:c.config.theme.palette.gray60}}),e))}),(0,O.of)(t)};function Am(e){return{previewButton:(0,Pn.css)({"&:disabled":{border:`1px solid ${e.colors.secondary.border}`,color:e.colors.text.disabled,opacity:1}})}}class Om extends J{constructor(e){super(e),this.addActivationHandler(()=>{const e=ju.getData(this);this._subs.add(e.subscribeToState(e=>{var t;(null==(t=e.data)?void 0:t.state)===u.LoadingState.Done&&this.performRepeat(e.data)})),e.state.data&&this.performRepeat(e.state.data)})}performRepeat(e){const t=[];for(let n=0;n<e.series.length;n++){const r=this.state.getLayoutChild(e,e.series[n],n);t.push(r)}this.state.body.setState({children:t})}}Om.Component=({model:e})=>{const{body:t}=e.useState();return s().createElement(t.Component,{model:t})};class Rm extends J{constructor(e){super(e),this._variableDependency=new iu(this,{variableNames:[this.state.variableName],onVariableUpdateCompleted:()=>this.performRepeat()}),this.addActivationHandler(()=>this.performRepeat())}performRepeat(){if(this._variableDependency.hasDependencyInLoadingState())return;const e=ju.lookupVariable(this.state.variableName,this);if(!(e instanceof Bt))return void console.error("SceneByVariableRepeater: variable is not a MultiValueVariable");const t=function(e){const{value:t,text:n,options:r}=e.state;return e.hasAllValue()?r:Array.isArray(t)&&Array.isArray(n)?t.map((e,t)=>({value:e,label:n[t]})):[{value:t,label:n}]}(e),n=[];for(const e of t){const t=this.state.getLayoutChild(e);n.push(t)}this.state.body.setState({children:n})}}Rm.Component=({model:e})=>{const{body:t}=e.useState();return s().createElement(t.Component,{model:t})};class Im extends J{constructor(){super({}),this._renderBeforeActivation=!0}}Im.Component=e=>s().createElement("div",{style:{flexGrow:1}});class Dm extends J{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}Dm.Component=function({model:e,parentState:t}){const{children:n,isHidden:r}=e.useState(),a=function(e,t){return(0,o.useMemo)(()=>{var n,r,a,o,i,s,l,u,d,p;const{direction:f="row",wrap:h}=e,g=c.config.theme2,m={};return t?_m(m,e,t):(m.display="flex",m.flexGrow=1,m.minWidth=e.minWidth,m.minHeight=e.minHeight),m.flexDirection=f,m.gap="8px",m.flexWrap=h||"nowrap",m.alignContent="baseline",m.minWidth=m.minWidth||0,m.minHeight=m.minHeight||0,m[g.breakpoints.down("md")]={flexDirection:null!=(r=null==(n=e.md)?void 0:n.direction)?r:"column",maxWidth:null!=(o=null==(a=e.md)?void 0:a.maxWidth)?o:"unset",maxHeight:null!=(s=null==(i=e.md)?void 0:i.maxHeight)?s:"unset",height:null!=(u=null==(l=e.md)?void 0:l.height)?u:"unset",width:null!=(p=null==(d=e.md)?void 0:d.width)?p:"unset"},(0,Pn.css)(m)},[t,e])}(e.state,t);return r?null:s().createElement("div",{className:a},n.map(t=>{const n=t.Component;return s().createElement(n,{key:t.state.key,model:t,parentState:e.state})}))};class Pm extends J{}function _m(e,t,n){var r,a,o;const i=null!=(r=n.direction)?r:"row",{xSizing:s="fill",ySizing:l="fill"}=t;return e.display="flex",e.position="relative",e.flexDirection=i,"column"===i?(t.height?e.height=t.height:e.flexGrow="fill"===l?1:0,t.width?e.width=t.width:e.alignSelf="fill"===s?"stretch":"flex-start"):(t.height?e.height=t.height:e.alignSelf="fill"===l?"stretch":"flex-start",t.width?e.width=t.width:e.flexGrow="fill"===s?1:0),e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.maxHeight=t.maxHeight,e.minHeight=null!=(a=t.minHeight)?a:n.minHeight,e.height=null!=(o=t.height)?o:n.height,e}Pm.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneFlexItem must be a child of SceneFlexLayout");const{body:n,isHidden:r}=e.useState(),a=function(e,t){return(0,o.useMemo)(()=>{var n,r,a,o,i,s,l,u,d,p;const f=c.config.theme2,h=_m({},e,t);return h[f.breakpoints.down("md")]={maxWidth:null!=(r=null==(n=e.md)?void 0:n.maxWidth)?r:"unset",maxHeight:null!=(o=null==(a=e.md)?void 0:a.maxHeight)?o:"unset",height:null!=(l=null==(i=e.md)?void 0:i.height)?l:null==(s=t.md)?void 0:s.height,width:null!=(p=null==(u=e.md)?void 0:u.width)?p:null==(d=t.md)?void 0:d.width},(0,Pn.css)(h)},[e,t])}(e.state,t);return!n||r?null:s().createElement("div",{className:a},s().createElement(n.Component,{model:n}))};var Tm=Object.defineProperty,km=Object.getOwnPropertySymbols,Mm=Object.prototype.hasOwnProperty,Bm=Object.prototype.propertyIsEnumerable,Lm=(e,t,n)=>t in e?Tm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Nm extends J{constructor(e){var t,n;super(((e,t)=>{for(var n in t||(t={}))Mm.call(t,n)&&Lm(e,n,t[n]);if(km)for(var n of km(t))Bm.call(t,n)&&Lm(e,n,t[n]);return e})({rowGap:1,columnGap:1,templateColumns:"repeat(auto-fit, minmax(400px, 1fr))",autoRows:null!=(t=e.autoRows)?t:"320px",children:null!=(n=e.children)?n:[]},e))}isDraggable(){return!1}}Nm.Component=function({model:e}){const{children:t,isHidden:n,isLazy:r}=e.useState(),a=(i=e.state,(0,o.useMemo)(()=>{var e,t,n,r,a,o,s,l,u,d,p;const f={},h=c.config.theme2;return f.display="grid",f.gridTemplateColumns=i.templateColumns,f.gridTemplateRows=i.templateRows||"unset",f.gridAutoRows=i.autoRows||"unset",f.rowGap=h.spacing(null!=(e=i.rowGap)?e:1),f.columnGap=h.spacing(null!=(t=i.columnGap)?t:1),f.justifyItems=i.justifyItems||"unset",f.alignItems=i.alignItems||"unset",f.justifyContent=i.justifyContent||"unset",f.flexGrow=1,i.md&&(f[h.breakpoints.down("md")]={gridTemplateRows:null==(n=i.md)?void 0:n.templateRows,gridTemplateColumns:null==(r=i.md)?void 0:r.templateColumns,rowGap:i.md.rowGap?h.spacing(null!=(o=null==(a=i.md)?void 0:a.rowGap)?o:1):void 0,columnGap:i.md.columnGap?h.spacing(null!=(l=null==(s=i.md)?void 0:s.rowGap)?l:1):void 0,justifyItems:null==(u=i.md)?void 0:u.justifyItems,alignItems:null==(d=i.md)?void 0:d.alignItems,justifyContent:null==(p=i.md)?void 0:p.justifyContent}),(0,Pn.css)(f)},[i]));var i;return n?null:s().createElement("div",{className:a},t.map(t=>{const n=t.Component;return r?s().createElement(Xh,{key:t.state.key,className:a},s().createElement(n,{key:t.state.key,model:t,parentState:e.state})):s().createElement(n,{key:t.state.key,model:t,parentState:e.state})}))};class Vm extends J{}Vm.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneCSSGridItem must be a child of SceneCSSGridLayout");const{body:n,isHidden:r}=e.useState(),a=(i=e.state,(0,o.useMemo)(()=>{const e={};return e.gridColumn=i.gridColumn||"unset",e.gridRow=i.gridRow||"unset",e.position="relative",(0,Pn.css)(e)},[i]));var i;return!n||r?null:s().createElement("div",{className:a},s().createElement(n.Component,{model:n}))};var Fm=Object.defineProperty,jm=Object.getOwnPropertySymbols,$m=Object.prototype.hasOwnProperty,zm=Object.prototype.propertyIsEnumerable,Hm=(e,t,n)=>t in e?Fm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Um=(e,t)=>{for(var n in t||(t={}))$m.call(t,n)&&Hm(e,n,t[n]);if(jm)for(var n of jm(t))zm.call(t,n)&&Hm(e,n,t[n]);return e};const Gm=new Set(["ArrowUp","ArrowDown"]),Wm=new Set(["ArrowLeft","ArrowRight"]),qm={row:{dim:"width",axis:"clientX",min:"minWidth",max:"maxWidth"},column:{dim:"height",axis:"clientY",min:"minHeight",max:"maxHeight"}};function Qm({direction:e="row",handleSize:t=32,initialSize:n="auto",primaryPaneStyles:r,secondaryPaneStyles:a,onDragFinished:i,children:l}){const u=s().Children.toArray(l),c=(0,o.useRef)(null),d=(0,o.useRef)(null),p=(0,o.useRef)(null),f=(0,o.useRef)(null),h=(0,o.useRef)(null),g=(0,o.useRef)("1fr"),m=(0,o.useRef)(void 0),v=(0,o.useRef)(void 0),b=qm[e].dim,y=qm[e].axis,w=qm[e].min,S=qm[e].max;!function(e,t,n=0,r){const a=(0,fe.throttle)(t,n);(0,o.useLayoutEffect)(()=>{if(!e)return;const t=new ResizeObserver(a);return t.observe(e,{box:"device-pixel-content-box"}),()=>t.disconnect()},r)}(f.current,e=>{for(const t of e){if(!t.target.isSameNode(f.current))return;const e=d.current.getBoundingClientRect()[b],n=Xm(d.current);c.current.ariaValueNow=`${(0,fe.clamp)((e-n[w])/(n[S]-n[w])*100,0,100)}`}},500,[S,w,e,b]);const x=(0,o.useRef)(null),E=(0,o.useCallback)(e=>{g.current=d.current.getBoundingClientRect()[b],h.current=f.current.getBoundingClientRect()[b],x.current=e[y],c.current.setPointerCapture(e.pointerId),m.current=Xm(d.current),v.current=void 0},[b,y]),C=(0,o.useCallback)(e=>{if(null!==x.current&&"1fr"!==g.current){const n=e[y]-x.current,r=m.current,a=(0,fe.clamp)(g.current+n,r[w],r[S]),o=a/(h.current-t);d.current.style.flexGrow=`${o}`,p.current.style.flexGrow=""+(1-o);const i=(0,fe.clamp)((a-r[w])/(r[S]-r[w])*100,0,100);c.current.ariaValueNow=`${i}`}},[t,y,w,S]),A=(0,o.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),c.current.releasePointerCapture(e.pointerId),x.current=null,null==i||i(parseFloat(d.current.style.flexGrow))},[i]),O=(0,o.useRef)(new Set),R=(0,o.useRef)(null),I=(0,o.useCallback)(n=>{var r;if(0===O.current.size)return void(R.current=null);if("1fr"===g.current)return;const a=.3*(n-(null!=(r=R.current)?r:n));let o=0;"row"===e?(O.current.has("ArrowLeft")&&(o-=a),O.current.has("ArrowRight")&&(o+=a)):(O.current.has("ArrowUp")&&(o-=a),O.current.has("ArrowDown")&&(o+=a));const i=m.current,s=d.current.getBoundingClientRect()[b],l=(0,fe.clamp)(s+o,i[w],i[S]),u=l/(h.current-t);d.current.style.flexGrow=`${u}`,p.current.style.flexGrow=""+(1-u);const f=(l-i[w])/(i[S]-i[w])*100;c.current.ariaValueNow=`${(0,fe.clamp)(f,0,100)}`,R.current=n,window.requestAnimationFrame(I)},[e,t,w,S,b]),D=(0,o.useCallback)(n=>{if("Enter"!==n.key){if("Home"===n.key){m.current=Xm(d.current),h.current=f.current.getBoundingClientRect()[b];const e=m.current[w]/(h.current-t);return d.current.style.flexGrow=`${e}`,p.current.style.flexGrow=""+(1-e),void(c.current.ariaValueNow="0")}if("End"===n.key){m.current=Xm(d.current),h.current=f.current.getBoundingClientRect()[b];const e=m.current[S]/(h.current-t);return d.current.style.flexGrow=`${e}`,p.current.style.flexGrow=""+(1-e),void(c.current.ariaValueNow="100")}if(("column"===e&&Gm.has(n.key)||"row"===e&&Wm.has(n.key))&&!O.current.has(n.key)&&(v.current=void 0,n.preventDefault(),n.stopPropagation(),g.current=d.current.getBoundingClientRect()[b],h.current=f.current.getBoundingClientRect()[b],m.current=Xm(d.current),!O.current.has(n.key))){const e=0===O.current.size;O.current.add(n.key),e&&window.requestAnimationFrame(I)}}else void 0===v.current?(v.current=d.current.style.flexGrow,d.current.style.flexGrow="0",p.current.style.flexGrow="1"):(d.current.style.flexGrow=v.current,p.current.style.flexGrow=""+(1-parseFloat(v.current)),v.current=void 0)},[e,I,t,S,b,w]),P=(0,o.useCallback)(t=>{"row"===e&&!Wm.has(t.key)||"column"===e&&!Gm.has(t.key)||(O.current.delete(t.key),null==i||i(parseFloat(d.current.style.flexGrow)))},[e,i]),_=(0,o.useCallback)(()=>{d.current.style.flexGrow="0.5",p.current.style.flexGrow="0.5";const e=Xm(d.current);m.current=e,g.current=d.current.getBoundingClientRect()[b],c.current.ariaValueNow=""+(g.current-e[w])/(e[S]-e[w])*100},[S,b,w]),T=(0,o.useCallback)(()=>{O.current.size>0&&(O.current.clear(),x.current=null,null==i||i(parseFloat(d.current.style.flexGrow)))},[i]),k=(0,In.useStyles2)(Ym),M=Yh(),B=2===u.length?"visible":"hidden";return s().createElement("div",{ref:f,className:k.container,style:{flexDirection:e}},s().createElement("div",{ref:d,className:k.panel,style:Um({flexGrow:"auto"===n?.5:(0,fe.clamp)(n,0,1),[w]:"min-content"},r),id:`start-panel-${M}`},u[0]),u[1]&&s().createElement(s().Fragment,null,s().createElement("div",{ref:c,style:{[b]:`${t}px`},className:(0,Pn.cx)(k.handle,{[k.handleHorizontal]:"column"===e}),onPointerUp:A,onPointerDown:E,onPointerMove:C,onKeyDown:D,onKeyUp:P,onDoubleClick:_,onBlur:T,role:"separator","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":50,"aria-controls":`start-panel-${M}`,"aria-label":"Pane resize widget",tabIndex:0}),s().createElement("div",{ref:p,className:k.panel,style:Um({flexGrow:"auto"===n?.5:(0,fe.clamp)(1-n,0,1),[w]:"min-content",visibility:`${B}`},a),id:`end-panel-${M}`},u[1])))}function Ym(e){return{handle:(0,Pn.css)({cursor:"col-resize",position:"relative",flexShrink:0,userSelect:"none","&::before":{content:'""',position:"absolute",backgroundColor:e.colors.primary.main,left:"50%",transform:"translate(-50%)",top:0,height:"100%",width:"1px",opacity:0,transition:"opacity ease-in-out 0.2s"},"&::after":{content:'""',width:"4px",borderRadius:"4px",backgroundColor:e.colors.border.weak,transition:"background-color ease-in-out 0.2s",height:"50%",top:"calc(50% - (50%) / 2)",transform:"translateX(-50%)",position:"absolute",left:"50%"},"&:hover, &:focus-visible":{outline:"none","&::before":{opacity:1},"&::after":{backgroundColor:e.colors.primary.main}}}),handleHorizontal:(0,Pn.css)({cursor:"row-resize","&::before":{left:"inherit",transform:"translateY(-50%)",top:"50%",height:"1px",width:"100%"},"&::after":{width:"50%",height:"4px",top:"50%",transform:"translateY(-50%)",left:"calc(50% - (50%) / 2)"}}),container:(0,Pn.css)({display:"flex",width:"100%",flexGrow:1,overflow:"hidden"}),panel:(0,Pn.css)({display:"flex",position:"relative",flexBasis:0})}}function Xm(e){if(null===e)return;const t=document.body.style.overflow,n=e.style.width,r=e.style.height,a=e.style.flexGrow;document.body.style.overflow="hidden",e.style.flexGrow="0";const{width:o,height:i}=e.getBoundingClientRect();e.style.flexGrow="100";const{width:s,height:l}=e.getBoundingClientRect();return document.body.style.overflow=t,e.style.width=n,e.style.height=r,e.style.flexGrow=a,{minWidth:o,maxWidth:s,minHeight:i,maxHeight:l}}class Km extends J{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}Km.Component=function({model:e}){const{primary:t,secondary:n,direction:r,isHidden:a,initialSize:o,primaryPaneStyles:i,secondaryPaneStyles:l}=e.useState();if(a)return null;const u=t.Component,c=null==n?void 0:n.Component;let d=n?o:1;return s().createElement(Qm,{direction:r,initialSize:null!=d?d:.5,primaryPaneStyles:i,secondaryPaneStyles:l},s().createElement(u,{key:t.state.key,model:t,parentState:e.state}),c&&n&&s().createElement(c,{key:n.state.key,model:n,parentState:e.state}))};class Zm extends J{enrichDataRequest(){return{app:this.state.name||"app"}}}Zm.Component=({model:e})=>{const{pages:t}=e.useState();return s().createElement(Jm.Provider,{value:e},s().createElement(l.Switch,null,t.map(e=>s().createElement(l.Route,{key:e.state.url,exact:!1,path:e.state.url,render:t=>v(e,t)}))))};const Jm=(0,o.createContext)(null),ev=new Map;function tv(e){const t=ev.get(e);if(t)return t;const n=e();return ev.set(e,n),n}var nv=Object.defineProperty,rv=Object.getOwnPropertySymbols,av=Object.prototype.hasOwnProperty,ov=Object.prototype.propertyIsEnumerable,iv=(e,t,n)=>t in e?nv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class sv extends J{}function lv({node:e}){const t=e.useState(),n=(0,In.useStyles2)(uv);return s().createElement("div",{className:n.container},Object.keys(t).map(r=>s().createElement("div",{className:n.row,key:r},s().createElement("div",{className:n.keyName},r),s().createElement("div",{className:n.value},function(e,t,n){if(null===t)return"null";switch(typeof t){case"number":return s().createElement(In.Input,{type:"number",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.valueAsNumber})});case"string":return s().createElement(In.Input,{type:"text",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.value})});case"object":return Xt(t)?t.constructor.name:(0,fe.isPlainObject)(t)||(0,fe.isArray)(t)?s().createElement(In.JSONFormatter,{json:t,open:0}):String(t);default:return typeof t}}(r,t[r],e)))))}function uv(e){return{container:(0,Pn.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),row:(0,Pn.css)({display:"flex",gap:e.spacing(2)}),keyName:(0,Pn.css)({display:"flex",flexGrow:"0",width:120,alignItems:"center",height:e.spacing(e.components.height.md)}),value:(0,Pn.css)({flexGrow:1,minHeight:e.spacing(e.components.height.md),display:"flex",alignItems:"center"})}}function cv({node:e,selectedObject:t,onSelect:n}){const r=(0,In.useStyles2)(dv),a=[],o=e===t;return e.forEachChild(e=>{a.push(s().createElement(cv,{node:e,key:e.state.key,selectedObject:t,onSelect:n}))}),s().createElement("div",{className:r.container},s().createElement("div",{className:(0,Pn.cx)(r.name,o&&r.selected),onClick:()=>n(e)},e.constructor.name),s().createElement("div",{className:r.children},a))}function dv(e){return{container:(0,Pn.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),name:(0,Pn.css)({flexGrow:1,display:"flex",gap:e.spacing(1),fontSize:e.typography.bodySmall.fontSize,cursor:"pointer",padding:e.spacing(0,1),borderRadius:e.shape.borderRadius(2),position:"relative","&:hover":{background:e.colors.background.secondary}}),selected:(0,Pn.css)({"&::before":{display:"block",content:"' '",position:"absolute",left:0,width:4,bottom:2,top:2,borderRadius:e.shape.radius.default,backgroundImage:e.colors.gradients.brandVertical}}),children:(0,Pn.css)({flexGrow:1,display:"flex",flexDirection:"column",paddingLeft:e.spacing(1)})}}function pv({scene:e}){const t=(0,In.useStyles2)(fv),[n,r]=(0,o.useState)(!1),[a,i]=(0,o.useState)();return s().createElement(s().Fragment,null,s().createElement(In.ToolbarButton,{variant:"canvas",icon:"bug",onClick:()=>r(!0)}),n&&s().createElement(In.Drawer,{title:"Scene debugger",onClose:()=>r(!1),size:"lg"},s().createElement("div",{className:t.panes},s().createElement("div",{className:t.pane1},s().createElement("div",{className:t.paneHeading},"Scene graph"),s().createElement(In.CustomScrollbar,{autoHeightMin:"100%"},s().createElement("div",{className:t.treeWrapper},s().createElement(cv,{node:e,selectedObject:a,onSelect:i})))),s().createElement("div",{className:t.pane2},s().createElement("div",{className:t.paneHeading},"Object details"),a&&s().createElement(lv,{node:a})))))}function fv(e){return{panes:(0,Pn.css)({flexGrow:1,display:"flex",height:"100%",flexDirection:"row",marginTop:e.spacing(-2)}),pane1:(0,Pn.css)({flexGrow:0,display:"flex",height:"100%",flexDirection:"column",borderRight:`1px solid ${e.colors.border.weak}`}),pane2:(0,Pn.css)({flexGrow:1,display:"flex",minHeight:"100%",flexDirection:"column",paddingLeft:e.spacing(2)}),treeWrapper:(0,Pn.css)({paddingRight:e.spacing(2),height:"100%",marginLeft:e.spacing(-1)}),paneHeading:(0,Pn.css)({padding:e.spacing(1,0),fontWeight:e.typography.fontWeightMedium})}}function hv({page:e,routeProps:t}){const n=function(e){return e.parent instanceof vv?e.parent:e}(e),r=n.useState(),a=function(){const e=(0,l.useLocation)();return(0,c.locationSearchToObject)(e.search||"")}(),i=e.getScene(t.match),u=(0,o.useContext)(Jm),d=r.initializedScene===i,{layout:p}=e.state,f=Mt();(0,o.useLayoutEffect)(()=>{d||n.initializeScene(i)},[i,n,d]),(0,o.useEffect)(()=>()=>n.setState({initializedScene:void 0}),[n]);const h=kh(n,null==u?void 0:u.state.urlSyncOptions);if(!d&&!h)return null;const g={text:r.title,img:r.titleImg,icon:r.titleIcon,url:m(r.url,f.getSearchObject(),r.preserveUrlKeys),hideFromBreadcrumbs:r.hideFromBreadcrumbs,parentItem:gv(r.getParentPage?r.getParentPage():n.parent,a,f.getSearchObject())};r.tabs&&(g.children=r.tabs.map(t=>({text:t.state.title,icon:t.state.titleIcon,tabSuffix:t.state.tabSuffix,active:e===t,url:m(t.state.url,f.getSearchObject(),t.state.preserveUrlKeys),parentItem:g})));let v=[];return r.controls&&(v=r.controls.map(e=>s().createElement(e.Component,{model:e,key:e.state.key}))),a["scene-debugger"]&&v.push(s().createElement(pv,{scene:n,key:"scene-debugger"})),s().createElement(c.PluginPage,{layout:p,pageNav:g,actions:v,renderTitle:r.renderTitle,subTitle:r.subTitle},s().createElement(i.Component,{model:i}))}function gv(e,t,n){if(e instanceof vv)return{text:e.state.title,url:m(e.state.url,n,e.state.preserveUrlKeys),hideFromBreadcrumbs:e.state.hideFromBreadcrumbs,parentItem:gv(e.state.getParentPage?e.state.getParentPage():e.parent,t,n)}}function mv({drilldown:e,parent:t,routeProps:n}){return v(t.getDrilldownPage(e,n.match),n)}sv.Component=({model:e})=>{const{component:t,props:n,reactNode:r}=e.useState();return t?s().createElement(t,((e,t)=>{for(var n in t||(t={}))av.call(t,n)&&iv(e,n,t[n]);if(rv)for(var n of rv(t))ov.call(t,n)&&iv(e,n,t[n]);return e})({},n)):r||null};class vv extends J{constructor(e){super(e),this._sceneCache=new Map,this._drilldownCache=new Map}initializeScene(e){this.setState({initializedScene:e})}getScene(e){let t=this._sceneCache.get(e.url);if(t)return t;if(!this.state.getScene)throw new Error("Missing getScene on SceneAppPage "+this.state.title);return t=this.state.getScene(e),this._sceneCache.set(e.url,t),t}getDrilldownPage(e,t){let n=this._drilldownCache.get(t.url);return n||(n=e.getPage(t,this),this._drilldownCache.set(t.url,n),n)}enrichDataRequest(e){if(this.state.getParentPage)return this.state.getParentPage().enrichDataRequest(e);if(!this.parent)return null;const t=this.getRoot();return Kt(t)?t.enrichDataRequest(e):null}}vv.Component=function({model:e,routeProps:t}){var n,r;const{tabs:a,drilldowns:o}=e.useState(),i=[];if(a&&a.length>0)for(let t=0;t<a.length;t++){const o=a[t];if(0===t&&i.push(s().createElement(l.Route,{exact:!0,key:e.state.url,path:null!=(n=e.state.routePath)?n:e.state.url,render:e=>v(o,e)})),i.push(s().createElement(l.Route,{exact:!0,key:o.state.url,path:null!=(r=o.state.routePath)?r:o.state.url,render:e=>v(o,e)})),o.state.drilldowns)for(const e of o.state.drilldowns)i.push(s().createElement(l.Route,{exact:!1,key:e.routePath,path:e.routePath,render:t=>s().createElement(mv,{drilldown:e,parent:o,routeProps:t})}))}if(o)for(const t of o)i.push(s().createElement(l.Route,{key:t.routePath,exact:!1,path:t.routePath,render:n=>s().createElement(mv,{drilldown:t,parent:e,routeProps:n})}));return!a&&(u=e,(c=t.match).isExact&&(c.url===u.state.url||u.parent instanceof vv&&u.parent.state.tabs[0]===u&&u.parent.state.url===c.url))?s().createElement(hv,{page:e,routeProps:t}):(i.push(function(e,t){return s().createElement(l.Route,{key:"fallback route",render:n=>{var r,a,o;const i=null!=(o=null==(a=(r=e.state).getFallbackPage)?void 0:a.call(r))?o:new vv({url:"",title:"Not found",subTitle:"The url did not match any page",getScene:()=>new Bh({body:new Dm({direction:"column",children:[new Pm({body:new sv({component:()=>s().createElement("div",{"data-testid":"default-fallback-content"},"If you found your way here using a link then there might be a bug in this application.")})})]})})});return s().createElement(hv,{page:i,routeProps:t})}})}(e,t)),s().createElement(l.Switch,null,i));var u,c};var bv=(e=>(e.Always="always",e.Auto="auto",e.Never="never",e))(bv||{}),yv=(e=>(e.Hue="hue",e.None="none",e.Opacity="opacity",e.Scheme="scheme",e))(yv||{}),wv=(e=>(e.None="none",e.Normal="normal",e.Percent="percent",e))(wv||{}),Sv=(e=>(e.Auto="auto",e.Horizontal="horizontal",e.Vertical="vertical",e))(Sv||{}),xv=(e=>(e.Background="background",e.BackgroundSolid="background_solid",e.None="none",e.Value="value",e))(xv||{}),Ev=(e=>(e.Area="area",e.Line="line",e.None="none",e))(Ev||{}),Cv=(e=>(e.Auto="auto",e.Center="center",e))(Cv||{}),Av=(e=>(e.Auto="auto",e.Name="name",e.None="none",e.Value="value",e.ValueAndName="value_and_name",e))(Av||{}),Ov=(e=>(e.Inverted="inverted",e.SameAsValue="same_as_value",e.Standard="standard",e))(Ov||{}),Rv=(e=>(e.Multi="multi",e.None="none",e.Single="single",e))(Rv||{}),Iv=(e=>(e.Basic="basic",e.Gradient="gradient",e.Lcd="lcd",e))(Iv||{}),Dv=(e=>(e.Color="color",e.Hidden="hidden",e.Text="text",e))(Dv||{}),Pv=(e=>(e.Auto="auto",e.Hidden="hidden",e.Left="left",e.Top="top",e))(Pv||{}),_v=(e=>(e.Auto="auto",e.Manual="manual",e))(_v||{}),Tv=(e=>(e.Auto="auto",e.Lg="lg",e.Md="md",e.Sm="sm",e))(Tv||{});const kv={barRadius:0,barWidth:.97,fullHighlight:!1,groupWidth:.7,orientation:Sv.Auto,showValue:bv.Auto,stacking:wv.None,xTickLabelRotation:0,xTickLabelSpacing:0},Mv={fillOpacity:80,gradientMode:yv.None,lineWidth:1},Bv={displayMode:Iv.Gradient,maxVizHeight:300,minVizHeight:16,minVizWidth:8,namePlacement:Pv.Auto,showUnfilled:!0,sizing:_v.Auto,valueMode:Dv.Color},Lv={selectedSeries:0},Nv={minVizHeight:75,minVizWidth:75,showThresholdLabels:!1,showThresholdMarkers:!0,sizing:_v.Auto},Vv={layers:[]},Fv={calculate:!1,cellGap:1,cellValues:{},color:{scheme:"Oranges",fill:"dark-orange",reverse:!1,exponent:.5,steps:64},exemplars:{color:"rgba(255,0,255,0.7)"},filterValues:{le:1e-9},legend:{show:!0},selectionMode:"x",showValue:bv.Auto,tooltip:{mode:Rv.Single,yHistogram:!1,showColorScale:!1}},jv={bucketCount:30,bucketOffset:0},$v={fillOpacity:80,gradientMode:yv.None,lineWidth:1},zv={showImage:!0},Hv={displayLabels:[]},Uv={colorMode:xv.Value,graphMode:Ev.Area,justifyMode:Cv.Auto,percentChangeColorMode:Ov.Standard,showPercentChange:!1,textMode:Av.Auto,wideLayout:!0},Gv={alignValue:"left",mergeValues:!0,perPage:20,rowHeight:.9,showValue:bv.Auto},Wv={fillOpacity:70,lineWidth:0},qv={colWidth:.9,perPage:20,rowHeight:.9,showValue:bv.Auto},Qv={fillOpacity:70,lineWidth:1},Yv={cellHeight:Tv.Sm,footer:{show:!1,countRows:!1,reducer:[]},frameIndex:0,showHeader:!0,showTypeIcons:!1,sortBy:[]},Xv={content:"# Title\n\nFor markdown syntax help: [commonmark.org/help](https://commonmark.org/help/)",mode:"markdown"},Kv={fillOpacity:50,show:"points"},Zv={series:[]};class Jv{constructor(){this._overrides=[]}overrideColor(e){return this._overrides[this._overrides.length-1].properties.push({id:"color",value:e}),this}overrideDecimals(e){return this._overrides[this._overrides.length-1].properties.push({id:"decimals",value:e}),this}overrideDisplayName(e){return this._overrides[this._overrides.length-1].properties.push({id:"displayName",value:e}),this}overrideFilterable(e){return this._overrides[this._overrides.length-1].properties.push({id:"filterable",value:e}),this}overrideLinks(e){return this._overrides[this._overrides.length-1].properties.push({id:"links",value:e}),this}overrideMappings(e){return this._overrides[this._overrides.length-1].properties.push({id:"mappings",value:e}),this}overrideMax(e){return this._overrides[this._overrides.length-1].properties.push({id:"max",value:e}),this}overrideMin(e){return this._overrides[this._overrides.length-1].properties.push({id:"min",value:e}),this}overrideNoValue(e){return this._overrides[this._overrides.length-1].properties.push({id:"noValue",value:e}),this}overrideThresholds(e){return this._overrides[this._overrides.length-1].properties.push({id:"thresholds",value:e}),this}overrideUnit(e){return this._overrides[this._overrides.length-1].properties.push({id:"unit",value:e}),this}}class eb extends Jv{match(e){return this._overrides.push({matcher:e,properties:[]}),this}matchFieldsWithName(e){return this._overrides.push({matcher:{id:u.FieldMatcherID.byName,options:e},properties:[]}),this}matchFieldsWithNameByRegex(e){return this._overrides.push({matcher:{id:u.FieldMatcherID.byRegexp,options:e},properties:[]}),this}matchFieldsByType(e){return this._overrides.push({matcher:{id:u.FieldMatcherID.byType,options:e},properties:[]}),this}matchFieldsByQuery(e){return this._overrides.push({matcher:{id:u.FieldMatcherID.byFrameRefID,options:e},properties:[]}),this}matchFieldsByValue(e){return this._overrides.push({matcher:{id:u.FieldMatcherID.byValue,options:e},properties:[]}),this}matchComparisonQuery(e){return this.matchFieldsByQuery(lm(e))}overrideCustomFieldConfig(e,t){const n=`custom.${String(e)}`;return this._overrides[this._overrides.length-1].properties.push({id:n,value:t}),this}build(){return this._overrides}}var tb=Object.defineProperty,nb=Object.defineProperties,rb=Object.getOwnPropertyDescriptors,ab=Object.getOwnPropertySymbols,ob=Object.prototype.hasOwnProperty,ib=Object.prototype.propertyIsEnumerable,sb=(e,t,n)=>t in e?tb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lb=(e,t)=>{for(var n in t||(t={}))ob.call(t,n)&&sb(e,n,t[n]);if(ab)for(var n of ab(t))ib.call(t,n)&&sb(e,n,t[n]);return e},ub=(e,t)=>nb(e,rb(t));class cb{constructor(e){this.defaultFieldConfig=e,this._fieldConfig={defaults:{},overrides:[]},this._overridesBuilder=new eb,this.setDefaults()}setDefaults(){const e={defaults:{custom:this.defaultFieldConfig?(0,fe.cloneDeep)(this.defaultFieldConfig()):{}},overrides:[]};this._fieldConfig=e}setColor(e){return this.setFieldConfigDefaults("color",e)}setDecimals(e){return this.setFieldConfigDefaults("decimals",e)}setDisplayName(e){return this.setFieldConfigDefaults("displayName",e)}setFilterable(e){return this.setFieldConfigDefaults("filterable",e)}setLinks(e){return this.setFieldConfigDefaults("links",e)}setMappings(e){return this.setFieldConfigDefaults("mappings",e)}setMax(e){return this.setFieldConfigDefaults("max",e)}setMin(e){return this.setFieldConfigDefaults("min",e)}setNoValue(e){return this.setFieldConfigDefaults("noValue",e)}setThresholds(e){return this.setFieldConfigDefaults("thresholds",e)}setUnit(e){return this.setFieldConfigDefaults("unit",e)}setCustomFieldConfig(e,t){return this._fieldConfig.defaults=ub(lb({},this._fieldConfig.defaults),{custom:(0,fe.merge)(this._fieldConfig.defaults.custom,{[e]:t})}),this}setOverrides(e){return e(this._overridesBuilder),this}setFieldConfigDefaults(e,t){return this._fieldConfig.defaults=ub(lb({},this._fieldConfig.defaults),{[e]:t}),this}build(){return{defaults:this._fieldConfig.defaults,overrides:this._overridesBuilder.build()}}}class db{constructor(e){this.defaultOptions=e,this._options={},this.setDefaults()}setDefaults(){this._options=this.defaultOptions?(0,fe.cloneDeep)(this.defaultOptions()):{}}setOption(e,t){return this._options=(0,fe.merge)(this._options,{[e]:t}),this}build(){return this._options}}var pb=Object.defineProperty,fb=Object.defineProperties,hb=Object.getOwnPropertyDescriptors,gb=Object.getOwnPropertySymbols,mb=Object.prototype.hasOwnProperty,vb=Object.prototype.propertyIsEnumerable,bb=(e,t,n)=>t in e?pb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class yb{constructor(e,t,n,r){this._state={},this._state.title="",this._state.description="",this._state.displayMode="default",this._state.hoverHeader=!1,this._state.pluginId=e,this._state.pluginVersion=t,this._fieldConfigBuilder=new cb(r),this._panelOptionsBuilder=new db(n)}setTitle(e){return this._state.title=e,this}setDescription(e){return this._state.description=e,this}setDisplayMode(e){return this._state.displayMode=e,this}setHoverHeader(e){return this._state.hoverHeader=e,this}setShowMenuAlways(e){return this._state.showMenuAlways=e,this}setMenu(e){return this._state.menu=e,this}setHeaderActions(e){return this._state.headerActions=e,this}setCollapsible(e){return this._state.collapsible=e,this}setCollapsed(e){return this._state.collapsed=e,this}setColor(e){return this._fieldConfigBuilder.setColor(e),this}setDecimals(e){return this._fieldConfigBuilder.setDecimals(e),this}setDisplayName(e){return this._fieldConfigBuilder.setDisplayName(e),this}setFilterable(e){return this._fieldConfigBuilder.setFilterable(e),this}setLinks(e){return this._fieldConfigBuilder.setLinks(e),this}setMappings(e){return this._fieldConfigBuilder.setMappings(e),this}setMax(e){return this._fieldConfigBuilder.setMax(e),this}setMin(e){return this._fieldConfigBuilder.setMin(e),this}setNoValue(e){return this._fieldConfigBuilder.setNoValue(e),this}setThresholds(e){return this._fieldConfigBuilder.setThresholds(e),this}setUnit(e){return this._fieldConfigBuilder.setUnit(e),this}setCustomFieldConfig(e,t){return this._fieldConfigBuilder.setCustomFieldConfig(e,t),this}setOverrides(e){return this._fieldConfigBuilder.setOverrides(e),this}setOption(e,t){return this._panelOptionsBuilder.setOption(e,t),this}setData(e){return this._state.$data=e,this}setTimeRange(e){return this._state.$timeRange=e,this}setVariables(e){return this._state.$variables=e,this}setBehaviors(e){return this._state.$behaviors=e,this}setSeriesLimit(e){return this._state.seriesLimit=e,this}applyMixin(e){return e(this),this}build(){const e=new od((t=((e,t)=>{for(var n in t||(t={}))mb.call(t,n)&&bb(e,n,t[n]);if(gb)for(var n of gb(t))vb.call(t,n)&&bb(e,n,t[n]);return e})({},this._state),n={options:this._panelOptionsBuilder.build(),fieldConfig:this._fieldConfigBuilder.build()},fb(t,hb(n))));var t,n;return e}}const wb={barchart:()=>new yb("barchart","10.0.0",()=>kv,()=>Mv),bargauge:()=>new yb("bargauge","10.0.0",()=>Bv),datagrid:()=>new yb("datagrid","10.0.0",()=>Lv),flamegraph:()=>new yb("flamegraph","10.0.0"),gauge:()=>new yb("gauge","10.0.0",()=>Nv),geomap:()=>new yb("geomap","10.0.0",()=>Vv),heatmap:()=>new yb("heatmap","10.0.0",()=>Fv),histogram:()=>new yb("histogram","10.0.0",()=>jv,()=>$v),logs:()=>new yb("logs","10.0.0"),news:()=>new yb("news","10.0.0",()=>zv),nodegraph:()=>new yb("nodeGraph","10.0.0"),piechart:()=>new yb("piechart","10.0.0",()=>Hv),stat:()=>new yb("stat","10.0.0",()=>Uv),statetimeline:()=>new yb("state-timeline","10.0.0",()=>Gv,()=>Wv),statushistory:()=>new yb("status-history","10.0.0",()=>qv,()=>Qv),table:()=>new yb("table","10.0.0",()=>Yv),text:()=>new yb("text","10.0.0",()=>Xv),timeseries:()=>new yb("timeseries","10.0.0"),trend:()=>new yb("trend","10.0.0"),traces:()=>new yb("traces","10.0.0"),xychart:()=>new yb("xychart","10.0.0",()=>Zv,()=>Kv)};class Sb{constructor(e,t,n,r){this._pluginId=e,this._pluginVersion=t,this._fieldConfigBuilder=new cb(r),this._panelOptionsBuilder=new db(n)}setColor(e){return this._fieldConfigBuilder.setColor(e),this}setDecimals(e){return this._fieldConfigBuilder.setDecimals(e),this}setDisplayName(e){return this._fieldConfigBuilder.setDisplayName(e),this}setFilterable(e){return this._fieldConfigBuilder.setFilterable(e),this}setLinks(e){return this._fieldConfigBuilder.setLinks(e),this}setMappings(e){return this._fieldConfigBuilder.setMappings(e),this}setMax(e){return this._fieldConfigBuilder.setMax(e),this}setMin(e){return this._fieldConfigBuilder.setMin(e),this}setNoValue(e){return this._fieldConfigBuilder.setNoValue(e),this}setThresholds(e){return this._fieldConfigBuilder.setThresholds(e),this}setUnit(e){return this._fieldConfigBuilder.setUnit(e),this}setCustomFieldConfig(e,t){return this._fieldConfigBuilder.setCustomFieldConfig(e,t),this}setOverrides(e){return this._fieldConfigBuilder.setOverrides(e),this}setOption(e,t){return this._panelOptionsBuilder.setOption(e,t),this}build(){return{pluginId:this._pluginId,pluginVersion:this._pluginVersion,options:this._panelOptionsBuilder.build(),fieldConfig:this._fieldConfigBuilder.build()}}}const xb={barchart:()=>new Sb("barchart","10.0.0",()=>kv,()=>Mv),bargauge:()=>new Sb("bargauge","10.0.0",()=>Bv),datagrid:()=>new Sb("datagrid","10.0.0",()=>Lv),flamegraph:()=>new Sb("flamegraph","10.0.0"),gauge:()=>new Sb("gauge","10.0.0",()=>Nv),geomap:()=>new Sb("geomap","10.0.0",()=>Vv),heatmap:()=>new Sb("heatmap","10.0.0",()=>Fv),histogram:()=>new Sb("histogram","10.0.0",()=>jv,()=>$v),logs:()=>new Sb("logs","10.0.0"),news:()=>new Sb("news","10.0.0",()=>zv),nodegraph:()=>new Sb("nodeGraph","10.0.0"),piechart:()=>new Sb("piechart","10.0.0",()=>Hv),stat:()=>new Sb("stat","10.0.0",()=>Uv),statetimeline:()=>new Sb("state-timeline","10.0.0",()=>Gv,()=>Wv),statushistory:()=>new Sb("status-history","10.0.0",()=>qv,()=>Qv),table:()=>new Sb("table","10.0.0",()=>Yv),text:()=>new Sb("text","10.0.0",()=>Xv),timeseries:()=>new Sb("timeseries","10.0.0"),trend:()=>new Sb("trend","10.0.0"),traces:()=>new Sb("traces","10.0.0"),xychart:()=>new Sb("xychart","10.0.0",()=>Zv,()=>Kv)},Eb={barchart:()=>new db(()=>kv),bargauge:()=>new db(()=>Bv),datagrid:()=>new db(()=>Lv),flamegraph:()=>new db,gauge:()=>new db(()=>Nv),geomap:()=>new db(()=>Vv),heatmap:()=>new db(()=>Fv),histogram:()=>new db(()=>jv),logs:()=>new db,news:()=>new db(()=>zv),nodegraph:()=>new db,piechart:()=>new db(()=>Hv),stat:()=>new db(()=>Uv),statetimeline:()=>new db(()=>Gv),statushistory:()=>new db(()=>qv),table:()=>new db(()=>Yv),text:()=>new db(()=>Xv),timeseries:()=>new db,trend:()=>new db,traces:()=>new db,xychart:()=>new db(()=>Zv)},Cb={barchart:()=>new cb(()=>Mv),bargauge:()=>new cb,datagrid:()=>new cb,flamegraph:()=>new cb,gauge:()=>new cb,geomap:()=>new cb,heatmap:()=>new cb,histogram:()=>new cb(()=>$v),logs:()=>new cb,news:()=>new cb,nodegraph:()=>new cb,piechart:()=>new cb,stat:()=>new cb,statetimeline:()=>new cb(()=>Wv),statushistory:()=>new cb(()=>Qv),table:()=>new cb,text:()=>new cb,timeseries:()=>new cb,trend:()=>new cb,traces:()=>new cb,xychart:()=>new cb(()=>Kv)},Ab={getUrlWithAppState:m,registerRuntimePanelPlugin:function({pluginId:e,plugin:t}){if(A.has(e))throw new Error(`A runtime panel plugin with id ${e} has already been registered`);var n;t.meta=(n=((e,t)=>{for(var n in t||(t={}))x.call(t,n)&&C(e,n,t[n]);if(S)for(var n of S(t))E.call(t,n)&&C(e,n,t[n]);return e})({},t.meta),y(n,w({id:e,name:e,module:"runtime plugin",baseUrl:"runtime plugin",info:{author:{name:"Runtime plugin "+e},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""}}))),A.set(e,t)},registerRuntimeDataSource:pe,registerVariableMacro:function(e,t){if(Qt.get(e))throw new Error(`Macro already registered ${e}`);return Qt.set(e,t),()=>{Qt.delete(e)}},cloneSceneObjectState:le,syncStateFromSearchParams:function(e,t){Uu(e,t,new $u)},getUrlState:Hu,renderPrometheusLabelFilters:Fl,escapeLabelValueInRegexSelector:$l,escapeLabelValueInExactSelector:jl,escapeURLDelimiters:function(e){return Gl(Ul(e))},isAdHocVariable:function(e){return"adhoc"===e.state.type},isConstantVariable:function(e){return"constant"===e.state.type},isCustomVariable:function(e){return"custom"===e.state.type},isDataSourceVariable:function(e){return"datasource"===e.state.type},isIntervalVariable:function(e){return"interval"===e.state.type},isQueryVariable:function(e){return"query"===e.state.type},isTextBoxVariable:function(e){return"textbox"===e.state.type},isGroupByVariable:function(e){return"groupby"===e.state.type}}},8100:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(5959)),a=n(8398),o=p(n(2688)),i=n(8230),s=n(936),l=n(414),u=n(906),c=n(7222),d=p(n(8784));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.default.Component{constructor(){super(...arguments),f(this,"state",{resizing:null,dragging:null,className:""}),f(this,"elementRef",r.default.createRef()),f(this,"onDragStart",(e,t)=>{let{node:n}=t;const{onDragStart:r,transformScale:a}=this.props;if(!r)return;const o={top:0,left:0},{offsetParent:i}=n;if(!i)return;const s=i.getBoundingClientRect(),l=n.getBoundingClientRect(),c=l.left/a,d=s.left/a,p=l.top/a,f=s.top/a;o.left=c-d+i.scrollLeft,o.top=p-f+i.scrollTop,this.setState({dragging:o});const{x:h,y:g}=(0,u.calcXY)(this.getPositionParams(),o.top,o.left,this.props.w,this.props.h);return r.call(this,this.props.i,h,g,{e,node:n,newPosition:o})}),f(this,"onDrag",(e,t,n)=>{let{node:r,deltaX:o,deltaY:i}=t;const{onDrag:s}=this.props;if(!s)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let l=this.state.dragging.top+i,c=this.state.dragging.left+o;const{isBounded:d,i:p,w:f,h,containerWidth:g}=this.props,m=this.getPositionParams();if(d){const{offsetParent:e}=r;if(e){const{margin:t,rowHeight:n}=this.props,r=e.clientHeight-(0,u.calcGridItemWHPx)(h,n,t[1]);l=(0,u.clamp)(l,0,r);const a=(0,u.calcGridColWidth)(m),o=g-(0,u.calcGridItemWHPx)(f,a,t[0]);c=(0,u.clamp)(c,0,o)}}const v={top:l,left:c};n?this.setState({dragging:v}):(0,a.flushSync)(()=>{this.setState({dragging:v})});const{x:b,y}=(0,u.calcXY)(m,l,c,f,h);return s.call(this,p,b,y,{e,node:r,newPosition:v})}),f(this,"onDragStop",(e,t)=>{let{node:n}=t;const{onDragStop:r}=this.props;if(!r)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:a,h:o,i}=this.props,{left:s,top:l}=this.state.dragging,c={top:l,left:s};this.setState({dragging:null});const{x:d,y:p}=(0,u.calcXY)(this.getPositionParams(),l,s,a,o);return r.call(this,i,d,p,{e,node:n,newPosition:c})}),f(this,"onResizeStop",(e,t,n)=>this.onResizeHandler(e,t,n,"onResizeStop")),f(this,"onResizeStart",(e,t,n)=>this.onResizeHandler(e,t,n,"onResizeStart")),f(this,"onResize",(e,t,n)=>this.onResizeHandler(e,t,n,"onResize"))}shouldComponentUpdate(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;const n=(0,u.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,u.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,l.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==e.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(e){this.moveDroppingItem(e)}moveDroppingItem(e){const{droppingPosition:t}=this.props;if(!t)return;const n=this.elementRef.current;if(!n)return;const r=e.droppingPosition||{left:0,top:0},{dragging:a}=this.state,o=a&&t.left!==r.left||t.top!==r.top;if(a){if(o){const e=t.left-a.left,r=t.top-a.top;this.onDrag(t.e,{node:n,deltaX:e,deltaY:r},!0)}}else this.onDragStart(t.e,{node:n,deltaX:t.left,deltaY:t.top})}getPositionParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}createStyle(e){const{usePercentages:t,containerWidth:n,useCSSTransforms:r}=this.props;let a;return r?a=(0,l.setTransform)(e):(a=(0,l.setTopLeft)(e),t&&(a.left=(0,l.perc)(e.left/n),a.width=(0,l.perc)(e.width/n))),a}mixinDraggable(e,t){return r.default.createElement(i.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},e)}curryResizeHandler(e,t){return(n,r)=>t(n,r,e)}mixinResizable(e,t,n){const{cols:a,minW:o,minH:i,maxW:l,maxH:c,transformScale:d,resizeHandles:p,resizeHandle:f}=this.props,h=this.getPositionParams(),g=(0,u.calcGridItemPosition)(h,0,0,a,0).width,m=(0,u.calcGridItemPosition)(h,0,0,o,i),v=(0,u.calcGridItemPosition)(h,0,0,l,c),b=[m.width,m.height],y=[Math.min(v.width,g),Math.min(v.height,1/0)];return r.default.createElement(s.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:b,maxConstraints:y,onResizeStop:this.curryResizeHandler(t,this.onResizeStop),onResizeStart:this.curryResizeHandler(t,this.onResizeStart),onResize:this.curryResizeHandler(t,this.onResize),transformScale:d,resizeHandles:p,handle:f},e)}onResizeHandler(e,t,n,r){let{node:o,size:i,handle:s}=t;const c=this.props[r];if(!c)return;const{x:d,y:p,i:f,maxH:h,minH:g,containerWidth:m}=this.props,{minW:v,maxW:b}=this.props;let y=i;o&&(y=(0,l.resizeItemInDirection)(s,n,i,m),(0,a.flushSync)(()=>{this.setState({resizing:"onResizeStop"===r?null:y})}));let{w,h:S}=(0,u.calcWH)(this.getPositionParams(),y.width,y.height,d,p,s);w=(0,u.clamp)(w,Math.max(v,1),b),S=(0,u.clamp)(S,g,h),c.call(this,f,w,S,{e,node:o,size:y,handle:s})}render(){const{x:e,y:t,w:n,h:a,isDraggable:o,isResizable:i,droppingPosition:s,useCSSTransforms:l}=this.props,c=(0,u.calcGridItemPosition)(this.getPositionParams(),e,t,n,a,this.state),p=r.default.Children.only(this.props.children);let f=r.default.cloneElement(p,{ref:this.elementRef,className:(0,d.default)("react-grid-item",p.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":o,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(s),cssTransforms:l}),style:{...this.props.style,...p.props.style,...this.createStyle(c)}});return f=this.mixinResizable(f,c,i),f=this.mixinDraggable(f,o),f}}t.default=h,f(h,"propTypes",{children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(e,t){const n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){const n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){const n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){const n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,resizeHandles:c.resizeHandleAxesType,resizeHandle:c.resizeHandleType,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,isBounded:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,transformScale:o.default.number,className:o.default.string,handle:o.default.string,cancel:o.default.string,droppingPosition:o.default.shape({e:o.default.object.isRequired,left:o.default.number.isRequired,top:o.default.number.isRequired})}),f(h,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},8102:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8230:(e,t,n)=>{"use strict";const{default:r,DraggableCore:a}=n(9111);e.exports=r,e.exports.default=r,e.exports.DraggableCore=a},8299:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy");Symbol.for("react.offscreen");Symbol.for("react.module.reference"),t.ForwardRef=c,t.isMemo=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case i:case o:case d:case p:return e;default:switch(e=e&&e.$$typeof){case u:case l:case c:case h:case f:case s:return e;default:return t}}case r:return t}}}(e)===f}},8395:(e,t,n)=>{"use strict";const r=/\s+/g;class a{constructor(e,t){if(t=i(t),e instanceof a)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new a(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!v(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&g)|(this.options.loose&&m))+":"+e,n=o.get(t);if(n)return n;const r=this.options.loose,a=r?c[d.HYPHENRANGELOOSE]:c[d.HYPHENRANGE];e=e.replace(a,P(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(c[d.COMPARATORTRIM],p),l("comparator trim",e),e=e.replace(c[d.TILDETRIM],f),l("tilde trim",e),e=e.replace(c[d.CARETTRIM],h),l("caret trim",e);let i=e.split(" ").map(e=>w(e,this.options)).join(" ").split(/\s+/).map(e=>D(e,this.options));r&&(i=i.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(c[d.COMPARATORLOOSE])))),l("range list",i);const u=new Map,b=i.map(e=>new s(e,this.options));for(const e of b){if(v(e))return[e];u.set(e.value,e)}u.size>1&&u.has("")&&u.delete("");const y=[...u.values()];return o.set(t,y),y}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Range is required");return this.set.some(n=>y(n,t)&&e.set.some(e=>y(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(_(this.set[t],e,this.options))return!0;return!1}}e.exports=a;const o=new(n(1158)),i=n(7095),s=n(9524),l=n(9796),u=n(7944),{safeRe:c,t:d,comparatorTrimReplace:p,tildeTrimReplace:f,caretTrimReplace:h}=n(6850),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:m}=n(9630),v=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,y=(e,t)=>{let n=!0;const r=e.slice();let a=r.pop();for(;n&&r.length;)n=r.every(e=>a.intersects(e,t)),a=r.pop();return n},w=(e,t)=>(l("comp",e,t),e=C(e,t),l("caret",e),e=x(e,t),l("tildes",e),e=O(e,t),l("xrange",e),e=I(e,t),l("stars",e),e),S=e=>!e||"x"===e.toLowerCase()||"*"===e,x=(e,t)=>e.trim().split(/\s+/).map(e=>E(e,t)).join(" "),E=(e,t)=>{const n=t.loose?c[d.TILDELOOSE]:c[d.TILDE];return e.replace(n,(t,n,r,a,o)=>{let i;return l("tilde",e,t,n,r,a,o),S(n)?i="":S(r)?i=`>=${n}.0.0 <${+n+1}.0.0-0`:S(a)?i=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(l("replaceTilde pr",o),i=`>=${n}.${r}.${a}-${o} <${n}.${+r+1}.0-0`):i=`>=${n}.${r}.${a} <${n}.${+r+1}.0-0`,l("tilde return",i),i})},C=(e,t)=>e.trim().split(/\s+/).map(e=>A(e,t)).join(" "),A=(e,t)=>{l("caret",e,t);const n=t.loose?c[d.CARETLOOSE]:c[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,a,o,i)=>{let s;return l("caret",e,t,n,a,o,i),S(n)?s="":S(a)?s=`>=${n}.0.0${r} <${+n+1}.0.0-0`:S(o)?s="0"===n?`>=${n}.${a}.0${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.0${r} <${+n+1}.0.0-0`:i?(l("replaceCaret pr",i),s="0"===n?"0"===a?`>=${n}.${a}.${o}-${i} <${n}.${a}.${+o+1}-0`:`>=${n}.${a}.${o}-${i} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${o}-${i} <${+n+1}.0.0-0`):(l("no pr"),s="0"===n?"0"===a?`>=${n}.${a}.${o}${r} <${n}.${a}.${+o+1}-0`:`>=${n}.${a}.${o}${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${o} <${+n+1}.0.0-0`),l("caret return",s),s})},O=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>R(e,t)).join(" ")),R=(e,t)=>{e=e.trim();const n=t.loose?c[d.XRANGELOOSE]:c[d.XRANGE];return e.replace(n,(n,r,a,o,i,s)=>{l("xRange",e,n,r,a,o,i,s);const u=S(a),c=u||S(o),d=c||S(i),p=d;return"="===r&&p&&(r=""),s=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(c&&(o=0),i=0,">"===r?(r=">=",c?(a=+a+1,o=0,i=0):(o=+o+1,i=0)):"<="===r&&(r="<",c?a=+a+1:o=+o+1),"<"===r&&(s="-0"),n=`${r+a}.${o}.${i}${s}`):c?n=`>=${a}.0.0${s} <${+a+1}.0.0-0`:d&&(n=`>=${a}.${o}.0${s} <${a}.${+o+1}.0-0`),l("xRange return",n),n})},I=(e,t)=>(l("replaceStars",e,t),e.trim().replace(c[d.STAR],"")),D=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),P=e=>(t,n,r,a,o,i,s,l,u,c,d,p)=>`${n=S(r)?"":S(a)?`>=${r}.0.0${e?"-0":""}`:S(o)?`>=${r}.${a}.0${e?"-0":""}`:i?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=S(u)?"":S(c)?`<${+u+1}.0.0-0`:S(d)?`<${u}.${+c+1}.0-0`:p?`<=${u}.${c}.${d}-${p}`:e?`<${u}.${c}.${+d+1}-0`:`<=${l}`}`.trim(),_=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(l(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},8398:e=>{"use strict";e.exports=l},8449:(e,t,n)=>{"use strict";const r=n(6850),a=n(9630),o=n(7944),i=n(4031),s=n(5860),l=n(7645),u=n(7994),c=n(5955),d=n(660),p=n(2966),f=n(5986),h=n(1617),g=n(9613),m=n(5380),v=n(2862),b=n(7023),y=n(2801),w=n(603),S=n(6033),x=n(144),E=n(599),C=n(6909),A=n(7659),O=n(2077),R=n(7092),I=n(3811),D=n(5334),P=n(9524),_=n(8395),T=n(1722),k=n(651),M=n(7840),B=n(7930),L=n(3489),N=n(7494),V=n(5463),F=n(7871),j=n(4266),$=n(1112),z=n(1465),H=n(9252);e.exports={parse:s,valid:l,clean:u,inc:c,diff:d,major:p,minor:f,patch:h,prerelease:g,compare:m,rcompare:v,compareLoose:b,compareBuild:y,sort:w,rsort:S,gt:x,lt:E,eq:C,neq:A,gte:O,lte:R,cmp:I,coerce:D,Comparator:P,Range:_,satisfies:T,toComparators:k,maxSatisfying:M,minSatisfying:B,minVersion:L,validRange:N,outside:V,gtr:F,ltr:j,intersects:$,simplifyRange:z,subset:H,SemVer:o,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},8531:e=>{"use strict";e.exports=t},8728:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5959);function a(e){var t=r.useRef();t.current=e;var n=r.useCallback(function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))},[]);return n}},8784:e=>{function t(e){var n,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(r=t(e[n]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function n(){for(var e,n,r=0,a="",o=arguments.length;r<o;r++)(e=arguments[r])&&(n=t(e))&&(a&&(a+=" "),a+=n);return a}e.exports=n,e.exports.clsx=n},9088:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},9089:e=>{"use strict";e.exports=u},9111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var r=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?n(a,t,r):a[t]=e[t]);return a}(e)}(n(5959)),a=p(n(2688)),o=p(n(8398)),i=n(8784),s=n(2837),l=n(402),u=n(6732),c=p(n(1060)),d=p(n(7988));function p(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(null,arguments)}function h(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),h(this,"onDragStart",(e,t)=>{if((0,d.default)("Draggable: onDragStart: %j",t),!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})}),h(this,"onDrag",(e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[a,o]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=a,r.y=o,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)}),h(this,"onDragStop",(e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??o.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:a,defaultClassName:o,defaultClassNameDragging:u,defaultClassNameDragged:d,position:p,positionOffset:h,scale:g,...m}=this.props;let v={},b=null;const y=!Boolean(p)||this.state.dragging,w=p||a,S={x:(0,l.canDragX)(this)&&y?this.state.x:w.x,y:(0,l.canDragY)(this)&&y?this.state.y:w.y};this.state.isElementSVG?b=(0,s.createSVGTransform)(S,h):v=(0,s.createCSSTransform)(S,h);const x=(0,i.clsx)(n.props.className||"",o,{[u]:this.state.dragging,[d]:this.state.dragged});return r.createElement(c.default,f({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:x,style:{...n.props.style,...v},transform:b}))}}t.default=g,h(g,"displayName","Draggable"),h(g,"propTypes",{...c.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),h(g,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},9115:(e,t,n)=>{"use strict";n.d(t,{K4:()=>u,Xf:()=>l,A9:()=>f,f3:()=>d,xK:()=>c});var r=n(694),a=n(5959),o=n(4271),i=n(9572),s=Number(a.version.split(".")[0]),l=function(e,t){"function"==typeof e?e(t):"object"===(0,r.A)(e)&&e&&"current"in e&&(e.current=t)},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach(function(t){l(t,e)})}},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=function(){return u.apply(void 0,t)},o=t,i=function(e,t){return e.length!==t.length||e.every(function(e,n){return e!==t[n]})},"value"in(s=a.useRef({})).current&&!i(s.current.condition,o)||(s.current.value=r(),s.current.condition=o),s.current.value;var r,o,i,s},d=function(e){var t,n;if(!e)return!1;if(p(e)&&s>=19)return!0;var r=(0,o.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===o.ForwardRef)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===o.ForwardRef)};function p(e){return(0,a.isValidElement)(e)&&!(0,i.A)(e)}var f=function(e){if(e&&p(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null}},9252:(e,t,n)=>{"use strict";const r=n(8395),a=n(9524),{ANY:o}=a,i=n(1722),s=n(5380),l=[new a(">=0.0.0-0")],u=[new a(">=0.0.0")],c=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=n.includePrerelease?l:u}if(1===t.length&&t[0].semver===o){if(n.includePrerelease)return!0;t=u}const r=new Set;let a,c,f,h,g,m,v;for(const t of e)">"===t.operator||">="===t.operator?a=d(a,t,n):"<"===t.operator||"<="===t.operator?c=p(c,t,n):r.add(t.semver);if(r.size>1)return null;if(a&&c){if(f=s(a.semver,c.semver,n),f>0)return null;if(0===f&&(">="!==a.operator||"<="!==c.operator))return null}for(const e of r){if(a&&!i(e,String(a),n))return null;if(c&&!i(e,String(c),n))return null;for(const r of t)if(!i(e,String(r),n))return!1;return!0}let b=!(!c||n.includePrerelease||!c.semver.prerelease.length)&&c.semver,y=!(!a||n.includePrerelease||!a.semver.prerelease.length)&&a.semver;b&&1===b.prerelease.length&&"<"===c.operator&&0===b.prerelease[0]&&(b=!1);for(const e of t){if(v=v||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,a)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if(h=d(a,e,n),h===e&&h!==a)return!1}else if(">="===a.operator&&!i(a.semver,String(e),n))return!1;if(c)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),"<"===e.operator||"<="===e.operator){if(g=p(c,e,n),g===e&&g!==c)return!1}else if("<="===c.operator&&!i(c.semver,String(e),n))return!1;if(!e.operator&&(c||a)&&0!==f)return!1}return!(a&&m&&!c&&0!==f||c&&v&&!a&&0!==f||y||b)},d=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let a=!1;e:for(const r of e.set){for(const e of t.set){const t=c(r,e,n);if(a=a||null!==t,t)continue e}if(a)return!1}return!0}},9273:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(7850),a=n(8728),o=n(697),i=n(1773);function s(e){return void 0!==e}function l(e,t){var n=t||{},l=n.defaultValue,u=n.value,c=n.onChange,d=n.postState,p=(0,i.A)(function(){return s(u)?u:s(l)?"function"==typeof l?l():l:"function"==typeof e?e():e}),f=(0,r.A)(p,2),h=f[0],g=f[1],m=void 0!==u?u:h,v=d?d(m):m,b=(0,a.A)(c),y=(0,i.A)([m]),w=(0,r.A)(y,2),S=w[0],x=w[1];return(0,o.o)(function(){var e=S[0];h!==e&&b(h,e)},[S]),(0,o.o)(function(){s(u)||g(u)},[u]),[v,(0,a.A)(function(e,t){g(e,t),x([m],t)})]}},9370:(e,t,n)=>{"use strict";function r(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}n.d(t,{A:()=>r})},9383:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9482:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?n(a,t,r):a[t]=e[t]);return a}(e)}(n(5959)),a=n(568),o=c(n(8784)),i=n(414),s=n(906),l=c(n(8100)),u=c(n(7222));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p="react-grid-layout";let f=!1;try{f=/firefox/i.test(navigator.userAgent)}catch(e){}class h extends r.Component{constructor(){super(...arguments),d(this,"state",{activeDrag:null,layout:(0,i.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,i.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),d(this,"dragEnterCounter",0),d(this,"onDragStart",(e,t,n,r)=>{let{e:a,node:o}=r;const{layout:s}=this.state,l=(0,i.getLayoutItem)(s,e);if(!l)return;const u={w:l.w,h:l.h,x:l.x,y:l.y,placeholder:!0,i:e};return this.setState({oldDragItem:(0,i.cloneLayoutItem)(l),oldLayout:s,activeDrag:u}),this.props.onDragStart(s,l,l,null,a,o)}),d(this,"onDrag",(e,t,n,r)=>{let{e:a,node:o}=r;const{oldDragItem:s}=this.state;let{layout:l}=this.state;const{cols:u,allowOverlap:c,preventCollision:d}=this.props,p=(0,i.getLayoutItem)(l,e);if(!p)return;const f={w:p.w,h:p.h,x:p.x,y:p.y,placeholder:!0,i:e};l=(0,i.moveElement)(l,p,t,n,!0,d,(0,i.compactType)(this.props),u,c),this.props.onDrag(l,s,p,f,a,o),this.setState({layout:c?l:(0,i.compact)(l,(0,i.compactType)(this.props),u),activeDrag:f})}),d(this,"onDragStop",(e,t,n,r)=>{let{e:a,node:o}=r;if(!this.state.activeDrag)return;const{oldDragItem:s}=this.state;let{layout:l}=this.state;const{cols:u,preventCollision:c,allowOverlap:d}=this.props,p=(0,i.getLayoutItem)(l,e);if(!p)return;l=(0,i.moveElement)(l,p,t,n,!0,c,(0,i.compactType)(this.props),u,d);const f=d?l:(0,i.compact)(l,(0,i.compactType)(this.props),u);this.props.onDragStop(f,s,p,null,a,o);const{oldLayout:h}=this.state;this.setState({activeDrag:null,layout:f,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(f,h)}),d(this,"onResizeStart",(e,t,n,r)=>{let{e:a,node:o}=r;const{layout:s}=this.state,l=(0,i.getLayoutItem)(s,e);l&&(this.setState({oldResizeItem:(0,i.cloneLayoutItem)(l),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(s,l,l,null,a,o))}),d(this,"onResize",(e,t,n,r)=>{let{e:a,node:o,size:s,handle:l}=r;const{oldResizeItem:u}=this.state,{layout:c}=this.state,{cols:d,preventCollision:p,allowOverlap:f}=this.props;let h,g,m,v=!1;const[b,y]=(0,i.withLayoutItem)(c,e,e=>{let r;return g=e.x,m=e.y,-1!==["sw","w","nw","n","ne"].indexOf(l)&&(-1!==["sw","nw","w"].indexOf(l)&&(g=e.x+(e.w-t),t=e.x!==g&&g<0?e.w:t,g=g<0?0:g),-1!==["ne","n","nw"].indexOf(l)&&(m=e.y+(e.h-n),n=e.y!==m&&m<0?e.h:n,m=m<0?0:m),v=!0),p&&!f&&(r=(0,i.getAllCollisions)(c,{...e,w:t,h:n,x:g,y:m}).filter(t=>t.i!==e.i).length>0,r&&(m=e.y,n=e.h,g=e.x,t=e.w,v=!1)),e.w=t,e.h=n,e});if(!y)return;if(h=b,v){const e=!0;h=(0,i.moveElement)(b,y,g,m,e,this.props.preventCollision,(0,i.compactType)(this.props),d,f)}const w={w:y.w,h:y.h,x:y.x,y:y.y,static:!0,i:e};this.props.onResize(h,u,y,w,a,o),this.setState({layout:f?h:(0,i.compact)(h,(0,i.compactType)(this.props),d),activeDrag:w})}),d(this,"onResizeStop",(e,t,n,r)=>{let{e:a,node:o}=r;const{layout:s,oldResizeItem:l}=this.state,{cols:u,allowOverlap:c}=this.props,d=(0,i.getLayoutItem)(s,e),p=c?s:(0,i.compact)(s,(0,i.compactType)(this.props),u);this.props.onResizeStop(p,l,d,null,a,o);const{oldLayout:f}=this.state;this.setState({activeDrag:null,layout:p,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(p,f)}),d(this,"onDragOver",e=>{if(e.preventDefault(),e.stopPropagation(),f&&!e.nativeEvent.target?.classList.contains(p))return!1;const{droppingItem:t,onDropDragOver:n,margin:a,cols:o,rowHeight:i,maxRows:l,width:u,containerPadding:c,transformScale:d}=this.props,h=n?.(e);if(!1===h)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const g={...t,...h},{layout:m}=this.state,v=e.currentTarget.getBoundingClientRect(),b=e.clientX-v.left,y=e.clientY-v.top,w={left:b/d,top:y/d,e};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:e,top:t}=this.state.droppingPosition;(e!=b||t!=y)&&this.setState({droppingPosition:w})}}else{const e={cols:o,margin:a,maxRows:l,rowHeight:i,containerWidth:u,containerPadding:c||a},t=(0,s.calcXY)(e,y,b,g.w,g.h);this.setState({droppingDOMNode:r.createElement("div",{key:g.i}),droppingPosition:w,layout:[...m,{...g,x:t.x,y:t.y,static:!1,isDraggable:!0}]})}}),d(this,"removeDroppingPlaceholder",()=>{const{droppingItem:e,cols:t}=this.props,{layout:n}=this.state,r=(0,i.compact)(n.filter(t=>t.i!==e.i),(0,i.compactType)(this.props),t,this.props.allowOverlap);this.setState({layout:r,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),d(this,"onDragLeave",e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter--,0===this.dragEnterCounter&&this.removeDroppingPlaceholder()}),d(this,"onDragEnter",e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter++}),d(this,"onDrop",e=>{e.preventDefault(),e.stopPropagation();const{droppingItem:t}=this.props,{layout:n}=this.state,r=n.find(e=>e.i===t.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(n,r,e)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(e,t){let n;return t.activeDrag?null:((0,a.deepEqual)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,i.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n?{layout:(0,i.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,i.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}shouldComponentUpdate(e,t){return this.props.children!==e.children||!(0,i.fastRGLPropsEqual)(this.props,e,a.deepEqual)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}componentDidUpdate(e,t){if(!this.state.activeDrag){const e=this.state.layout,n=t.layout;this.onLayoutMaybeChanged(e,n)}}containerHeight(){if(!this.props.autoSize)return;const e=(0,i.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}onLayoutMaybeChanged(e,t){t||(t=this.state.layout),(0,a.deepEqual)(t,e)||this.props.onLayoutChange(e)}placeholder(){const{activeDrag:e}=this.state;if(!e)return null;const{width:t,cols:n,margin:a,containerPadding:o,rowHeight:i,maxRows:s,useCSSTransforms:u,transformScale:c}=this.props;return r.createElement(l.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder "+(this.state.resizing?"placeholder-resizing":""),containerWidth:t,cols:n,margin:a,containerPadding:o||a,maxRows:s,rowHeight:i,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:u,transformScale:c},r.createElement("div",null))}processGridItem(e,t){if(!e||!e.key)return;const n=(0,i.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;const{width:a,cols:o,margin:s,containerPadding:u,rowHeight:c,maxRows:d,isDraggable:p,isResizable:f,isBounded:h,useCSSTransforms:g,transformScale:m,draggableCancel:v,draggableHandle:b,resizeHandles:y,resizeHandle:w}=this.props,{mounted:S,droppingPosition:x}=this.state,E="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&p,C="boolean"==typeof n.isResizable?n.isResizable:!n.static&&f,A=n.resizeHandles||y,O=E&&h&&!1!==n.isBounded;return r.createElement(l.default,{containerWidth:a,cols:o,margin:s,containerPadding:u||s,maxRows:d,rowHeight:c,cancel:v,handle:b,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:E,isResizable:C,isBounded:O,useCSSTransforms:g&&S,usePercentages:!S,transformScale:m,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?x:void 0,resizeHandles:A,resizeHandle:w},e)}render(){const{className:e,style:t,isDroppable:n,innerRef:a}=this.props,s=(0,o.default)(p,e),l={height:this.containerHeight(),...t};return r.createElement("div",{ref:a,className:s,style:l,onDrop:n?this.onDrop:i.noop,onDragLeave:n?this.onDragLeave:i.noop,onDragEnter:n?this.onDragEnter:i.noop,onDragOver:n?this.onDragOver:i.noop},r.Children.map(this.props.children,e=>this.processGridItem(e)),n&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}t.default=h,d(h,"displayName","ReactGridLayout"),d(h,"propTypes",u.default),d(h,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:i.noop,onDragStart:i.noop,onDrag:i.noop,onDragStop:i.noop,onResizeStart:i.noop,onResize:i.noop,onResizeStop:i.noop,onDrop:i.noop,onDropDragOver:i.noop})},9524:(e,t,n)=>{"use strict";const r=Symbol("SemVer ANY");class a{static get ANY(){return r}constructor(e,t){if(t=o(t),e instanceof a){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new c(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=o(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=a;const o=n(7095),{safeRe:i,t:s}=n(6850),l=n(3811),u=n(9796),c=n(7944),d=n(8395)},9572:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(694),a=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(e){return e&&"object"===(0,r.A)(e)&&(e.$$typeof===a||e.$$typeof===o)&&e.type===i}},9613:(e,t,n)=>{"use strict";const r=n(5860);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},9630:e=>{"use strict";const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9644:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,{A:()=>r})},9796:e=>{"use strict";const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},9893:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},9954:(e,t,n)=>{"use strict";t.__esModule=!0,t.cloneElement=function(e,t){return t.style&&e.props.style&&(t.style=i(i({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),a.default.cloneElement(e,t)};var r,a=(r=n(5959))&&r.__esModule?r:{default:r};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},9997:(e,t)=>{"use strict";t.createSelector=function(e,t){const n="string"==typeof e?()=>e:e;let r="aria-label";return t?r=t:n().startsWith("data-testid")&&(r="data-testid"),{selector:n,apply:(...e)=>({[r]:n(...e)})}},t.getJestSelectors=(e,t=[])=>n=>Object.entries(e).reduce((e,[r,a])=>({...e,[r]:(e=!1,...o)=>{const i="object"==typeof a&&"selector"in a?a.selector:a,s="function"==typeof i?i(...o):i;return s.startsWith("data-testid")||t.includes(r)?e?n.queryByTestId(s):n.getByTestId(s):e?n.queryByLabelText(s):n.getByLabelText(s)}}),{})}},g={};function m(e){var t=g[e];if(void 0!==t)return t.exports;var n=g[e]={id:e,exports:{}};return h[e].call(n.exports,n,n.exports,m),n.exports}m.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return m.d(t,{a:t}),t},f=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,m.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);m.r(n);var r={};p=p||[null,f({}),f([]),f(f)];for(var a=2&t&&e;("object"==typeof a||"function"==typeof a)&&!~p.indexOf(a);a=f(a))Object.getOwnPropertyNames(a).forEach(t=>r[t]=()=>e[t]);return r.default=()=>e,m.d(n,r),n},m.d=(e,t)=>{for(var n in t)m.o(t,n)&&!m.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},m.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),m.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),m.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},m.nc=void 0;var v={};return(()=>{"use strict";m.r(v),m.d(v,{plugin:()=>bl});var e=m(7781),t=m(8531),n=m(2007),r=m(7774),a=m(3241),o=m(5959),i=m.n(o);const s=({context:e,value:n,onChange:s,item:l})=>{var u;const c=(0,t.getTemplateSrv)(),d=(0,o.useMemo)(()=>{var t;return c.replace((0,a.get)(e.options,(null===(t=l.settings)||void 0===t?void 0:t.datasourceKey)||""))},[e.options,null===(u=l.settings)||void 0===u?void 0:u.datasourceKey,c]);return i().createElement(r.lp,{value:n,onChange:e=>{s(e)},datasourceUid:d})};var l=m(6089),u=m(1576);function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,u.A)(e,t)}var d=m(8102),p=m(7694),f=m(200);function h(e,t){var n=(0,o.useState)(function(){return{inputs:t,result:e()}})[0],r=(0,o.useRef)(!0),a=(0,o.useRef)(n),i=r.current||Boolean(t&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.current.inputs))?a.current:{inputs:t,result:e()};return(0,o.useEffect)(function(){r.current=!1,a.current=i},[i]),i.result}var g=h,b=function(e,t){return h(function(){return e},t)},y=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},w=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},S=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},x={top:0,right:0,bottom:0,left:0},E=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?x:n,a=e.border,o=void 0===a?x:a,i=e.padding,s=void 0===i?x:i,l=y(w(t,r)),u=y(S(t,o)),c=y(S(u,s));return{marginBox:l,borderBox:y(t),paddingBox:u,contentBox:c,margin:r,border:o,padding:s}},C=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(){throw new Error("Invariant failed")}(),n},A=function(e,t){var n,r,a=e.borderBox,o=e.border,i=e.margin,s=e.padding,l=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return E({borderBox:l,border:o,margin:i,padding:s})},O=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),A(e,t)},R=function(e,t){var n={top:C(t.marginTop),right:C(t.marginRight),bottom:C(t.marginBottom),left:C(t.marginLeft)},r={top:C(t.paddingTop),right:C(t.paddingRight),bottom:C(t.paddingBottom),left:C(t.paddingLeft)},a={top:C(t.borderTopWidth),right:C(t.borderRightWidth),bottom:C(t.borderBottomWidth),left:C(t.borderLeftWidth)};return E({borderBox:e,margin:n,padding:r,border:a})},I=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return R(t,n)},D=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function P(e,t){return e===t||!(!D(e)||!D(t))}function _(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!P(e[n],t[n]))return!1;return!0}const T=function(e,t){var n;void 0===t&&(t=_);var r,a=[],o=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return o&&n===this&&t(i,a)||(r=e.apply(this,i),o=!0,n=this,a=i),r}},k=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];t=a,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};var M=m(8398),B=m.n(M);function L(e,t){}function N(){}function V(e,t,n){var r=t.map(function(t){var r,a,o=(r=n,a=t.options,(0,d.A)({},r,{},a));return e.addEventListener(t.eventName,t.fn,o),function(){e.removeEventListener(t.eventName,t.fn,o)}});return function(){r.forEach(function(e){e()})}}L.bind(null,"warn"),L.bind(null,"error");function F(e){this.message=e}function j(e,t){if(!e)throw new F("Invariant failed")}F.prototype.toString=function(){return this.message};var $=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=N,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof F&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}c(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=V(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof F))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(i().Component),z=function(e){return e+1},H=function(e,t){var n=e.droppableId===t.droppableId,r=z(e.index),a=z(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+a+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+a+"\n  "},U=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},G=function(e){return"\n  The item has returned to its starting position\n  of "+z(e.index)+"\n"},W=function(e){return"\n  You have lifted an item in position "+z(e.source.index)+"\n"},q=function(e){var t=e.destination;if(t)return H(e.source,t);var n=e.combine;return n?U(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Q=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+G(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+H(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+U(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+G(e.source)+"\n  "},Y={x:0,y:0},X=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},K=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Z=function(e,t){return e.x===t.x&&e.y===t.y},J=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},ee=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},te=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},ne=function(e,t){return Math.min.apply(Math,t.map(function(t){return te(e,t)}))},re=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},ae=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},oe=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},ie=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=y({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):y(e)},se=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,a=e.frame,o=function(e,t){return t?ae(e,t.scroll.diff.displacement):e}(t.marginBox,a),i=function(e,t,n){var r;return n&&n.increasedBy?(0,d.A)({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:ie(i,a)}},le=function(e,t){e.frame||j(!1);var n=e.frame,r=K(t,n.scroll.initial),a=J(r),o=(0,d.A)({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}}),i=se({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return(0,d.A)({},e,{frame:o,subject:i})};function ue(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function ce(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function de(e,t){if(e.find)return e.find(t);var n=ce(e,t);return-1!==n?e[n]:void 0}function pe(e){return Array.prototype.slice.call(e)}var fe=T(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),he=T(function(e){return e.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),ge=T(function(e){return ue(e)}),me=T(function(e){return ue(e)}),ve=T(function(e,t){var n=me(t).filter(function(t){return e===t.descriptor.droppableId}).sort(function(e,t){return e.descriptor.index-t.descriptor.index});return n});function be(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function ye(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var we=T(function(e,t){return t.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),Se=function(e,t){return e.descriptor.droppableId===t.descriptor.id},xe={point:Y,value:0},Ee={invisible:{},visible:{},all:[]},Ce={displaced:Ee,displacedBy:xe,at:null},Ae=function(e,t){return function(n){return e<=n&&n<=t}},Oe=function(e){var t=Ae(e.top,e.bottom),n=Ae(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;var i=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!i||!s)||i&&o||s&&a}},Re=function(e){var t=Ae(e.top,e.bottom),n=Ae(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},Ie={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},De={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Pe=function(e){var t=e.target,n=e.destination,r=e.viewport,a=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,i=a?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Y;return ae(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(i,n,o)&&function(e,t,n){return n(t)(e)}(i,r,o)},_e=function(e){return Pe((0,d.A)({},e,{isVisibleThroughFrameFn:Re}))};function Te(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,a=e.viewport,o=e.forceShouldAnimate,i=e.last;return t.reduce(function(e,t){var s,l=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return y(w(n,r))}(t,r),u=t.descriptor.id;if(e.all.push(u),s={target:l,destination:n,viewport:a,withDroppableDisplacement:!0},!Pe((0,d.A)({},s,{isVisibleThroughFrameFn:Oe})))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,a=t.visible;if(r[e])return!1;var o=a[e];return!o||o.shouldAnimate}(u,i,o),p={draggableId:u,shouldAnimate:c};return e.visible[u]=p,e},{all:[],visible:{},invisible:{}})}function ke(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,a=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:Ee,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:o}}}}function Me(e){var t=e.draggable,n=e.insideDestination,r=e.destination,a=e.viewport,o=e.displacedBy,i=e.last,s=e.index,l=e.forceShouldAnimate,u=Se(t,r);if(null==s)return ke({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var c=de(n,function(e){return e.descriptor.index===s});if(!c)return ke({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var d=we(t,n),p=n.indexOf(c);return{displaced:Te({afterDragging:d.slice(p),destination:r,displacedBy:o,last:i,viewport:a.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Be(e,t){return Boolean(t.effected[e])}var Le=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Ne=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Ve=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return ee(t.line,n.marginBox[t.end]+Le(t,r),Ne(t,n.marginBox,r))},Fe=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return ee(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Ne(t,n.marginBox,r))},je=function(e,t){var n=e.frame;return n?X(t,n.scroll.diff.displacement):t},$e=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,o=e.afterCritical,i=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?function(e){var t=e.impact,n=e.draggable,r=e.draggables,a=e.droppable,o=e.afterCritical,i=ve(a.descriptor.id,r),s=n.page,l=a.axis;if(!i.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return ee(t.line,n.contentBox[t.start]+Le(t,r),Ne(t,n.contentBox,r))}({axis:l,moveInto:a.page,isMoving:s});var u=t.displaced,c=t.displacedBy,d=u.all[0];if(d){var p=r[d];if(Be(d,o))return Fe({axis:l,moveRelativeTo:p.page,isMoving:s});var f=A(p.page,c.point);return Fe({axis:l,moveRelativeTo:f,isMoving:s})}var h=i[i.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Be(h.descriptor.id,o)){var g=A(h.page,J(o.displacedBy.point));return Ve({axis:l,moveRelativeTo:g,isMoving:s})}return Ve({axis:l,moveRelativeTo:h.page,isMoving:s})}({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:o}):function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,a=ye(n);a||j(!1);var o=a.draggableId,i=r[o].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,a=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return Be(r,n)?o?Y:J(a.point):o?a.point:Y}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return X(i,s)}({impact:t,draggables:a,afterCritical:o}):i}(e),n=e.droppable;return n?je(n,t):t},ze=function(e,t){var n=K(t,e.scroll.initial),r=J(n);return{frame:y({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function He(e,t){return e.map(function(e){return t[e]})}var Ue=function(e){var t,n,r=e.pageBorderBoxCenter,a=e.draggable,o=(t=e.viewport,n=r,X(t.scroll.diff.displacement,n)),i=K(o,a.page.borderBox.center);return X(a.client.borderBox.center,i)},Ge=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,o=e.withDroppableDisplacement,i=e.onlyOnMainAxis,s=void 0!==i&&i,l=K(r,t.page.borderBox.center),u={target:ae(t.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:a};return s?function(e){return Pe((0,d.A)({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=Ae(e.top,e.bottom),r=Ae(e.left,e.right);return function(e){return t===Ie?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(u):_e(u)},We=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.draggables,o=e.previousImpact,i=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var c=ve(r.descriptor.id,a),p=Se(n,r),f=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!be(o))return null;function i(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return(0,d.A)({},o,{at:t})}var s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?i(l):null;var u=we(n,a);if(!l)return u.length?i(u[u.length-1].descriptor.id):null;var c=ce(u,function(e){return e.descriptor.id===l});-1===c&&j(!1);var p=c-1;return p<0?null:i(u[p].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:c,previousImpact:o})||function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.draggables,o=e.destination,i=e.insideDestination,s=e.previousImpact,l=e.viewport,u=e.afterCritical,c=s.at;if(c||j(!1),"REORDER"===c.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,a=e.location;if(!r.length)return null;var o=a.index,i=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return i<s||i>(n?l:l+1)?null:i}({isMovingForward:t,isInHomeList:n,location:c.destination,insideDestination:i});return null==d?null:Me({draggable:r,insideDestination:i,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var p=function(e){var t=e.isMovingForward,n=e.draggables,r=e.combine,a=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var o=r.draggableId,i=n[o].descriptor.index;return Be(o,a)?t?i:i-1:t?i+1:i}({isMovingForward:t,destination:o,displaced:s.displaced,draggables:a,combine:c.combine,afterCritical:u});return null==p?null:Me({draggable:r,insideDestination:i,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})}({isMovingForward:t,isInHomeList:p,draggable:n,draggables:a,destination:r,insideDestination:c,previousImpact:o,viewport:i,afterCritical:u});if(!f)return null;var h=$e({impact:f,draggable:n,droppable:r,draggables:a,afterCritical:u});if(Ge({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ue({pageBorderBoxCenter:h,draggable:n,viewport:i}),impact:f,scrollJumpRequest:null};var g=K(h,s),m=function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,o=e.maxScrollChange,i=ze(n,X(n.scroll.current,o)),s=r.frame?le(r,X(r.frame.scroll.current,o)):r,l=t.displaced,u=Te({afterDragging:He(l.all,a),destination:r,displacedBy:t.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),c=Te({afterDragging:He(l.all,a),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),p={},f={},h=[l,u,c];return l.all.forEach(function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,h);t?f[e]=t:p[e]=!0}),(0,d.A)({},t,{displaced:{all:l.all,invisible:p,visible:f}})}({impact:f,viewport:i,destination:r,draggables:a,maxScrollChange:g});return{clientSelection:l,impact:m,scrollJumpRequest:g}},qe=function(e){var t=e.subject.active;return t||j(!1),t},Qe=function(e,t){var n=e.page.borderBox.center;return Be(e.descriptor.id,t)?K(n,t.displacedBy.point):n},Ye=function(e,t){var n=e.page.borderBox;return Be(e.descriptor.id,t)?ae(n,J(t.displacedBy.point)):n},Xe=T(function(e,t){var n=t[e.line];return{value:n,point:ee(e.line,n)}}),Ke=function(e,t){return(0,d.A)({},e,{scroll:(0,d.A)({},e.scroll,{max:t})})},Ze=function(e,t,n){var r=e.frame;Se(t,e)&&j(!1),e.subject.withPlaceholder&&j(!1);var a=Xe(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return ee(r.line,t[r.line]);var a=e.subject.page.contentBox[r.size],o=ve(e.descriptor.id,n).reduce(function(e,t){return e+t.client.marginBox[r.size]},0)+t[r.line]-a;return o<=0?null:ee(r.line,o)}(e,a,n),i={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){var s=se({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return(0,d.A)({},e,{subject:s})}var l=o?X(r.scroll.max,o):r.scroll.max,u=Ke(r,l),c=se({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:u});return(0,d.A)({},e,{subject:c,frame:u})},Je=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},et=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Je(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),a=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],i=r||o,s=i.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!a)return null;var u="MOVE_DOWN"===n||"MOVE_RIGHT"===n,c=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,h=p.droppables;return l?We({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:i,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,o=e.draggables,i=e.droppables,s=e.viewport,l=e.afterCritical,u=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,a=e.droppables,o=e.viewport,i=r.subject.active;if(!i)return null;var s=r.axis,l=Ae(i[s.start],i[s.end]),u=ge(a).filter(function(e){return e!==r}).filter(function(e){return e.isEnabled}).filter(function(e){return Boolean(e.subject.active)}).filter(function(e){return Oe(o.frame)(qe(e))}).filter(function(e){var n=qe(e);return t?i[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<i[s.crossAxisStart]}).filter(function(e){var t=qe(e),n=Ae(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(i[s.start])||n(i[s.end])}).sort(function(e,n){var r=qe(e)[s.crossAxisStart],a=qe(n)[s.crossAxisStart];return t?r-a:a-r}).filter(function(e,t,n){return qe(e)[s.crossAxisStart]===qe(n[0])[s.crossAxisStart]});if(!u.length)return null;if(1===u.length)return u[0];var c=u.filter(function(e){return Ae(qe(e)[s.start],qe(e)[s.end])(n[s.line])});return 1===c.length?c[0]:c.length>1?c.sort(function(e,t){return qe(e)[s.start]-qe(t)[s.start]})[0]:u.sort(function(e,t){var r=ne(n,oe(qe(e))),a=ne(n,oe(qe(t)));return r!==a?r-a:qe(e)[s.start]-qe(t)[s.start]})[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:i,viewport:s});if(!u)return null;var c=ve(u.descriptor.id,o),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,a=e.afterCritical,o=e.insideDestination.filter(function(e){return _e({target:Ye(e,a),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(e,n){var o=te(t,je(r,Qe(e,a))),i=te(t,je(r,Qe(n,a)));return o<i?-1:i<o?1:e.descriptor.index-n.descriptor.index});return o[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:u,insideDestination:c,afterCritical:l}),p=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,o=e.draggables,i=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var u={displaced:Ee,displacedBy:xe,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},c=$e({impact:u,draggable:a,droppable:i,draggables:o,afterCritical:l}),d=Se(a,i)?i:Ze(i,a,o);return Ge({draggable:a,destination:d,newPageBorderBoxCenter:c,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}var p,f=Boolean(t[i.axis.line]<=n.page.borderBox.center[i.axis.line]),h=(p=n.descriptor.index,n.descriptor.id===a.descriptor.id||f?p:p+1);return Me({draggable:a,insideDestination:r,destination:i,viewport:s,displacedBy:Xe(i.axis,a.displaceBy),last:Ee,index:h})}({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:c,viewport:s,afterCritical:l});if(!p)return null;var f=$e({impact:p,draggable:r,droppable:u,draggables:o,afterCritical:l});return{clientSelection:Ue({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:p,scrollJumpRequest:null}}({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:i,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function tt(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function nt(e){var t=Ae(e.top,e.bottom),n=Ae(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}var rt=function(e,t){return y(ae(e,t))};function at(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var ot=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,a=e.droppables,o=e.previousImpact,i=e.viewport,s=e.afterCritical,l=rt(n.page.borderBox,t),u=function(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,a=ge(r).filter(function(e){if(!e.isEnabled)return!1;var n,r,a=e.subject.active;if(!a)return!1;if(r=a,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(nt(a)(t.center))return!0;var o=e.axis,i=a.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],u=Ae(a[o.crossAxisStart],a[o.crossAxisEnd]),c=u(s),d=u(l);return!c&&!d||(c?s<i:l>i)});return a.length?1===a.length?a[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.candidates,r=e.draggable.page.borderBox.center,a=n.map(function(e){var n=e.axis,a=ee(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:te(r,a)}}).sort(function(e,t){return t.distance-e.distance});return a[0]?a[0].id:null}({pageBorderBox:t,draggable:n,candidates:a}):null}({pageBorderBox:l,draggable:n,droppables:a});if(!u)return Ce;var c=a[u],d=ve(c.descriptor.id,r),p=function(e,t){var n=e.frame;return n?rt(t,n.scroll.diff.value):t}(c,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,a=e.destination,o=e.insideDestination,i=e.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,l=Xe(a.axis,t.displaceBy),u=l.value,c=n[s.start],d=n[s.end],p=de(we(t,o),function(e){var t=e.descriptor.id,n=e.page.borderBox,a=n[s.size]/4,o=Be(t,i),l=at({displaced:r.displaced,id:t});return o?l?d>n[s.start]+a&&d<n[s.end]-a:c>n[s.start]-u+a&&c<n[s.end]-u-a:l?d>n[s.start]+u+a&&d<n[s.end]+u-a:c>n[s.start]+a&&c<n[s.end]-a});return p?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:a.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:o,destination:c,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,a=e.insideDestination,o=e.last,i=e.viewport,s=e.afterCritical,l=r.axis,u=Xe(r.axis,n.displaceBy),c=u.value,d=t[l.start],p=t[l.end],f=function(e){var t=e.draggable,n=e.closest;return n?e.inHomeList&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:de(we(n,a),function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Be(t,s),a=at({displaced:o,id:t});return r?a?p<=n:d<n-c:a?p<=n+c:d<n}),inHomeList:Se(n,r)});return Me({draggable:n,insideDestination:a,destination:r,viewport:i,last:o,displacedBy:u,index:f})}({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:c,insideDestination:d,last:o.displaced,viewport:i,afterCritical:s})},it=function(e,t){var n;return(0,d.A)({},e,((n={})[t.descriptor.id]=t,n))},st=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,a=e.viewport,o=e.impact,i=e.scrollJumpRequest,s=a||t.viewport,l=r||t.dimensions,u=n||t.current.client.selection,c=K(u,t.initial.client.selection),p={offset:c,selection:u,borderBoxCenter:X(t.initial.client.borderBoxCenter,c)},f={selection:X(p.selection,s.scroll.current),borderBoxCenter:X(p.borderBoxCenter,s.scroll.current),offset:X(p.offset,s.scroll.diff.value)},h={client:p,page:f};if("COLLECTING"===t.phase)return(0,d.A)({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:h});var g=l.draggables[t.critical.draggable.id],m=o||ot({pageOffset:f.offset,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),v=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,a=e.impact,o=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,a=Je(t),o=Je(n);if(!a)return r;if(a===o)return r;var i=r[a];if(!i.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||j(!1);var n=e.frame;if(!n){var r=se({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return(0,d.A)({},e,{subject:r})}var a=t.oldFrameMaxScroll;a||j(!1);var o=Ke(n,a),i=se({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return(0,d.A)({},e,{subject:i,frame:o})}(i);return it(r,s)}({previousImpact:e.previousImpact,impact:a,droppables:r}),i=Je(a);if(!i)return o;var s=r[i];if(Se(t,s))return o;if(s.subject.withPlaceholder)return o;var l=Ze(s,t,n);return it(o,l)}({draggable:g,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return(0,d.A)({},t,{current:h,dimensions:{draggables:l.draggables,droppables:v},impact:m,viewport:s,scrollJumpRequest:i||null,forceShouldAnimate:!i&&null})},lt=function(e){var t=e.impact,n=e.viewport,r=e.draggables,a=e.destination,o=e.forceShouldAnimate,i=t.displaced,s=function(e,t){return e.map(function(e){return t[e]})}(i.all,r),l=Te({afterDragging:s,destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:i});return(0,d.A)({},t,{displaced:l})},ut=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,o=e.viewport,i=e.afterCritical,s=$e({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:i});return Ue({pageBorderBoxCenter:s,draggable:n,viewport:o})},ct=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&j(!1);var a=t.impact,o=r||t.viewport,i=n||t.dimensions,s=i.draggables,l=i.droppables,u=s[t.critical.draggable.id],c=Je(a);c||j(!1);var d=l[c],p=lt({impact:a,viewport:o,destination:d,draggables:s}),f=ut({impact:p,draggable:u,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return st({impact:p,clientSelection:f,state:t,dimensions:i,viewport:o})},dt=function(e){var t=e.draggable,n=e.home,r=e.draggables,a=e.viewport,o=Xe(n.axis,t.displaceBy),i=ve(n.descriptor.id,r),s=i.indexOf(t);-1===s&&j(!1);var l,u=i.slice(s+1),c=u.reduce(function(e,t){return e[t.descriptor.id]=!0,e},{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:c};return{impact:{displaced:Te({afterDragging:u,destination:n,displacedBy:o,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},pt=function(e){return"SNAP"===e.movementMode},ft=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:it(e.droppables,t)}}(e.dimensions,t);return!pt(e)||n?st({state:e,dimensions:r}):ct({state:e,dimensions:r})};function ht(e){return e.isDragging&&"SNAP"===e.movementMode?(0,d.A)({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var gt={phase:"IDLE",completed:null,shouldFlush:!1},mt=function(e,t){if(void 0===e&&(e=gt),"FLUSH"===t.type)return(0,d.A)({},gt,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&j(!1);var n=t.payload,r=n.critical,a=n.clientSelection,o=n.viewport,i=n.dimensions,s=n.movementMode,l=i.draggables[r.draggable.id],u=i.droppables[r.droppable.id],c={selection:a,borderBoxCenter:l.client.borderBox.center,offset:Y},p={client:c,page:{selection:X(c.selection,o.scroll.initial),borderBoxCenter:X(c.selection,o.scroll.initial),offset:X(c.selection,o.scroll.diff.value)}},f=ge(i.droppables).every(function(e){return!e.isFixedOnPage}),h=dt({draggable:l,home:u,draggables:i.draggables,viewport:o}),g=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:i,initial:p,current:p,isWindowScrollAllowed:f,impact:g,afterCritical:h.afterCritical,onLiftImpact:g,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&j(!1),(0,d.A)({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&j(!1),function(e){var t=e.state,n=e.published,r=n.modified.map(function(e){var n=t.dimensions.droppables[e.droppableId];return le(n,e.scroll)}),a=(0,d.A)({},t.dimensions.droppables,{},fe(r)),o=he(function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return t.map(function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||j(!1),t}(n[t]),i=o.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,a=A(t.client,n),o=O(a,r);return(0,d.A)({},t,{placeholder:(0,d.A)({},t.placeholder,{client:a}),client:a,page:o})}({draggable:e,offset:X(a,i),initialWindowScroll:r.scroll.initial});return s})}({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),i=(0,d.A)({},t.dimensions.draggables,{},o);n.removals.forEach(function(e){delete i[e]});var s={droppables:a,draggables:i},l=Je(t.impact),u=l?s.droppables[l]:null,c=s.draggables[t.critical.draggable.id],p=s.droppables[t.critical.droppable.id],f=dt({draggable:c,home:p,draggables:i,viewport:t.viewport}),h=f.impact,g=f.afterCritical,m=u&&u.isCombineEnabled?t.impact:h,v=ot({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:g}),b=(0,d.A)({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:v,onLiftImpact:h,dimensions:s,afterCritical:g,forceShouldAnimate:!1});return"COLLECTING"===t.phase?b:(0,d.A)({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;tt(e)||j(!1);var m=t.payload.client;return Z(m,e.current.client.selection)?e:st({state:e,clientSelection:m,impact:pt(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return ht(e);if("COLLECTING"===e.phase)return ht(e);tt(e)||j(!1);var v=t.payload,b=v.id,y=v.newScroll,w=e.dimensions.droppables[b];if(!w)return e;var S=le(w,y);return ft(e,S,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;tt(e)||j(!1);var x=t.payload,E=x.id,C=x.isEnabled,R=e.dimensions.droppables[E];R||j(!1),R.isEnabled===C&&j(!1);var I=(0,d.A)({},R,{isEnabled:C});return ft(e,I,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;tt(e)||j(!1);var D=t.payload,P=D.id,_=D.isCombineEnabled,T=e.dimensions.droppables[P];T||j(!1),T.isCombineEnabled===_&&j(!1);var k=(0,d.A)({},T,{isCombineEnabled:_});return ft(e,k,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;tt(e)||j(!1),e.isWindowScrollAllowed||j(!1);var M=t.payload.newScroll;if(Z(e.viewport.scroll.current,M))return ht(e);var B=ze(e.viewport,M);return pt(e)?ct({state:e,viewport:B}):st({state:e,viewport:B})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!tt(e))return e;var L=t.payload.maxScroll;if(Z(L,e.viewport.scroll.max))return e;var N=(0,d.A)({},e.viewport,{scroll:(0,d.A)({},e.viewport.scroll,{max:L})});return(0,d.A)({phase:"DRAGGING"},e,{viewport:N})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&j(!1);var V=et({state:e,type:t.type});return V?st({state:e,impact:V.impact,clientSelection:V.clientSelection,scrollJumpRequest:V.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var F=t.payload.reason;return"COLLECTING"!==e.phase&&j(!1),(0,d.A)({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:F})}if("DROP_ANIMATE"===t.type){var $=t.payload,z=$.completed,H=$.dropDuration,U=$.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&j(!1),{phase:"DROP_ANIMATING",completed:z,dropDuration:H,newHomeClientOffset:U,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},vt=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},bt=function(){return{type:"COLLECTION_STARTING",payload:null}},yt=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},wt=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},St=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},xt=function(e){return{type:"MOVE",payload:e}},Et=function(){return{type:"MOVE_UP",payload:null}},Ct=function(){return{type:"MOVE_DOWN",payload:null}},At=function(){return{type:"MOVE_RIGHT",payload:null}},Ot=function(){return{type:"MOVE_LEFT",payload:null}},Rt=function(e){return{type:"DROP_COMPLETE",payload:e}},It=function(e){return{type:"DROP",payload:e}},Dt="cubic-bezier(.2,1,.1,1)",Pt=0,_t=.7,Tt=.75,kt="0.2s cubic-bezier(0.2, 0, 0, 1)",Mt={fluid:"opacity "+kt,snap:"transform "+kt+", opacity "+kt,drop:function(e){var t=e+"s "+Dt;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+kt,placeholder:"height "+kt+", width "+kt+", margin "+kt},Bt=function(e){return Z(e,Y)?null:"translate("+e.x+"px, "+e.y+"px)"},Lt=Bt,Nt=.33,Vt=.55-Nt,Ft=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var a=t(),o=r.payload.reason;if("COLLECTING"!==a.phase){if("IDLE"!==a.phase){"DROP_PENDING"===a.phase&&a.isWaiting&&j(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&j(!1);var i=a.critical,s=a.dimensions,l=s.draggables[a.critical.draggable.id],u=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,a=e.home,o=e.viewport,i=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:(0,d.A)({},r,{displaced:Ee}),didDropInsideDroppable:!0}:{impact:lt({draggables:t,impact:i,destination:a,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),c=u.impact,p=u.didDropInsideDroppable,f=p?be(c):null,h=p?ye(c):null,g={index:i.draggable.index,droppableId:i.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:g,reason:o,mode:a.movementMode,destination:f,combine:h},v=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,a=e.viewport,o=e.afterCritical,i=r.draggables,s=r.droppables,l=Je(t),u=l?s[l]:null,c=s[n.descriptor.droppableId],d=ut({impact:t,draggable:n,draggables:i,afterCritical:o,droppable:u||c,viewport:a});return K(d,n.client.borderBox.center)}({impact:c,draggable:l,dimensions:s,viewport:a.viewport,afterCritical:a.afterCritical}),b={critical:a.critical,afterCritical:a.afterCritical,result:m,impact:c};if(!Z(a.current.client.offset,v)||Boolean(m.combine)){var y=function(e){var t=e.reason,n=te(e.current,e.destination);if(n<=0)return Nt;if(n>=1500)return.55;var r=Nt+Vt*(n/1500);return Number(("CANCEL"===t?.6*r:r).toFixed(2))}({current:a.current.client.offset,destination:v,reason:o});n({type:"DROP_ANIMATE",payload:{newHomeClientOffset:v,dropDuration:y,completed:b}})}else n(Rt({completed:b}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},jt=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var $t=function(e){var t=function(e){var t=e.onWindowScroll,n=k(function(){t(jt())}),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),a=N;function o(){return a!==N}return{start:function(){o()&&j(!1),a=V(window,[r])},stop:function(){o()||j(!1),n.cancel(),a(),a=N},isActive:o}}({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},zt=function(e,t){t()},Ht=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Ut=function(e,t,n,r){if(e){var a=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),a=function(a){t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=function(){return t},a}(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}else n(r(t))},Gt=function(e,t){var n=function(e,t){var n,r=(n=[],{add:function(e){var t=setTimeout(function(){return function(e){var t=ce(n,function(t){return t.timerId===e});-1===t&&j(!1),n.splice(t,1)[0].callback()}(t)}),r={timerId:t,callback:e};n.push(r)},flush:function(){if(n.length){var e=[].concat(n);n.length=0,e.forEach(function(e){clearTimeout(e.timerId),e.callback()})}}}),a=null,o=function(n){a||j(!1),a=null,zt(0,function(){return Ut(e().onDragEnd,n,t,Q)})};return{beforeCapture:function(t,n){a&&j(!1),zt(0,function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})})},beforeStart:function(t,n){a&&j(!1),zt(0,function(){var r=e().onBeforeDragStart;r&&r(Ht(t,n))})},start:function(n,o){a&&j(!1);var i=Ht(n,o);a={mode:o,lastCritical:n,lastLocation:i.source,lastCombine:null},r.add(function(){zt(0,function(){return Ut(e().onDragStart,i,t,W)})})},update:function(n,o){var i=be(o),s=ye(o);a||j(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(n,a.lastCritical);l&&(a.lastCritical=n);var u,c,p=(c=i,!(null==(u=a.lastLocation)&&null==c||null!=u&&null!=c&&u.droppableId===c.droppableId&&u.index===c.index));p&&(a.lastLocation=i);var f=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(a.lastCombine,s);if(f&&(a.lastCombine=s),l||p||f){var h=(0,d.A)({},Ht(n,a.mode),{combine:s,destination:i});r.add(function(){zt(0,function(){return Ut(e().onDragUpdate,h,t,q)})})}},flush:function(){a||j(!1),r.flush()},drop:o,abort:function(){if(a){var e=(0,d.A)({},Ht(a.lastCritical,a.mode),{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var a=r.payload.critical;return n.beforeStart(a,r.payload.movementMode),t(r),void n.start(a,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var i=e.getState();"DRAGGING"===i.phase&&n.update(i.critical,i.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Wt=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&j(!1),e.dispatch(Rt({completed:r.completed}))}else t(n)}}},qt=function(e){var t=null,n=null;return function(r){return function(a){if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),"DROP_ANIMATE"===a.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame(function(){n=null,t=V(window,[o])})}}}},Qt=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(It({reason:r.reason})))}}}},Yt=p.compose,Xt=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,a=e.width,o=K({x:n,y:t},{x:a,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},Kt=function(){var e=document.documentElement;return e||j(!1),e},Zt=function(){var e=Kt();return Xt({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function Jt(e,t,n){return n.descriptor.id!==t.id&&n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var en,tn,nn=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},a=null,o=function(){a||(n.collectionStarting(),a=requestAnimationFrame(function(){a=null;var e=r,o=e.additions,i=e.removals,s=e.modified,l=Object.keys(o).map(function(e){return t.draggable.getById(e).getDimension(Y)}).sort(function(e,t){return e.descriptor.index-t.descriptor.index}),u=Object.keys(s).map(function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}}),c={additions:l,removals:Object.keys(i),modified:u};r={additions:{},removals:{},modified:{}},n.publish(c)}))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){a&&(cancelAnimationFrame(a),a=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(t){n||j(!1);var a=n.critical.draggable;"ADDITION"===t.type&&Jt(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Jt(e,a,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:function(r,a){e.droppable.exists(r)||j(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:function(r,a){n&&(e.droppable.exists(r)||j(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,a){n&&(e.droppable.exists(r)||j(!1),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:function(t){n&&j(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),i={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(a);return n={critical:i,unsubscribe:s},function(e){var t,n,r,a,o,i,s,l=e.critical,u=e.scrollOptions,c=e.registry,d=(t=jt(),n=Zt(),r=t.y,a=t.x,i=(o=Kt()).clientWidth,s=o.clientHeight,{frame:y({top:r,left:a,right:a+i,bottom:r+s}),scroll:{initial:t,current:t,max:n,diff:{value:Y,displacement:Y}}}),p=d.scroll.current,f=l.droppable,h=c.droppable.getAllByType(f.type).map(function(e){return e.callbacks.getDimensionAndWatchScroll(p,u)}),g=c.draggable.getAllByType(l.draggable.type).map(function(e){return e.getDimension(p)});return{dimensions:{draggables:he(g),droppables:fe(h)},critical:l,viewport:d}}({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach(function(e){return e.callbacks.dragStopped()}),n.unsubscribe(),n=null}}}},rn=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},an=function(e){window.scrollBy(e.x,e.y)},on=T(function(e){return ge(e).filter(function(e){return!!e.isEnabled&&!!e.frame})}),sn=function(e){return Math.pow(e,2)},ln=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,a=n-t;return 0===a?0:(r-t)/a},un=360,cn=1200,dn=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var n=ln({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=28*sn(1-n);return Math.ceil(r)}(t,n);return 0===o?0:a?Math.max(function(e,t){var n=t,r=cn,a=Date.now()-n;if(a>=cn)return e;if(a<un)return 1;var o=ln({startOfRange:un,endOfRange:r,current:a}),i=e*sn(o);return Math.ceil(i)}(o,r),1):o},pn=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,a=e.axis,o=e.shouldUseTimeDampening,i=function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}}(t,a);return n[a.end]<n[a.start]?dn({distanceToEdge:n[a.end],thresholds:i,dragStartTime:r,shouldUseTimeDampening:o}):-1*dn({distanceToEdge:n[a.start],thresholds:i,dragStartTime:r,shouldUseTimeDampening:o})},fn=re(function(e){return 0===e?0:e}),hn=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,a=e.center,o=e.shouldUseTimeDampening,i={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},s=pn({container:n,distanceToEdges:i,dragStartTime:t,axis:Ie,shouldUseTimeDampening:o}),l=pn({container:n,distanceToEdges:i,dragStartTime:t,axis:De,shouldUseTimeDampening:o}),u=fn({x:l,y:s});if(Z(u,Y))return null;var c=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,a=n.height>t.height,o=n.width>t.width;return o||a?o&&a?null:{x:o?0:r.x,y:a?0:r.y}:r}({container:n,subject:r,proposedScroll:u});return c?Z(c,Y)?null:c:null},gn=re(function(e){return 0===e?0:e>0?1:-1}),mn=(en=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,a=X(t,r),o={x:en(a.x,n.x),y:en(a.y,n.y)};return Z(o,Y)?null:o}),vn=function(e){var t=e.max,n=e.current,r=e.change,a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=gn(r),i=mn({max:a,current:n,change:o});return!i||0!==o.x&&0===i.x||0!==o.y&&0===i.y},bn=function(e,t){return vn({current:e.scroll.current,max:e.scroll.max,change:t})},yn=function(e,t){var n=e.frame;return!!n&&vn({current:n.scroll.current,max:n.scroll.max,change:t})},wn=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,o=e.scrollDroppable,i=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,a=e.shouldUseTimeDampening,o=hn({dragStartTime:e.dragStartTime,container:t.frame,subject:n,center:r,shouldUseTimeDampening:a});return o&&bn(t,o)?o:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:i,shouldUseTimeDampening:r});if(l)return void a(l)}var u=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var a=r[n];return a.frame?a:null}var o=function(e,t){var n=de(on(t),function(t){return t.frame||j(!1),nt(t.frame.pageMarginBox)(e)});return n}(t,r);return o}({center:i,destination:Je(t.impact),droppables:t.dimensions.droppables});if(u){var c=function(e){var t=e.droppable,n=e.subject,r=e.center,a=e.dragStartTime,o=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var s=hn({dragStartTime:a,container:i.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&yn(t,s)?s:null}({dragStartTime:n,droppable:u,subject:s,center:i,shouldUseTimeDampening:r});c&&o(u.descriptor.id,c)}},Sn=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow;return function(e){var a=e.scrollJumpRequest;if(a){var o=Je(e.impact);o||j(!1);var i=function(e,t){if(!yn(e,t))return t;var r=function(e,t){var n=e.frame;return n&&yn(e,t)?mn({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var a=K(t,r);return n(e.descriptor.id,a),K(t,a)}(e.dimensions.droppables[o],a);if(i){var s=e.viewport,l=function(e,t,n){if(!e)return n;if(!bn(t,n))return n;var a=function(e,t){if(!bn(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return mn({current:r,max:n,change:t})}(t,n);if(!a)return r(n),null;var o=K(n,a);return r(o),K(n,o)}(e.isWindowScrollAllowed,s,i);l&&function(e,n){var r=X(e.current.client.selection,n);t({client:r})}(e,l)}}}},xn="data-rbd",En={base:tn=xn+"-drag-handle",draggableId:tn+"-draggable-id",contextId:tn+"-context-id"},Cn=function(){var e=xn+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),An=function(){var e=xn+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),On={contextId:xn+"-scroll-container-context-id"},Rn=function(e,t){return e.map(function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""}).join(" ")},In="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect,Dn=function(){var e=document.querySelector("head");return e||j(!1),e},Pn=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};var _n=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Tn(e){return e instanceof _n(e).HTMLElement}function kn(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach(function(t){return t(e)})}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var a=t.descriptor.id,o=r(a);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[a],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||j(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return ue(e.draggables).filter(function(e){return e.descriptor.type===t})}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=a(e);return t||j(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return ue(e.droppables).filter(function(e){return e.descriptor.type===t})}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Mn=i().createContext(null),Bn=function(){var e=document.body;return e||j(!1),e},Ln={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Nn=0,Vn={separator:"::"};function Fn(e,t){return void 0===t&&(t=Vn),g(function(){return""+e+t.separator+Nn++},[t.separator,e])}var jn=i().createContext(null);function $n(e){var t=(0,o.useRef)(e);return(0,o.useEffect)(function(){t.current=e}),t}var zn,Hn,Un=((zn={})[13]=!0,zn[9]=!0,zn),Gn=function(e){Un[e.keyCode]&&e.preventDefault()},Wn=function(){var e="visibilitychange";return"undefined"==typeof document?e:de([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],function(e){return"on"+e in document})||e}(),qn={type:"IDLE"};function Qn(){}var Yn=((Hn={})[34]=!0,Hn[33]=!0,Hn[36]=!0,Hn[35]=!0,Hn);var Xn={type:"IDLE"},Kn={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Zn(e,t){if(null==t)return!1;if(Boolean(Kn[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&Zn(e,t.parentElement)}function Jn(e,t){var n=t.target;return!!Tn(n)&&Zn(e,n)}var er=function(e){return y(e.getBoundingClientRect()).center},tr=function(){var e="matches";return"undefined"==typeof document?e:de([e,"msMatchesSelector","webkitMatchesSelector"],function(e){return e in Element.prototype})||e}();function nr(e,t){return null==e?null:e[tr](t)?e:nr(e.parentElement,t)}function rr(e,t){return e.closest?e.closest(t):nr(e,t)}function ar(e){e.preventDefault()}function or(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===n}function ir(e){var t=e.lockAPI,n=e.store,r=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(a);return!!o&&!!o.options.isEnabled&&!!rn(n.getState(),a)}var sr=[function(e){var t=(0,o.useRef)(qn),n=(0,o.useRef)(N),r=g(function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,s,{sourceEvent:t});if(a){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),c(a,o)}}}}}},[e]),a=g(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}},[e]),i=b(function(){n.current=V(window,[a,r],{passive:!1,capture:!0})},[a,r]),s=b(function(){"IDLE"!==t.current.type&&(t.current=qn,n.current(),i())},[i]),l=b(function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[s]),u=b(function(){var e=function(e){var t=e.cancel,n=e.completed,r=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(0===t){var i={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(i);if("PENDING"!==s.type&&j(!1),l=s.point,u=i,Math.abs(u.x-l.x)>=5||Math.abs(u.y-l.y)>=5){var l,u;e.preventDefault();var c=s.actions.fluidLift(i);a({type:"DRAGGING",actions:c})}}}},{eventName:"mouseup",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Gn(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&j(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Wn,fn:t}]}({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=V(window,e,{capture:!0,passive:!1})},[l,s]),c=b(function(e,n){"IDLE"!==t.current.type&&j(!1),t.current={type:"PENDING",point:n,actions:e},u()},[u]);In(function(){return i(),function(){n.current()}},[i])},function(e){var t=(0,o.useRef)(Qn),n=g(function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var a=e.findClosestDraggableId(n);if(a){var o=e.tryGetLock(a,l,{sourceEvent:n});if(o){n.preventDefault();var i=!0,s=o.snapLift();t.current(),t.current=V(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(Yn[r.keyCode]?r.preventDefault():Gn(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Wn,fn:n}]}(s,l),{capture:!0,passive:!1})}}}function l(){i||j(!1),i=!1,t.current(),r()}}}},[e]),r=b(function(){t.current=V(window,[n],{passive:!1,capture:!0})},[n]);In(function(){return r(),function(){t.current()}},[r])},function(e){var t=(0,o.useRef)(Xn),n=(0,o.useRef)(N),r=b(function(){return t.current},[]),a=b(function(e){t.current=e},[]),i=g(function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,l,{sourceEvent:t});if(a){var o=t.touches[0],i={x:o.clientX,y:o.clientY};n.current(),p(a,i)}}}}}},[e]),s=b(function(){n.current=V(window,[i],{capture:!0,passive:!1})},[i]),l=b(function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(Xn),n.current(),s())},[s,a]),u=b(function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[l]),c=b(function(){var e={capture:!0,passive:!1},t={cancel:u,completed:l,getPhase:r},a=V(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var a=e.touches[0],o={x:a.clientX,y:a.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&j(!1);var a=e.touches[0];if(a&&a.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:Wn,fn:t}]}(t),e),o=V(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Wn,fn:t}]}(t),e);n.current=function(){a(),o()}},[u,r,l]),d=b(function(){var e=r();"PENDING"!==e.type&&j(!1);var t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})},[r,a]),p=b(function(e,t){"IDLE"!==r().type&&j(!1);var n=setTimeout(d,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),c()},[c,r,a,d]);In(function(){return s(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(Xn))}},[r,s,a]),In(function(){return V(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])},[])}];function lr(e){var t=e.contextId,n=e.store,r=e.registry,a=e.customSensors,i=e.enableDefaultSensors,s=[].concat(i?sr:[],a||[]),l=(0,o.useState)(function(){return function(){var e=null;function t(){e||j(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&j(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()})[0],u=b(function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()},[l]);In(function(){var e=n.getState();return n.subscribe(function(){var t=n.getState();u(e,t),e=t})},[l,n,u]),In(function(){return l.tryAbandon},[l.tryAbandon]);for(var c=b(function(e){return ir({lockAPI:l,registry:r,store:n,draggableId:e})},[l,r,n]),p=b(function(e,a,o){return function(e){var t=e.lockAPI,n=e.contextId,r=e.store,a=e.registry,o=e.draggableId,i=e.forceSensorStop,s=e.sourceEvent;if(!ir({lockAPI:t,store:r,registry:a,draggableId:o}))return null;var l=a.draggable.getById(o),u=function(e,t){var n="["+Cn.contextId+'="'+e+'"]',r=de(pe(document.querySelectorAll(n)),function(e){return e.getAttribute(Cn.id)===t});return r&&Tn(r)?r:null}(n,l.descriptor.id);if(!u)return null;if(s&&!l.options.canDragInteractiveElements&&Jn(u,s))return null;var c=t.claim(i||N),p="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function h(){return t.isActive(c)}var g=function(e,t){or({expected:e,phase:p,isLockActive:h,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),p="COMPLETED"}function a(t,a){if(void 0===a&&(a={shouldBlockNextClick:!1}),e.cleanup(),a.shouldBlockNextClick){var o=V(window,[{eventName:"click",fn:ar,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(It({reason:t}))}return"PRE_DRAG"!==p&&(n(),"PRE_DRAG"!==p&&j(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),p="DRAGGING",(0,d.A)({isActive:function(){return or({expected:"DRAGGING",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(e){return a("DROP",e)},cancel:function(e){return a("CANCEL",e)}},e.actions)}return{isActive:function(){return or({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:function(e){var t=k(function(e){g(function(){return xt({client:e})})}),n=m({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return(0,d.A)({},n,{move:t})},snapLift:function(){var e={moveUp:function(){return g(Et)},moveRight:function(){return g(At)},moveDown:function(){return g(Ct)},moveLeft:function(){return g(Ot)}};return m({liftActionArgs:{id:o,clientSelection:er(u),movementMode:"SNAP"},cleanup:N,actions:e})},abort:function(){or({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!0})&&t.release()}}}({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:a,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})},[t,l,r,n]),f=b(function(e){return function(e,t){var n=function(e,t){var n,r=t.target;if(!((n=r)instanceof _n(n).Element))return null;var a=function(e){return"["+En.contextId+'="'+e+'"]'}(e),o=rr(r,a);return o&&Tn(o)?o:null}(e,t);return n?n.getAttribute(En.draggableId):null}(t,e)},[t]),h=b(function(e){var t=r.draggable.findById(e);return t?t.options:null},[r.draggable]),m=b(function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))},[l,n]),v=b(l.isClaimed,[l]),y=g(function(){return{canGetLock:c,tryGetLock:p,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:m,isLockClaimed:v}},[c,p,f,h,m,v]),w=0;w<s.length;w++)s[w](y)}function ur(e){return e.current||j(!1),e.current}function cr(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,a=e.nonce,s=e.dragHandleUsageInstructions,l=(0,o.useRef)(null),u=$n(e),c=b(function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(u.current)},[u]),h=function(e){var t=g(function(){return function(e){return"rbd-announcement-"+e}(e)},[e]),n=(0,o.useRef)(null);return(0,o.useEffect)(function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),(0,d.A)(e.style,Ln),Bn().appendChild(e),function(){setTimeout(function(){var t=Bn();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)})}},[t]),b(function(e){var t=n.current;t&&(t.textContent=e)},[])}(t),m=function(e){var t=e.contextId,n=e.text,r=Fn("hidden-text",{separator:"-"}),a=g(function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e},[r,t]);return(0,o.useEffect)(function(){var e=document.createElement("div");return e.id=a,e.textContent=n,e.style.display="none",Bn().appendChild(e),function(){var t=Bn();t.contains(e)&&t.removeChild(e)}},[a,n]),a}({contextId:t,text:s}),v=function(e,t){var n=g(function(){return function(e){var t,n,r,a=(t=e,function(e){return"["+e+'="'+t+'"]'}),o=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:a(En.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),i=[(r="\n      transition: "+Mt.outOfTheWay+";\n    ",{selector:a(Cn.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),o,{selector:a(An.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Rn(i,"always"),resting:Rn(i,"resting"),dragging:Rn(i,"dragging"),dropAnimating:Rn(i,"dropAnimating"),userCancel:Rn(i,"userCancel")}}(e)},[e]),r=(0,o.useRef)(null),a=(0,o.useRef)(null),i=b(T(function(e){var t=a.current;t||j(!1),t.textContent=e}),[]),s=b(function(e){var t=r.current;t||j(!1),t.textContent=e},[]);In(function(){(r.current||a.current)&&j(!1);var o=Pn(t),l=Pn(t);return r.current=o,a.current=l,o.setAttribute(xn+"-always",e),l.setAttribute(xn+"-dynamic",e),Dn().appendChild(o),Dn().appendChild(l),s(n.always),i(n.resting),function(){var e=function(e){var t=e.current;t||j(!1),Dn().removeChild(t),e.current=null};e(r),e(a)}},[t,s,i,n.always,n.resting,e]);var l=b(function(){return i(n.dragging)},[i,n.dragging]),u=b(function(e){i("DROP"!==e?n.userCancel:n.dropAnimating)},[i,n.dropAnimating,n.userCancel]),c=b(function(){a.current&&i(n.resting)},[i,n.resting]);return g(function(){return{dragging:l,dropping:u,resting:c}},[l,u,c])}(t,a),y=b(function(e){ur(l).dispatch(e)},[]),w=g(function(){return(0,p.bindActionCreators)({publishWhileDragging:vt,updateDroppableScroll:yt,updateDroppableIsEnabled:wt,updateDroppableIsCombineEnabled:St,collectionStarting:bt},y)},[y]),S=function(){var e=g(kn,[]);return(0,o.useEffect)(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}(),x=g(function(){return nn(S,w)},[S,w]),E=g(function(){return function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,a=function(e){var t=e.scrollDroppable,n=k(e.scrollWindow),r=k(t),a=null,o=function(e){a||j(!1);var t=a,o=t.shouldUseTimeDampening,i=t.dragStartTime;wn({state:e,scrollWindow:n,scrollDroppable:r,dragStartTime:i,shouldUseTimeDampening:o})};return{start:function(e){a&&j(!1);var t=Date.now(),n=!1,r=function(){n=!0};wn({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),a={dragStartTime:t,shouldUseTimeDampening:n},n&&o(e)},stop:function(){a&&(n.cancel(),r.cancel(),a=null)},scroll:o}}({scrollWindow:n,scrollDroppable:t}),o=Sn({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):a.scroll(e))},start:a.start,stop:a.stop}}((0,d.A)({scrollWindow:an,scrollDroppable:x.scrollDroppable},(0,p.bindActionCreators)({move:xt},y)))},[x.scrollDroppable,y]),C=function(e){var t=(0,o.useRef)({}),n=(0,o.useRef)(null),r=(0,o.useRef)(null),a=(0,o.useRef)(!1),i=b(function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}},[]),s=b(function(t){var n=function(e,t){var n="["+En.contextId+'="'+e+'"]',r=pe(document.querySelectorAll(n));if(!r.length)return null;var a=de(r,function(e){return e.getAttribute(En.draggableId)===t});return a&&Tn(a)?a:null}(e,t);n&&n!==document.activeElement&&n.focus()},[e]),l=b(function(e,t){n.current===e&&(n.current=t)},[]),u=b(function(){r.current||a.current&&(r.current=requestAnimationFrame(function(){r.current=null;var e=n.current;e&&s(e)}))},[s]),c=b(function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(En.draggableId)===e&&(n.current=e)},[]);return In(function(){return a.current=!0,function(){a.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}},[]),g(function(){return{register:i,tryRecordFocus:c,tryRestoreFocusRecorded:u,tryShiftRecord:l}},[i,c,u,l])}(t),A=g(function(){return function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,a=e.styleMarshal,o=e.getResponders,i=e.announce,s=e.autoScroller;return(0,p.createStore)(mt,Yt((0,p.applyMiddleware)((t=a,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(a){if("LIFT"===a.type){var o=a.payload,i=o.id,s=o.clientSelection,l=o.movementMode,u=n();"DROP_ANIMATING"===u.phase&&r(Rt({completed:u.completed})),"IDLE"!==n().phase&&j(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:i,movementMode:l}});var c={draggableId:i,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(c),p=d.critical,f=d.dimensions,h=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:p,dimensions:f,clientSelection:s,movementMode:l,viewport:h}})}else t(a)}}}}(n),Ft,Wt,qt,Qt,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var a=t.getState();return"DRAGGING"!==a.phase&&j(!1),void e.start(a)}n(r),e.scroll(t.getState())}}}}(s),$t,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var a=r.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Gt(o,i))))}({announce:h,autoScroller:E,dimensionMarshal:x,focusMarshal:C,getResponders:c,styleMarshal:v})},[h,E,x,C,c,v]);l.current=A;var O=b(function(){var e=ur(l);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),R=b(function(){var e=ur(l).getState();return e.isDragging||"DROP_ANIMATING"===e.phase},[]);n(g(function(){return{isDragging:R,tryAbort:O}},[R,O]));var I=b(function(e){return rn(ur(l).getState(),e)},[]),D=b(function(){return tt(ur(l).getState())},[]),P=g(function(){return{marshal:x,focus:C,contextId:t,canLift:I,isMovementAllowed:D,dragHandleUsageInstructionsId:m,registry:S}},[t,x,m,C,I,D,S]);return lr({contextId:t,store:A,registry:S,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,o.useEffect)(function(){return O},[O]),i().createElement(jn.Provider,{value:P},i().createElement(f.Provider,{context:Mn,store:A},e.children))}var dr=0;function pr(e){var t=g(function(){return""+dr++},[]),n=e.dragHandleUsageInstructions||"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";return i().createElement($,null,function(r){return i().createElement(cr,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var fr=function(e){return function(t){return e===t}},hr=fr("scroll"),gr=fr("auto"),mr=(fr("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),vr=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return mr(n,hr)||mr(n,gr)}(t)?t:e(t.parentElement)},br=function(e){return{x:e.scrollLeft,y:e.scrollTop}},yr=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},wr={passive:!1},Sr={passive:!0},xr=function(e){return e.shouldPublishImmediately?wr:Sr};function Er(e){var t=(0,o.useContext)(e);return t||j(!1),t}var Cr=function(e){return e&&e.env.closestScrollable||null};function Ar(){}var Or={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Rr=i().memo(function(e){var t=(0,o.useRef)(null),n=b(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,a=e.onTransitionEnd,s=e.onClose,l=e.contextId,u=(0,o.useState)("open"===e.animate),c=u[0],d=u[1];(0,o.useEffect)(function(){return c?"open"!==r?(n(),d(!1),Ar):t.current?Ar:(t.current=setTimeout(function(){t.current=null,d(!1)}),n):Ar},[r,c,n]);var p=b(function(e){"height"===e.propertyName&&(a(),"close"===r&&s())},[r,s,a]),f=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,a=function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?Or:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Mt.placeholder:null}}({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return i().createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":l,onTransitionEnd:p,ref:e.innerRef})}),Ir=i().createContext(null),Dr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return c(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(i().PureComponent),Pr=function(e,t){return t?Mt.drop(t.duration):e?Mt.snap:Mt.fluid},_r=function(e,t){return e?t?Pt:_t:null};function Tr(e){return"DRAGGING"===e.type?(n=(t=e).dimension.client,r=t.offset,a=t.combineWith,o=t.dropping,i=Boolean(a),s=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(t),l=Boolean(o),u=l?function(e,t){var n=Bt(e);return n?t?n+" scale("+Tt+")":n:null}(r,i):Lt(r),{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Pr(s,o),transform:u,opacity:_r(i,l),zIndex:l?4500:5e3,pointerEvents:"none"}):{transform:Lt((c=e).offset),transition:c.shouldAnimateDisplacement?null:"none"};var t,n,r,a,o,i,s,l,u,c}function kr(e){e.preventDefault()}var Mr=function(e,t){return e===t},Br=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function Lr(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Nr={mapped:{type:"SECONDARY",offset:Y,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Lr(null)}},Vr={dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},Fr=(0,f.connect)(function(){var e,t,n,r=(e=T(function(e,t){return{x:e,y:t}}),t=T(function(e,t,n,r,a){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}}),n=T(function(e,n,r,a,o,i,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:i,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,a,o,i,null)}}}),function(r,a){if(r.isDragging){if(r.critical.draggable.id!==a.draggableId)return null;var o=r.current.client.offset,i=r.dimensions.draggables[a.draggableId],s=Je(r.impact),l=(c=r.impact).at&&"COMBINE"===c.at.type?c.at.combine.draggableId:null,u=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,i,a.isClone,s,l,u)}var c;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==a.draggableId)return null;var p=a.isClone,f=r.dimensions.draggables[a.draggableId],h=d.result,g=h.mode,m=Br(h),v=function(e){return e.combine?e.combine.draggableId:null}(h),b={duration:r.dropDuration,curve:Dt,moveTo:r.newHomeClientOffset,opacity:v?Pt:null,scale:v?Tt:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:b,draggingOver:m,combineWith:v,mode:g,forceShouldAnimate:null,snapshot:t(g,p,m,v,b)}}}return null}),a=function(){var e=T(function(e,t){return{x:e,y:t}}),t=T(Lr),n=T(function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}}),r=function(e){return e?n(Y,e,!0):null},a=function(t,a,o,i){var s=o.displaced.visible[t],l=Boolean(i.inVirtualList&&i.effected[t]),u=ye(o),c=u&&u.draggableId===t?a:null;if(!s){if(!l)return r(c);if(o.displaced.invisible[t])return null;var d=J(i.displacedBy.point),p=e(d.x,d.y);return n(p,c,!0)}if(l)return r(c);var f=o.displacedBy.point,h=e(f.x,f.y);return n(h,c,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||a(e,t)||Nr}},Vr,null,{context:Mn,pure:!0,areStatePropsEqual:Mr})(function(e){var t=(0,o.useRef)(null),n=b(function(e){t.current=e},[]),r=b(function(){return t.current},[]),a=Er(jn),i=a.contextId,s=a.dragHandleUsageInstructionsId,l=a.registry,u=Er(Ir),c=u.type,d=u.droppableId,p=g(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:d}},[e.draggableId,e.index,c,d]),f=e.children,h=e.draggableId,m=e.isEnabled,v=e.shouldRespectForcePress,y=e.canDragInteractiveElements,w=e.isClone,S=e.mapped,x=e.dropAnimationFinished;w||function(e){var t=Fn("draggable"),n=e.descriptor,r=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,u=g(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:l}},[i,l,s]),c=b(function(e){var t=a();return t||j(!1),function(e,t,n){void 0===n&&(n=Y);var r=window.getComputedStyle(t),a=t.getBoundingClientRect(),o=R(a,r),i=O(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:i}}(n,t,e)},[n,a]),d=g(function(){return{uniqueId:t,descriptor:n,options:u,getDimension:c}},[n,c,u,t]),p=(0,o.useRef)(d),f=(0,o.useRef)(!0);In(function(){return r.draggable.register(p.current),function(){return r.draggable.unregister(p.current)}},[r.draggable]),In(function(){if(f.current)f.current=!1;else{var e=p.current;p.current=d,r.draggable.update(d,e)}},[d,r.draggable])}(g(function(){return{descriptor:p,registry:l,getDraggableRef:r,canDragInteractiveElements:y,shouldRespectForcePress:v,isEnabled:m}},[p,l,r,y,v,m]));var E=g(function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:kr}:null},[i,s,h,m]),C=b(function(e){"DRAGGING"===S.type&&S.dropping&&"transform"===e.propertyName&&x()},[x,S]),A=g(function(){var e=Tr(S),t="DRAGGING"===S.type&&S.dropping?C:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:E}},[i,E,h,S,C,n]),I=g(function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}},[p.droppableId,p.id,p.index,p.type]);return f(A,S.snapshot,I)});function jr(e){return Er(Ir).isUsingCloneFor!==e.draggableId||e.isClone?i().createElement(Fr,e):null}function $r(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i().createElement(jr,(0,d.A)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var zr=function(e,t){return e===t.droppable.type},Hr=function(e,t){return t.draggables[e.draggable.id]},Ur={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||j(!1),document.body}},Gr=(0,f.connect)(function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=(0,d.A)({},e,{shouldAnimatePlaceholder:!1}),n=T(function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}}),r=T(function(r,a,o,i,s,l){var u=s.descriptor.id;if(s.descriptor.droppableId===r){var c=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:o,draggingOverWith:o?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:c}}if(!a)return t;if(!i)return e;var p={isDraggingOver:o,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return function(n,a){var o=a.droppableId,i=a.type,s=!a.isDropDisabled,l=a.renderClone;if(n.isDragging){var u=n.critical;if(!zr(i,u))return t;var c=Hr(u,n.dimensions),d=Je(n.impact)===o;return r(o,s,d,d,c,l)}if("DROP_ANIMATING"===n.phase){var p=n.completed;if(!zr(i,p.critical))return t;var f=Hr(p.critical,n.dimensions);return r(o,s,Br(p.result)===o,Je(p.impact)===o,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!zr(i,h.critical))return t;var g=Je(h.impact)===o,m=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),v=h.critical.droppable.id===o;return g?m?e:t:v?e:t}return t}},{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Mn,pure:!0,areStatePropsEqual:Mr})(function(e){var t=(0,o.useContext)(jn);t||j(!1);var n=t.contextId,r=t.isMovementAllowed,a=(0,o.useRef)(null),s=(0,o.useRef)(null),l=e.children,u=e.droppableId,c=e.type,d=e.mode,p=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,m=e.isCombineEnabled,v=e.snapshot,y=e.useClone,S=e.updateViewportMaxScroll,x=e.getContainerForClone,C=b(function(){return a.current},[]),A=b(function(e){a.current=e},[]),R=(b(function(){return s.current},[]),b(function(e){s.current=e},[])),D=b(function(){r()&&S({maxScroll:Zt()})},[r,S]);!function(e){var t=(0,o.useRef)(null),n=Er(jn),r=Fn("droppable"),a=n.registry,i=n.marshal,s=$n(e),l=g(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),u=(0,o.useRef)(l),c=g(function(){return T(function(e,n){t.current||j(!1);var r={x:e,y:n};i.updateDroppableScroll(l.id,r)})},[l.id,i]),d=b(function(){var e=t.current;return e&&e.env.closestScrollable?br(e.env.closestScrollable):Y},[]),p=b(function(){var e=d();c(e.x,e.y)},[d,c]),f=g(function(){return k(p)},[p]),h=b(function(){var e=t.current,n=Cr(e);e&&n||j(!1),e.scrollOptions.shouldPublishImmediately?p():f()},[f,p]),m=b(function(e,r){t.current&&j(!1);var a=s.current,o=a.getDroppableRef();o||j(!1);var i=function(e){return{closestScrollable:vr(e),isFixedOnPage:yr(e)}}(o),u={ref:o,descriptor:l,env:i,scrollOptions:r};t.current=u;var c=function(e){var t=e.ref,n=e.descriptor,r=e.env,a=e.windowScroll,o=e.direction,i=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,u=r.closestScrollable,c=function(e,t){var n=I(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,i=a+t.scrollWidth,s=w({top:r,right:i,bottom:o,left:a},n.border);return E({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,u),d=O(c,a),p=function(){if(!u)return null;var e=I(u),t={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:e,page:O(e,a),scroll:br(u),scrollSize:t,shouldClipSubject:l}}(),f=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,o=e.direction,i=e.client,s=e.page,l=e.closest,u=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=Xt({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Y,displacement:Y}}}}(),c="vertical"===o?Ie:De;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:c,isEnabled:n,client:i,page:s,frame:u,subject:se({page:s,withPlaceholder:null,axis:c,frame:u})}}({descriptor:n,isEnabled:!i,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:c,page:d,closest:p});return f}({ref:o,descriptor:l,env:i,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),d=i.closestScrollable;return d&&(d.setAttribute(On.contextId,n.contextId),d.addEventListener("scroll",h,xr(u.scrollOptions))),c},[n.contextId,l,h,s]),v=b(function(){var e=t.current,n=Cr(e);return e&&n||j(!1),br(n)},[]),y=b(function(){var e=t.current;e||j(!1);var n=Cr(e);t.current=null,n&&(f.cancel(),n.removeAttribute(On.contextId),n.removeEventListener("scroll",h,xr(e.scrollOptions)))},[h,f]),S=b(function(e){var n=t.current;n||j(!1);var r=Cr(n);r||j(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x},[]),x=g(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:v,dragStopped:y,scroll:S}},[y,m,v,S]),C=g(function(){return{uniqueId:r,descriptor:l,callbacks:x}},[x,l,r]);In(function(){return u.current=C.descriptor,a.droppable.register(C),function(){t.current&&y(),a.droppable.unregister(C)}},[x,l,y,C,i,a.droppable]),In(function(){t.current&&i.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),In(function(){t.current&&i.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}({droppableId:u,type:c,mode:d,direction:p,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:C});var P=i().createElement(Dr,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(e){var t=e.onClose,r=e.data,a=e.animate;return i().createElement(Rr,{placeholder:r,onClose:t,innerRef:R,animate:a,contextId:n,onTransitionEnd:D})}),_=g(function(){return{innerRef:A,placeholder:P,droppableProps:{"data-rbd-droppable-id":u,"data-rbd-droppable-context-id":n}}},[n,u,P,A]),M=y?y.dragging.draggableId:null,L=g(function(){return{droppableId:u,type:c,isUsingCloneFor:M}},[u,M,c]);return i().createElement(Ir.Provider,{value:L},l(_,v),function(){if(!y)return null;var e=y.dragging,t=y.render,n=i().createElement(jr,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(n,r){return t(n,r,e)});return B().createPortal(n,x())}())});function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Gr.defaultProps=Ur;var qr=function(e){return e.MINIMIZE="minimize",e.TABLE="table",e.BUTTON="button",e.SLIDER="slider",e}({}),Qr=function(e){return e.TEXT="text",e.DATETIME="dateTime",e.DATE="date",e.TIMESTAMP="timestamp",e}({}),Yr=function(e){return e.LOW="low",e.NORMAL="normal",e.HIGH="high",e.UNSTABLE="unstable",e}({}),Xr=function(e){return e.BROWSER="browser",e.DATASOURCE="datasource",e}({}),Kr=function(e){return e.WORD="break-word",e.NORMAL="normal",e.SYMBOL="break-all",e}({});class Zr extends e.BusEventBase{}Wr(Zr,"type","variable-changed");class Jr extends e.BusEventBase{}Wr(Jr,"type","dashboard-panels-changed");var ea=function(e){return e.COLOR="color",e.IMAGE="image",e}({}),ta=function(e){return e.QUERY="query",e.ADHOC="adhoc",e.CONSTANT="constant",e.DATASOURCE="datasource",e.INTERVAL="interval",e.TEXTBOX="textbox",e.CUSTOM="custom",e.SYSTEM="system",e}({});const na=[{value:qr.TABLE,label:"Table",description:"Full featured table view."},{value:qr.MINIMIZE,label:"Minimize",description:"Minimized select view."},{value:qr.BUTTON,label:"Button",description:"Button select view."},{value:qr.SLIDER,label:"Slider",description:"Slider select view."}],ra=[{value:Qr.TEXT,label:"Text"},{value:Qr.DATETIME,label:"ISO string"},{value:Qr.TIMESTAMP,label:"Timestamp"},{value:Qr.DATE,label:"Date only"}],aa=[{value:!0,label:"Display",description:"Display variable Label or Id. Allows to enable filtering."},{value:!1,label:"Hide",description:"Do not display header."}],oa=[{value:!0,label:"Enabled",description:"Follow when scrolling."},{value:!1,label:"Disabled",description:"Scroll with dashboard."}],ia=[{value:!0,label:"Enabled",description:"Auto scroll to the first selected value."},{value:!1,label:"Disabled",description:"Disable auto scroll."}],sa=[{value:!0,label:"Enabled",description:"Show the table in minimized view. The tree view opens in a drawer."},{value:!1,label:"Disabled",description:"Show tree view in the panel."}],la=[{value:Kr.WORD,label:"Word",description:"Break value by words."},{value:Kr.NORMAL,label:"Normal",description:"Use the default line break rule."},{value:Kr.SYMBOL,label:"Symbol",description:"Break between any two characters."}],ua=[{value:!0,label:"Enabled",description:"Enable pin/unpin functionality."},{value:!1,label:"Disabled",description:"Disable pin/unpin functionality."}],ca=[{value:!0,label:"Enabled",description:"Display Table Filter.",icon:"filter"},{value:!1,label:"Disabled",description:"Hide Table Filter."}],da=[{value:!0,label:"Enabled",description:"Always Visible Search."},{value:!1,label:"Disabled",description:"Toggleable Search Visibility."}],pa=[{value:!0,label:"Enabled",description:"Allows selecting and filtering favorites.",icon:"favorite"},{value:!1,label:"Disabled",description:"Hide favorites."}],fa=[{value:!0,label:"Enabled",description:"Show button in header",icon:"eye"},{value:!1,label:"Disabled",description:"Hide Button in header.",icon:"eye-slash"}],ha=[{value:Xr.BROWSER,label:"Browser",description:"Saved in the browser storage for each user.",icon:"monitor"},{value:Xr.DATASOURCE,label:"Data Source",description:"Saved data with the selected data source.",icon:"database"}],ga=[{value:Yr.LOW,label:"Low",description:"Default latency 2.5 seconds"},{value:Yr.NORMAL,label:"Normal",description:"Increased latency 10 seconds"},{value:Yr.HIGH,label:"High",description:"High latency 30 seconds"},{value:Yr.UNSTABLE,label:"Unstable",description:"Long-running latency 60 seconds"}],ma=[{value:!0,label:"Enabled",description:"Allows saving selected group.",icon:"save"},{value:!1,label:"Disabled",description:"Disables saving selected group."}],va=[{value:!0,label:"Enabled",description:"Allows sort by status."},{value:!1,label:"Disabled",description:"Hide sorting."}],ba=[{value:!0,label:"Enabled",description:"Display variable names."},{value:!1,label:"Disabled",description:"Hide variable names."}],ya=[{value:!0,label:"In order",description:"Display tabs in order"},{value:!1,label:"Selected first",description:"Keep selected tab first"}],wa=[{value:!0,label:"Collapsed",description:"All levels are collapsed.",icon:"folder"},{value:!1,label:"Expanded",description:"All levels are expanded.",icon:"folder-open"}],Sa=[{value:!0,label:"Enabled",description:"Enable to allow multi-level selection.",icon:"toggle-on"},{value:!1,label:"Disabled",description:"Disable multi-level selection.",icon:"toggle-off"}],xa=[{value:!0,label:"Enabled",description:"Empty value enabled."},{value:!1,label:"Disabled",description:"Empty value disabled."}],Ea=[{value:!0,label:"Enabled",description:"Persistence enabled."},{value:!1,label:"Disabled",description:"Persistence disabled."}],Ca=[{value:!0,label:"Enabled",description:"Show labels enabled."},{value:!1,label:"Disabled",description:"Show labels disabled."}],Aa=[{value:!0,label:"Enabled",description:"Custom values enabled."},{value:!1,label:"Disabled",description:"Custom values disabled."}],Oa=[{value:!0,label:"Enabled",description:"Display selected rows"},{value:!1,label:"Disabled",description:"Hide selected rows."}],Ra=[{value:!0,label:"Enabled",description:"Show reset button."},{value:!1,label:"Disabled",description:"Do not show reset button."}],Ia=[{description:"UTC",label:"UTC",value:!1},{description:"Local",label:"Local",value:!0}],Da="volkovlabs.variable.panel.favorites",Pa="Variable is not selected. Constant, Data Source, Interval, AD hoc filters are not supported.",_a="Options are not available.",Ta="data-testid panel content",ka="data-testid panel info",Ma="data-testid table-view no-data-message",Ba="data-testid panel",La=e=>`data-testid panel tab-${e}`,Na="data-testid table-view button open-drawer",Va="data-testid table-view button open-drawer-custom-icon",Fa=(m(7186).Tp.components.Drawer.General.close,e=>`data-testid-pin-button-${e}`),ja="data-testid table all-control",$a="data-testid table body",za="data-testid table button-expand",Ha="data-testid table button-expand-all",Ua="data-testid table button-filter",Ga="data-testid table button-sort",Wa=e=>`data-testid table row-${e}`,qa=(e,t)=>`data-testid table cell-${t}-${e}`,Qa="data-testid table value-control",Ya="data-testid table favorites-control",Xa="data-testid table favorites-filter",Ka="data-testid table selected-filter",Za="data-testid table field-filter-value",Ja="data-testid table button-clean-filter-value",eo="data-testid table header",to="data-testid table header-group-count",no=e=>`data-testid table group-count-${e}`,ro="data-testid table label",ao="data-testid table status-color",oo="data-testid table status-image",io="data-testid drawer-table root container",so="data-testid fields-editor button-add-new",lo="data-testid fields-editor button-remove",uo="data-testid fields-editor button-start-rename",co="data-testid fields-editor button-cancel-rename",po="data-testid fields-editor button-save-rename",fo=e=>`data-testid fields-editor row-error-message-${e}`,ho=e=>`data-testid fields-editor field-error-message-${e}`,go="data-testid fields-editor field-name",mo=e=>`data-testid fields-editor item-${e}`,vo="data-testid fields-editor new-level",bo="data-testid fields-editor new-item-name",yo="data-testid levels-editor button-add-new",wo="data-testid levels-editor button-remove",So=e=>`data-testid levels-editor item-${e}`,xo="data-testid levels-editor new-item",Eo="data-testidd levels-editor new-item-name",Co="data-testid levels-editor",Ao="data-testid minimize-view",Oo="data-testid minimize-view no-variable-message",Ro="options-variable",Io="data-testid text-variable",Do="data-testid date-time-picker",Po="data-testid date-picker",_o="data-testid button-view",To="data-testid button-view no-variable-message",ko="data-testid button-view no-options-message",Mo=e=>`data-testid button-view item-${e}`,Bo="data-testid button-view reset-variable",Lo="data-testid button-view label",No="data-testid slider-view no-variable-message",Vo="data-testid slider-view no-options-message",Fo="data-testid slider-view no-available-options-message",jo="data-testid slider-view field",$o="data-testid slider-view slider",zo="data-testid slider-view",Ho="status-style-editor",Uo="data-testid status-style-editor button-add-item",Go=e=>`data-testid status-style-editor item-${e}`,Wo="data-testid status-style-editor item field-value",qo="data-testid status-style-editor item field-url",Qo="data-testid status-style-editor item button-remove-item",Yo="All",Xo="$__all",Ko="$__empty",Zo=/\$\{([^}]+)\}/g,Jo={low:{refreshCheckCount:5,refreshCheckInterval:500},normal:{refreshCheckCount:10,refreshCheckInterval:1e3},high:{refreshCheckCount:20,refreshCheckInterval:1500},unstable:{refreshCheckCount:30,refreshCheckInterval:2e3}},ei=(e,t,n)=>{const r=Array.from(e),[a]=r.splice(t,1);return r.splice(n,0,a),r};function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ti(e,t,n[t])})}return e}function ri(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const ai=(e,n,r)=>{t.locationService.partial({[`var-${e}`]:n},!0),r.publish(new Zr)},oi=({values:e,runtimeVariable:n,panelEventBus:r,isKeepSelection:a=!1})=>{if(n)switch(n.type){case ta.CUSTOM:case ta.QUERY:{const{name:o,multi:i,includeAll:s,options:l}=n;if(i){if(s){const t=n.current.value,i=Array.isArray(t)?t.some(e=>e===Xo):t===Xo;if(i&&a){const t=new Map;e.forEach(e=>{t.set(e,!0)});const n=[];for(const e of l)e.value!==Xo&&(t.has(e.value)||n.push(e.value));return void ai(o,n,r)}}if(e.some(e=>e===Xo))return void ai(o,Yo,r);if(e.some(e=>e===Ko))return void ai(o,"",r);const i=t.locationService.getSearch().getAll(`var-${o}`).filter(e=>e!==Xo&&0!==e.toLowerCase().indexOf("all"));if(0===i.length&&!t.locationService.getSearchObject()[`var-${o}`]){const e=n.current.value,t=Array.isArray(e)?e:[e];i.push(...t.filter(e=>e!==Xo))}const u=e.filter(e=>i.includes(e));if(u.length===e.length)return void ai(o,i.filter(e=>!u.includes(e)),r);const c=[...new Set(e.concat(i)).values()];return void ai(o,c,r)}let u=e[0];return u===Xo?u=Yo:u===Ko&&(u=""),void ai(o,u,r)}case ta.TEXTBOX:{const t=e[0];return void ai(n.name,t,r)}default:return}},ii=e=>!!e&&(e.type===ta.CUSTOM||e.type===ta.QUERY),si=e=>e.reduce((e,t)=>{const n=(e=>{if(e.type===ta.TEXTBOX)return e;if(e.type===ta.CUSTOM||e.type===ta.QUERY){let t=e.options;const n=t.length&&t[0].value===Xo;t.length&&e.includeAll&&!n&&(t=[{text:Yo,value:Xo,selected:Array.isArray(null==e?void 0:e.current.value)?null==e?void 0:e.current.value.includes(Xo):(null==e?void 0:e.current.value)===Xo},...e.options]);const r=ri(ni({},e),{options:t,type:ta.CUSTOM,optionIndexByName:t.reduce((e,t,n)=>(e.set(t.value,n),e),new Map),helpers:{getOption:e=>r.options[r.optionIndexByName.get(e)]}});return r}})(t);return n?ri(ni({},e),{[n.name]:n}):e},{}),li=e=>{var t;return!!ii(e)&&(Array.isArray(e.current.value)?e.includeAll?!!(null===(t=e.helpers.getOption(Xo))||void 0===t?void 0:t.selected)||e.current.value.length===e.options.length-1:e.current.value.length===e.options.length:e.current.value===Xo)},ui=e=>{const t=e.nativeEvent;return-1!==navigator.userAgent.indexOf("Mac")?t.metaKey:t.ctrlKey},ci=({previousValues:e,value:t,emptyValueEnabled:n,variable:r,panelEventBus:a})=>{const o=Array.isArray(t)?t:[t];if(e.length>o.length){if(0===o.length&&n)return void oi({values:[Ko],runtimeVariable:r,panelEventBus:a});if(0===o.length&&(null==r?void 0:r.multi)&&r.includeAll)return void oi({values:[Xo],runtimeVariable:r,panelEventBus:a});const t=e.filter(e=>!o.includes(e));return void oi({values:t,runtimeVariable:r,panelEventBus:a})}o.length>1&&e.includes(Xo)&&o.includes(Xo)?oi({values:o.filter(e=>e!==Xo),runtimeVariable:r,panelEventBus:a}):o.length>1&&!e.includes(Xo)&&o.includes(Xo)?oi({values:[Xo],runtimeVariable:r,panelEventBus:a}):oi({values:o,runtimeVariable:r,panelEventBus:a})};function di(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){di(e,t,n[t])})}return e}function fi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const hi=(e,t,n)=>e.reduce((e,n)=>{const r=t(n);return Array.isArray(r)?e.push(...r):e.push(r),e},[...n]),gi=(e,t,n)=>{const r=t[0];return 1===t.length?e.map(e=>n(e,r)).filter(e=>e.selectable):Array.from(((e,t)=>(null==e?void 0:e.reduce((e,n)=>{const r=n[t],a=e.get(r);return e.set(r,a?a.concat(n):[n]),e},new Map))||new Map)(e,r),([e,a])=>{const o=gi(a,t.slice(1),n),i=n({[r]:e},r,o);return fi(pi({},i),{childValues:hi(o,e=>e.childValues||e.value,i.childValues||[]),childSelectedCount:o.reduce((e,t)=>{var n;return e+(null!==(n=t.childSelectedCount)&&void 0!==n?n:t.selected?1:0)},i.childSelectedCount||0),childFavoritesCount:o.reduce((e,t)=>e+(t.childFavoritesCount||(t.isFavorite?1:0)),i.childFavoritesCount||0),children:o})}).filter(e=>{var t;return(null===(t=e.childValues)||void 0===t?void 0:t.length)||e.selectable})},mi=(e,{status:t,children:n,isSelectedAll:r,favoritesEnabled:a,groupSelection:o})=>{const i=!!n&&!n.some(e=>!e.selected);let s=!1;!n&&ii(e.variable)?s=!!e.variable.helpers.getOption(e.value):o&&(null==n?void 0:n.length)&&(s=!0);const l=a&&!n&&e.value!==Xo;return{value:e.value,selected:!!s&&(r||e.selected||i),showStatus:t.exist,statusColor:t.exist?t.color:void 0,variable:e.variable,selectable:s,canBeFavorite:l,isFavorite:l?e.isFavorite:void 0,name:e.name,status:t.exist?t.value:void 0,label:e.label,statusMode:t.exist?t.mode:ea.IMAGE,statusImage:t.exist?t.image:void 0}},vi=(e,t)=>e.filter(e=>{var n;return null===(n=e.childValues)||void 0===n?void 0:n.some(e=>t.includes(e))}).filter(e=>!!e.children&&vi(e.children,t)),bi=(e,t=[],n=0)=>e.reduce((e,t)=>{const r=e[n]||{variable:void 0,values:[],selectable:!1};r.variable=t.variable,r.values.push(t.value),r.selectable=t.selectable;const a=e[n]?e:e.concat(r);return t.children?bi(t.children,a,n+1):a},t),yi=(e,t,n)=>{const r=n.toLowerCase();return e.original.childValues?e.original.childValues.some(e=>e.toLowerCase().includes(r)):e.original.label.toLowerCase().includes(r)},wi=(e,t)=>{const n=void 0!==e.original.status?e.original.status:0,r=void 0!==t.original.status?t.original.status:0;return n===r?0:n>r?1:-1},Si=(e,t,n)=>!n||(e.original.childValues?(e.original.childFavoritesCount||0)>0:!!e.original.isFavorite),xi=(e,t,n)=>!n||(e.original.childValues?(e.original.childSelectedCount||0)>0:!!e.original.selected);function Ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ei(e,t,n[t])})}return e}function Ai(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const Oi=(e,t,n)=>Ci({marginLeft:4*n},t),Ri=({items:e,name:t,onChange:r,data:a})=>{const s=(v=(0,n.useTheme2)(),{header:l.css`
      padding: ${v.spacing(.5,.5)};
      border-radius: ${null===(b=v.shape.radius)||void 0===b?void 0:b.default};
      background: ${v.colors.background.secondary};
      min-height: ${v.spacing(4)};
      display: grid;
      grid-template-columns: minmax(100px, max-content) min-content;
      align-items: center;
      justify-content: space-between;
      white-space: nowrap;

      &:focus {
        outline: none;
      }
    `,column:l.css`
      display: flex;
      align-items: center;
    `,dragHandle:l.css`
      display: flex;
      margin: ${v.spacing(0,.5)};
    `,dragIcon:l.css`
      cursor: grab;
      color: ${v.colors.text.disabled};
      &:hover {
        color: ${v.colors.text};
      }
    `,collapseIcon:l.css`
      margin-left: ${v.spacing(.5)};
      color: ${v.colors.text.disabled};
    `,titleWrapper:l.css`
      display: flex;
      align-items: center;
      flex-grow: 1;
      cursor: pointer;
      overflow: hidden;
      margin-right: ${v.spacing(.5)};
    `,title:l.css`
      font-weight: ${v.typography.fontWeightBold};
      color: ${v.colors.text.secondary};
      margin-left: ${v.spacing(.5)};
      overflow: hidden;
      text-overflow: ellipsis;
    `,item:l.css`
      margin-bottom: ${v.spacing(1)};
    `}),[u,c]=(0,o.useState)(e),[d,p]=(0,o.useState)(null),f=(0,o.useCallback)(e=>{c(e),r({name:t,items:e})},[t,r]),h=(0,o.useCallback)(e=>{e.destination&&f(ei(u,e.source.index,e.destination.index))},[u,f]),g=(0,o.useMemo)(()=>{const e=u[u.length-1];if(e){const t=a.findIndex((t,n)=>void 0===t.refId?n===e.source:t.refId===e.source),n=a[t];if(n)return n.fields.map(({name:e})=>{var r;return{label:e,source:null!==(r=n.refId)&&void 0!==r?r:t,value:e,fieldName:e}}).filter(e=>!u.some(t=>t.name===e.value))||[]}return a.reduce((e,t,n)=>e.concat(t.fields.map(e=>{const r=t.refId||n;return{value:`${r}:${e.name}`,fieldName:e.name,label:`${r}:${e.name}`,source:r}})),[])},[a,u]),m=(0,o.useCallback)(()=>{d&&(f([...u,{name:d.name,source:d.source}]),p(null))},[u,d,f]);var v,b;return i().createElement("div",{"data-testid":Co},i().createElement(pr,{onDragEnd:h},i().createElement(Gr,{droppableId:t},e=>i().createElement("div",Ai(Ci({},e.droppableProps),{ref:e.innerRef}),u.map((e,t)=>i().createElement($r,{key:e.name,draggableId:e.name,index:t},(r,a)=>i().createElement("div",Ai(Ci({ref:r.innerRef},r.draggableProps,r.dragHandleProps),{style:Oi(a.isDragging,r.draggableProps.style,t),className:s.item,"data-testid":So(e.name)}),i().createElement("div",{className:s.header},i().createElement("div",{className:s.column},e.name&&i().createElement("div",{className:s.titleWrapper},i().createElement("div",{className:(0,l.cx)(s.title)},e.name))),i().createElement("div",{className:s.column},i().createElement(n.IconButton,{name:"trash-alt",onClick:()=>f(u.filter(t=>t.name!==e.name)),"aria-label":"Remove","data-testid":wo}),i().createElement("div",Ci({className:s.dragHandle},r.dragHandleProps),i().createElement(n.Icon,{title:"Drag and drop to reorder",name:"draggabledots",size:"lg",className:s.dragIcon}))))))),e.placeholder))),i().createElement(n.InlineFieldRow,{"data-testid":xo},i().createElement(n.InlineField,{label:"New Level",grow:!0},i().createElement(n.Select,{options:g,value:(null==d?void 0:d.value)||null,"aria-label":Eo,onChange:e=>{p({value:e.value,source:e.source,name:e.fieldName})}})),i().createElement(n.Button,{icon:"plus",title:"Add Level",disabled:!d,onClick:m,"data-testid":yo},"Add")))};function Ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ii(e,t,n[t])})}return e}function Pi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const _i=({context:{options:e,data:t},onChange:a})=>{const s=(I=(0,n.useTheme2)(),{newGroup:l.css`
      margin: ${I.spacing(2)} 0;
    `,group:l.css`
      margin-bottom: ${I.spacing(1)};
    `,groupHeader:l.css`
      min-height: ${I.spacing(4)};
      padding: ${I.spacing(.5)};
    `,groupHeaderForm:l.css`
      display: flex;
      align-items: center;
      gap: ${I.spacing(.5)};
    `,groupHeaderText:l.css`
      overflow: hidden;
      text-overflow: ellipsis;
      line-height: ${I.spacing(4)};
    `,fieldName:l.css`
      margin: 0;
    `,dragHandle:l.css`
      display: flex;
      margin: ${I.spacing(0,.5)};
    `,dragIcon:l.css`
      cursor: grab;
      color: ${I.colors.text.disabled};
      &:hover {
        color: ${I.colors.text};
      }
    `,actionButton:l.css`
      color: ${I.colors.text.secondary};
    `,fieldCustomError:l.css`
      margin-bottom: ${I.spacing(1)};
    `}),[u,c]=(0,o.useState)((null==e?void 0:e.groups)||[]),[d,p]=(0,o.useState)(""),[f,h]=(0,o.useState)({}),[g,m]=(0,o.useState)(""),[v,b]=(0,o.useState)(""),y=(0,o.useCallback)(e=>{c(e),a(e)},[a]),w=(0,o.useCallback)(e=>{e.destination&&y(ei(u,e.source.index,e.destination.index))},[u,y]),S=(0,o.useCallback)(e=>{h(t=>Pi(Di({},t),{[e]:!t[e]}))},[]),x=(0,o.useCallback)(()=>{p(""),y(u.concat([{name:d,items:[]}])),S(d)},[u,d,y,S]),E=(0,o.useCallback)(e=>{y(u.map(t=>t.name===e.name?e:t))},[u,y]),C=(0,o.useMemo)(()=>u.some(e=>e.name===d),[u,d]),A=(0,o.useCallback)(()=>{m(""),b(""),h(e=>Pi(Di({},e),{[g]:!!e[g]&&g===v,[v]:e[g]}))},[g,v]),O=(0,o.useMemo)(()=>!(!v.trim()||g!==v&&u.some(e=>e.name===v)),[g,v,u]),R=(0,o.useCallback)(()=>{y(u.map(e=>e.name===g?Pi(Di({},e),{name:v}):e)),A()},[u,y,A,g,v]);var I;return i().createElement(i().Fragment,null,i().createElement(pr,{onDragEnd:w},i().createElement(Gr,{droppableId:"groups-editor"},e=>i().createElement("div",Pi(Di({},e.droppableProps),{ref:e.innerRef}),u.map(({name:e,items:a,noDataCustomMessage:o},c)=>i().createElement($r,{key:e,draggableId:e,index:c},(c,d)=>{return i().createElement("div",Pi(Di({ref:c.innerRef},c.draggableProps),{style:(d.isDragging,p=c.draggableProps.style,Di({},p)),className:s.group}),i().createElement(r.SD,{key:e,title:g===e?i().createElement("div",{className:(0,l.cx)(s.groupHeader,s.groupHeaderForm),onClick:e=>e.stopPropagation()},i().createElement(n.InlineField,{className:s.fieldName,invalid:!O},i().createElement(n.Input,{autoFocus:!0,value:v,onChange:e=>b(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&O&&R(),"Escape"===e.key&&A()},"data-testid":go})),i().createElement(n.Button,{variant:"secondary",fill:"text",className:s.actionButton,icon:"times",size:"sm",onClick:A,"data-testid":co}),i().createElement(n.Button,{variant:"secondary",fill:"text",className:s.actionButton,icon:"save",size:"sm",onClick:R,disabled:!O,tooltip:O?"":"Name is empty or group with the same name already exists.","data-testid":po})):i().createElement("div",{className:(0,l.cx)(s.groupHeader,s.groupHeaderText)},e),headerTestId:mo(e),actions:i().createElement(i().Fragment,null,g!==e&&i().createElement(n.Button,{icon:"edit",variant:"secondary",fill:"text",size:"sm",className:s.actionButton,onClick:()=>{b(e),m(e)},"data-testid":uo}),i().createElement(n.Button,{icon:"trash-alt",variant:"secondary",fill:"text",size:"sm",className:s.actionButton,onClick:()=>{y(u.filter(t=>t.name!==e))},"data-testid":lo}),i().createElement("div",Di({className:s.dragHandle},c.dragHandleProps),i().createElement(n.Icon,{name:"draggabledots",className:s.dragIcon}))),isOpen:f[e],onToggle:()=>S(e)},i().createElement(i().Fragment,null,i().createElement(n.InlineFieldRow,{"data-testid":fo(e)},i().createElement(n.InlineLabel,{width:"auto",tooltip:"Custom message when no data returned. Leave empty for the default message."},"Alert message"),i().createElement(n.Input,{placeholder:_a,value:o,className:s.fieldCustomError,onChange:t=>{E({name:e,items:a,noDataCustomMessage:t.currentTarget.value})},"data-testid":ho(e)})),i().createElement(Ri,{name:e,items:a,data:t,onChange:E}))));var p})),e.placeholder))),i().createElement(n.InlineFieldRow,{className:s.newGroup,"data-testid":vo},i().createElement(n.InlineField,{label:"New Group",grow:!0,invalid:C,error:"Group with the same name already exists."},i().createElement(n.Input,{placeholder:"Unique name",value:d,onChange:e=>p(e.currentTarget.value.trim()),"data-testid":bo})),i().createElement(n.Button,{icon:"plus",title:"Add Group",disabled:!d||C,onClick:x,"data-testid":so},"Add")))},Ti=e=>({buttons:l.css`
      margin-bottom: ${e.spacing(1)};
    `});function ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ki(e,t,n[t])})}return e}function Bi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const Li=({value:e,onChange:t})=>{const a=(0,n.useStyles2)(Ti);return i().createElement("div",null,i().createElement(n.InlineField,{label:"Mode",grow:!0},i().createElement(n.Select,{options:[{label:"Color",value:ea.COLOR,icon:"circle-mono"},{label:"Image",value:ea.IMAGE,icon:"gf-portrait"}],value:e.mode,onChange:n=>{var r;t(Bi(Mi({},e),{mode:null!==(r=null==n?void 0:n.value)&&void 0!==r?r:e.mode}))},"aria-label":Ho})),e.mode===ea.IMAGE&&i().createElement("div",null,i().createElement(n.ButtonGroup,{className:a.buttons},i().createElement(n.Button,{icon:"plus",variant:"secondary",fullWidth:!0,onClick:()=>t(Bi(Mi({},e),{thresholds:[{value:e.thresholds[0]?e.thresholds[0].value+10:0,image:""},...e.thresholds]})),size:"sm","data-testid":Uo},"Add threshold")),e.thresholds.map((a,o)=>i().createElement(n.InlineFieldRow,{key:o,"data-testid":Go(a.value)},i().createElement(n.InlineField,{label:"Value",shrink:!0},i().createElement(r.Q7,{width:8,min:-1/0,value:a.value,onChange:n=>{const r=e.thresholds.map((e,t)=>t===o?Bi(Mi({},e),{value:n}):e);r.sort((e,t)=>e.value>t.value?-1:1),t(Bi(Mi({},e),{thresholds:r}))},"data-testid":Wo})),i().createElement(n.InlineField,{label:"URL",grow:!0},i().createElement(n.Input,{value:a.image,onChange:n=>{t(Bi(Mi({},e),{thresholds:e.thresholds.map((e,t)=>t===o?Bi(Mi({},e),{image:n.currentTarget.value}):e)}))},suffix:i().createElement("img",{src:a.image,alt:"",style:{width:16}}),"data-testid":qo})),i().createElement(n.Button,{icon:"trash-alt",variant:"secondary",onClick:()=>t(Bi(Mi({},e),{thresholds:e.thresholds.filter((e,t)=>t!==o)})),tooltip:"Remove threshold","data-testid":Qo})))))},Ni=(e,t,n)=>{const a=n?Jo[n]:{refreshCheckCount:5,refreshCheckInterval:500},{variable:o,getVariable:i}=(0,r.fD)({eventBus:e,variableName:t,toState:si,getOne:(e,t)=>e[t],initial:{},refreshCheckCount:a.refreshCheckCount,refreshCheckInterval:a.refreshCheckInterval});return{variable:o,getVariable:i}};function Vi(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function Fi(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Vi(o,r,a,i,s,"next",e)}function s(e){Vi(o,r,a,i,s,"throw",e)}i(void 0)})}}const ji=e=>{const t=`var-${e}`;return(0,o.useMemo)(()=>({save:e=>{sessionStorage.setItem(t,JSON.stringify(e))},get:()=>{const e=sessionStorage.getItem(t);return e?JSON.parse(e):[]},remove:()=>sessionStorage.removeItem(t)}),[t])};function $i(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Hi=({key:e,initialValue:t,version:n=1,getStateForSave:r=e=>e,enabled:i=!0})=>{const[s,l]=(0,o.useState)(t),[u,c]=(0,o.useState)(!1),d=(0,o.useRef)(r),{get:p,update:f}=((e,t)=>{const n=(0,o.useCallback)(()=>Fi(function*(){const n=window.localStorage.getItem(e);if(n){const e=JSON.parse(n);return(null==e?void 0:e.version)===t?e.data:void 0}})(),[e,t]),r=(0,o.useCallback)(n=>Fi(function*(){return window.localStorage.setItem(e,JSON.stringify({version:t,data:n})),n})(),[e,t]);return(0,o.useMemo)(()=>({get:n,update:r}),[n,r])})(e,n);(0,o.useEffect)(()=>{var e;i&&(e=function*(){const e=yield p();e&&l("object"==typeof e?t=>(0,a.merge)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zi(e,t,n[t])})}return e}({},t),e):e),c(!0)},function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){$i(o,r,a,i,s,"next",e)}function s(e){$i(o,r,a,i,s,"throw",e)}i(void 0)})})()},[i,p]);const h=(0,o.useCallback)(e=>{l(t=>{const n="function"==typeof e?e(t):e;return i&&f(d.current(n)),n})},[i,f]);return[s,h,u]},Ui=({data:t,name:n,status:r})=>{const a=(0,o.useMemo)(()=>{var r;return null===(r=t.series.map(t=>t.fields.find(t=>t.type===e.FieldType.string&&(!n||t.name===n))).find(e=>null==e?void 0:e.values))||void 0===r?void 0:r.values},[t.series,n]),i=(0,o.useMemo)(()=>t.series.map(t=>t.fields.find(t=>t.type===e.FieldType.number&&(!r||t.name===r))).find(e=>null==e?void 0:e.values),[t.series,r]);return(0,o.useCallback)(e=>{const t=null==a?void 0:a.findIndex(t=>t===e),n=void 0!==t&&t>=0;if(n){var r,o,s,l,u;const e=null==i?void 0:i.values[t],a=null==i||null===(r=i.display)||void 0===r?void 0:r.call(i,e);if(void 0===e||void 0===a)return{exist:!1};let d;if((null==i||null===(s=i.config.custom)||void 0===s||null===(o=s.thresholdsStyle)||void 0===o?void 0:o.mode)===ea.IMAGE){var c;const{thresholds:t}=null==i||null===(c=i.config.custom)||void 0===c?void 0:c.thresholdsStyle,n=((e,t)=>{if(!t||0===t.length)return{value:0,image:""};const n=[...t];n.sort((e,t)=>e.value>t.value?1:-1);let r=n[0];for(const t of n){if(!(e>=t.value))break;r=t}return r})(e,t);d=null==n?void 0:n.image}return{exist:n,value:e,color:a.color||"",mode:(null==i||null===(u=i.config.custom)||void 0===u||null===(l=u.thresholdsStyle)||void 0===l?void 0:l.mode)||ea.COLOR,image:d}}return{exist:n}},[a,i])},Gi=e=>({wrapper:l.css`
      position: relative;
    `,content:l.css`
      position: absolute;
      overflow: auto;
      overflow-x: hidden;
    `,contentInDrawer:l.css`
      overflow: auto;
      overflow-x: hidden;
    `,header:l.css`
      position: sticky;
      top: 0;
      background-color: ${e.colors.background.primary};
      z-index: 120;
    `,rowContent:l.css`
      display: flex;
      justify-content: stretch;
      align-items: center;
    `,expandButton:l.css`
      margin-right: ${e.spacing(1)};
    `,label:l.css`
      display: flex;
      align-items: center;
      cursor: pointer;
      flex: auto;
      word-break: break-all;
    `,selectControl:l.css`
      vertical-align: middle;
      margin-right: ${e.spacing(1)};
    `,status:l.css`
      display: block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: ${e.spacing(1)};
      flex: none;
    `,statusImage:l.css`
      display: block;
      width: ${e.spacing(2)};
      height: auto;
      margin-right: ${e.spacing(1)};
      flex: none;
    `,toolbar:l.css`
      div > div {
        flex-direction: column;
        max-width: 100%;
      }
      padding: ${e.spacing(.5)} 0 ${e.spacing(.5)} ${e.spacing(1)};
      border-bottom: 1px solid ${e.colors.border.weak};
    `,openDrawerButton:l.css`
      margin-left: ${e.spacing(1)};
    `,openDrawerButtonCustomIcon:l.css`
      width: 24px;
      height: 24px;
      margin: ${e.spacing(.5)} ${e.spacing(1)};
      vertical-align: middle;
      cursor: pointer;
    `,minimizeTableView:l.css`
      margin-top: ${e.spacing(1)};
      margin-right: ${e.spacing(1)};
      display: flex;
      flex-direction: row;
    `,tabWithPin:l.css`
      position: relative;
      display: flex;
      align-items: center;
    `,toolbarButton:l.css`
      position: relative;
      overflow: hidden;
      max-width: 100%;

      > div {
        overflow: hidden;
        text-overflow: ellipsis;
      }
    `,tabContent:l.css`
      display: flex;
      align-items: center;
      gap: ${e.spacing(.5)};
      width: 100%;
      justify-content: space-between;
    `,tabText:l.css`
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      flex: 1;
      min-width: 0;
    `,pinButton:l.css`
      transition: opacity 0.2s ease;
      color: ${e.colors.text.secondary};
      flex-shrink: 0;

      &:hover {
        opacity: 1;
        color: ${e.colors.text.link};
        background: ${e.colors.border.weak};
      }

      &:focus-visible {
        opacity: 1;
      }
    `,pinButtonActive:l.css`
      opacity: 1;
      color: ${e.colors.primary.main};

      &:hover {
        color: ${e.colors.primary.shade};
      }
    `});function Wi(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function qi(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Wi(o,r,a,i,s,"next",e)}function s(e){Wi(o,r,a,i,s,"throw",e)}i(void 0)})}}function Qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qi(e,t,n[t])})}return e}function Xi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const Ki=({data:t,options:a,eventBus:s,panelEventBus:l,levels:u,replaceVariables:c})=>{var d,p,f;const h=(0,n.useTheme2)(),g=Gi(h),m=(null==u?void 0:u.length)?null===(d=u[u.length-1])||void 0===d?void 0:d.name:a.variable,{variable:v,getVariable:b}=Ni(s,m,a.requestLatency),y=(({config:t,replaceVariables:n})=>{const[a,i]=(0,o.useState)({itemsMap:{},itemIdsMap:{}}),s=(({config:t,replaceVariables:n})=>{const a=(()=>{const e=(0,o.useCallback)(()=>qi(function*(){const e=window.localStorage.getItem(Da);return{itemsMap:JSON.parse(e||"{}"),itemIdsMap:{}}})(),[]),t=(0,o.useCallback)((e,t)=>qi(function*(){const n=Xi(Yi({},e.itemsMap),{[t.name]:e.itemsMap[t.name]?e.itemsMap[t.name].concat([t.value]):[t.value]});return window.localStorage.setItem(Da,JSON.stringify(n)),Xi(Yi({},e),{itemsMap:n})})(),[]),n=(0,o.useCallback)((e,t)=>qi(function*(){const n=Xi(Yi({},e.itemsMap),{[t.name]:e.itemsMap[t.name]?e.itemsMap[t.name].filter(e=>e!==t.value):[]});return window.localStorage.setItem(Da,JSON.stringify(n)),Xi(Yi({},e),{itemsMap:n})})(),[]);return(0,o.useMemo)(()=>({get:e,add:t,remove:n}),[e,t,n])})(),i=(({config:t,replaceVariables:n})=>{const a=(0,r.ki)(),i=(0,o.useCallback)(()=>qi(function*(){var r;const o={itemIdsMap:{},itemsMap:{}},i=null===(r=(yield a({query:t.getQuery,datasource:t.datasource,replaceVariables:n,payload:{}})).data)||void 0===r?void 0:r[0];if((0,e.isDataFrame)(i)){const e=i.fields.find(e=>"id"===e.name),t=i.fields.find(e=>"variable"===e.name),n=i.fields.find(e=>"value"===e.name);if(!e||!t||!n)return o;for(let r=0;r<i.length;r+=1){const a=e.values[r],i=t.values[r],s=n.values[r];o.itemsMap[i]||(o.itemsMap[i]=[]),o.itemsMap[i].push(s),o.itemIdsMap[s]=a}}return o})(),[t.datasource,t.getQuery,a,n]),s=(0,o.useCallback)((r,o)=>qi(function*(){const r=yield a({query:t.addQuery,datasource:t.datasource,replaceVariables:n,payload:{variable:o.name,value:o.value}});if(r.state===e.LoadingState.Error)throw r.errors;return i()})(),[t.addQuery,t.datasource,a,i,n]),l=(0,o.useCallback)((r,o)=>qi(function*(){const s=yield a({query:t.deleteQuery,datasource:t.datasource,replaceVariables:n,payload:{id:r.itemIdsMap[o.value],variable:o.name,value:o.value}});if(s.state===e.LoadingState.Error)throw s.errors;return i()})(),[t.datasource,t.deleteQuery,a,i,n]);return(0,o.useMemo)(()=>({get:i,add:s,remove:l}),[i,s,l])})({config:t,replaceVariables:n}),s=(0,o.useCallback)(()=>qi(function*(){switch(t.storage){case Xr.BROWSER:return a.get();case Xr.DATASOURCE:return i.get();default:return{itemsMap:{},itemIdsMap:{}}}})(),[a,t.storage,i]),l=(0,o.useCallback)((e,n)=>qi(function*(){switch(t.storage){case Xr.BROWSER:return a.add(e,n);case Xr.DATASOURCE:return i.add(e,n);default:return e}})(),[a,t.storage,i]),u=(0,o.useCallback)((e,n)=>qi(function*(){switch(t.storage){case Xr.BROWSER:return a.remove(e,n);case Xr.DATASOURCE:return i.remove(e,n);default:return e}})(),[a,t.storage,i]);return(0,o.useMemo)(()=>({get:s,add:l,remove:u}),[s,l,u])})({config:t,replaceVariables:n}),l=(0,o.useCallback)(()=>qi(function*(){const e=yield s.get();i(e)})(),[s]),u=(0,o.useCallback)((e,t)=>qi(function*(){if(!e)return;const n=yield s.add(a,{name:e,value:t});i(n)})(),[a,s]),c=(0,o.useCallback)((e,t)=>qi(function*(){if(!e)return;const n=yield s.remove(a,{name:e,value:t});i(n)})(),[a,s]),d=(0,o.useCallback)((e,t)=>!(!e||!a.itemsMap[e])&&a.itemsMap[e].includes(t),[a]);return(0,o.useEffect)(()=>{t.enabled&&l()},[t.enabled,l]),(0,o.useMemo)(()=>({add:u,remove:c,isAdded:d}),[u,d,c])})({config:a.favorites,replaceVariables:c}),w=Ui({data:t,status:a.status,name:a.name}),S=(0,o.useMemo)(()=>{if(!v)return[];const e=li(v),n=u||[];if(n.length&&ii(v)){const r={},o=((e,t,n)=>{const r=t[t.length-1],a=e.series.find((e,t)=>void 0===e.refId?t===r.source:e.refId===r.source);if(!a)return null;const o=(e=>{const t=[];for(let n=0;n<e.length;n+=1){const r=e.fields.reduce((e,t)=>fi(pi({},e),{[t.name]:t.values[n]}),{});t.push(r)}return t})(a);return gi(o,t.map(({name:e})=>e),n||((e,t)=>({value:e[t],label:e[t],selected:!1,showStatus:!1,selectable:!0,statusMode:ea.COLOR})))})(t,n,(t,n,o)=>{const i=`${t[n]}`;let s=r[n];if(!s){const e=b(n);e&&(s=e,r[n]=e)}const l=ii(s)?s.helpers.getOption(i):v.helpers.getOption(i);return mi({value:i,selected:(null==l?void 0:l.selected)||!1,variable:s,isFavorite:y.isAdded(n,i),name:n,label:(null==l?void 0:l.text)||i},{children:o,status:w(i),isSelectedAll:e,favoritesEnabled:a.favorites.enabled,groupSelection:a.groupSelection})});if(o)return 1===n.length&&(null==v?void 0:v.multi)&&(null==v?void 0:v.includeAll)?[mi({value:Xo,selected:e,variable:b(n[0].name),isFavorite:!1,name:n[0].name,label:Yo},{status:w(Yo),isSelectedAll:e,favoritesEnabled:a.favorites.enabled,groupSelection:a.groupSelection})].concat(o):o}return ii(v)?v.options.map(t=>mi({value:t.value,selected:t.selected,variable:v,isFavorite:y.isAdded(v.name,t.value),label:t.text},{status:w(t.value===Xo?Yo:t.value),isSelectedAll:e,favoritesEnabled:a.favorites.enabled,groupSelection:a.groupSelection})):v.type===ta.TEXTBOX?[mi({value:(null===(r=v.current.value)||void 0===r?void 0:r.toString())||"",label:(null===(o=v.current.text)||void 0===o?void 0:o.toString())||"",selected:!1,variable:v,isFavorite:!1,name:null==v?void 0:v.name},{status:w(""),isSelectedAll:e,favoritesEnabled:a.favorites.enabled,groupSelection:a.groupSelection})]:[];var r,o},[v,u,t,b,y,w,a.favorites,a.groupSelection]),x=(0,o.useCallback)((e,t=!1)=>{const n=e.childValues||[e.value],r=vi(S,n);bi(r).filter(e=>e.variable!==v&&e.selectable).map(e=>({variable:e.variable,values:e.values.filter(t=>{var n;return ii(e.variable)?!1===(null===(n=e.variable.helpers.getOption(t))||void 0===n?void 0:n.selected):t})})).filter(e=>e.values.length>0).forEach(({variable:e,values:n})=>{oi({values:n,runtimeVariable:e,panelEventBus:l,isKeepSelection:t})}),oi({values:n,runtimeVariable:v,panelEventBus:l,isKeepSelection:t})},[l,v,S]),E=(0,o.useCallback)((e,t)=>{var n;e.selected&&ii(e.variable)&&!(null===(n=e.variable)||void 0===n?void 0:n.multi)&&e.variable===v&&x(e,ui(t))},[x,v]),C=(0,o.useMemo)(()=>{var e;const t=`${(null==v?void 0:v.name)||m}`,r=[{id:"value",accessorKey:"value",header:({table:e})=>{const r=!!v&&li(v),o=ii(v)&&(null==v?void 0:v.multi)&&a.showTotal,s=(null==v?void 0:v.options.some(e=>"All"===e.text&&e.selected))?(null==v?void 0:v.options.length)-1:null==v?void 0:v.options.filter(e=>e.selected).length,l=(null==v?void 0:v.options.some(e=>"All"===e.text))?(null==v?void 0:v.options.length)-1:null==v?void 0:v.options.length;return i().createElement(i().Fragment,null,a.groupSelection&&i().createElement("input",{type:"checkbox",onChange:()=>{const e={childValues:hi(S,e=>e.childValues||e.value,[]),selected:r,value:"",showStatus:!1,label:"",statusMode:ea.COLOR};x(e,!1)},checked:r,className:g.selectControl,id:`${t}-select-all`,"data-testid":ja,title:"Select all"}),e.getCanSomeRowsExpand()&&i().createElement(n.Button,{className:g.expandButton,onClick:e.getToggleAllRowsExpandedHandler(),variant:"secondary",fill:"text",size:"sm",icon:e.getIsAllRowsExpanded()?"angle-double-down":"angle-double-right","data-testid":Ha}),(null==v?void 0:v.label)||m,o&&i().createElement("span",{"data-testid":to,style:{marginLeft:h.spacing(1),fontSize:h.spacing(1.5),color:h.colors.text.disabled}},"(",s,"/",l," selected)"))},enableColumnFilter:a.filter,filterFn:yi,enableSorting:a.statusSort,sortingFn:wi,cell:({row:e,getValue:r})=>{var o,s;const l=e.original.label||r(),u=(null==v?void 0:v.options.some(e=>"All"===e.text&&e.selected))?(null==v?void 0:v.options.length)-1:null==v?void 0:v.options.filter(e=>e.selected).length;let c=!1;var d;(null===(o=a.selectedValues)||void 0===o?void 0:o.maxCount)&&u&&(c=(null===(d=a.selectedValues)||void 0===d?void 0:d.maxCount)<=u);const p=ii(v)&&(null==v?void 0:v.multi)&&a.groupSelection&&a.showGroupTotal&&e.original.childValues;var f;return i().createElement("div",{className:g.rowContent,style:{paddingLeft:h.spacing(1.5*e.depth)},"data-testid":qa(l,e.depth)},e.original.selectable&&i().createElement("input",{type:ii(v)?(null==v?void 0:v.multi)?"checkbox":"radio":"text",onChange:t=>x(e.original,ui(t)),onClick:t=>E(e.original,t),checked:e.original.selected,className:g.selectControl,id:`${t}-${e.original.value}`,disabled:c&&!e.original.selected,"data-testid":Qa,ref:t=>{if(t&&"checkbox"===t.type){const{childSelectedCount:n=0,childValues:r}=e.original;t.indeterminate=((null==r?void 0:r.length)||0)>n}}}),e.getCanExpand()&&i().createElement(n.Button,{className:g.expandButton,onClick:e.getToggleExpandedHandler(),variant:"secondary",fill:"text",size:"sm",icon:e.getIsExpanded()?"angle-down":"angle-right","data-testid":za}),ii(v)&&i().createElement("label",{onClick:t=>{e.original.selectable?x(e.original,ui(t)):e.getCanExpand()&&e.getToggleExpandedHandler()()},"data-testid":ro,className:g.label},e.original.showStatus&&i().createElement(i().Fragment,null,e.original.statusMode===ea.COLOR&&i().createElement("span",{className:g.status,style:{backgroundColor:e.original.statusColor},"data-testid":ao}),e.original.statusMode===ea.IMAGE&&e.original.statusImage&&i().createElement("img",{className:g.statusImage,src:e.original.statusImage,alt:"","data-testid":oo})),i().createElement("span",{style:{wordBreak:null!==(f=a.wordBreak)&&void 0!==f?f:"normal",fontWeight:e.original.selected?h.typography.fontWeightBold:h.typography.fontWeightRegular}},a.showName&&e.original.name?`${e.original.name}: `:"",l),p&&i().createElement("span",{"data-testid":no(l),style:{marginLeft:h.spacing(1),fontSize:h.spacing(1.5),color:h.colors.text.disabled}},"(",e.original.childSelectedCount,"/",null===(s=e.original.childValues)||void 0===s?void 0:s.length," selected)")))}}];return(null===(e=a.selectedValues)||void 0===e?void 0:e.showSelected)&&r.push({id:"selected",accessorKey:"selected",enableColumnFilter:!0,enableResizing:!1,enableSorting:!1,header:"",filterFn:xi,cell:()=>null}),a.favorites.enabled&&r.push({id:"isFavorite",accessorKey:"isFavorite",enableColumnFilter:!0,enableResizing:!1,enableSorting:!1,header:"",filterFn:Si,cell:({row:e,getValue:t})=>{const r=t();return e.original.canBeFavorite?i().createElement(n.Button,{variant:"secondary",fill:"text",size:"sm",onClick:()=>{var t,n;r?y.remove(null===(t=e.original.variable)||void 0===t?void 0:t.name,e.original.value):y.add(null===(n=e.original.variable)||void 0===n?void 0:n.name,e.original.value)},"data-testid":Ya},r?i().createElement(n.Icon,{name:"favorite"}):i().createElement(n.Icon,{name:"star"})):null}}),r},[v,m,a.filter,a.statusSort,null===(p=a.selectedValues)||void 0===p?void 0:p.showSelected,null===(f=a.selectedValues)||void 0===f?void 0:f.maxCount,a.favorites.enabled,a.showTotal,a.groupSelection,a.showGroupTotal,a.wordBreak,a.showName,g.selectControl,g.expandButton,g.rowContent,g.label,g.status,g.statusImage,h,S,x,E,y]),A=(0,o.useCallback)(e=>e.children,[]);return{tableData:S,columns:C,getSubRows:A,runtimeVariable:v}},Zi=e=>({root:l.css`
      display: flex;
      gap: ${e.spacing(.5)};
      flex-wrap: wrap;
    `,label:l.css`
      color: ${e.colors.text.link};
      background: ${e.colors.background.primary};
      border: 1px solid ${e.colors.border.weak};
      margin: ${e.spacing(.25,0)};
    `,resetButton:l.css`
      margin-left: ${e.spacing(1)};
    `}),Ji=({data:e,options:{variable:t,padding:r=0,status:a,name:s,emptyValue:u=!1,persistent:c=!1,showLabel:d=!1,showResetButton:p=!1,alertCustomMessage:f=""}={},eventBus:h,panelEventBus:g,height:m})=>{const v=(0,n.useStyles2)(Zi),b=(0,n.useTheme2)(),{variable:y}=Ni(h,t||""),w=ji(null!=t?t:""),S=(0,o.useMemo)(()=>ii(y)?null==y?void 0:y.options.filter(e=>e.selected).map(e=>e.value):[],[y]),x=Ui({data:e,name:s,status:a});if(!y)return i().createElement(n.Alert,{severity:"info",title:"Variable","data-testid":To},f||Pa);if(!ii(y)||!y.options.length)return i().createElement(n.Alert,{severity:"info",title:"Variable","data-testid":ko},_a);const E=e=>{ci({previousValues:S,variable:y,emptyValueEnabled:u,value:e,panelEventBus:g})};return i().createElement("div",{className:(0,l.cx)(v.root,l.css`
          padding: ${r}px;
          height: ${m}px;
          overflow-y: auto;
        `),"data-testid":_o},p&&i().createElement(n.IconButton,{name:"times",tooltip:"Reset Variable",className:v.resetButton,onClick:()=>{const e=(Array.isArray(y.current.value)?y.current.value[0]:y.current.value)===Xo;if(!y.includeAll||e){if(y.multi)return void(1===y.current.value.length&&y.options[0].selected||E(y.options[0].value));E(y.options[0].value)}else E([...S,y.options[0].value])},"aria-label":"Reset Variable","data-testid":Bo}),d&&i().createElement(n.InlineLabel,{"data-testid":Lo,className:v.label,width:"auto",transparent:!0},y.label||y.name),y.options.map(e=>{const t=e.value===Xo?Yo:e.value,r=x(t),a=e.selected?r.exist?r.color:b.colors.border.weak:b.colors.background.primary;return i().createElement(n.Button,{key:t,variant:"secondary",fill:"outline",className:l.css`
              background-color: ${a};
              margin: ${b.spacing(.25)};
              color: ${b.colors.getContrastText(a)};
              border-color: ${r.exist?r.color:""};
            `,onClick:()=>{let t=e.value;y.multi&&(t=e.selected?null==S?void 0:S.filter(t=>t!==e.value):[...S,e.value]),c&&w.remove(),ci({previousValues:S,variable:y,emptyValueEnabled:u,value:t,panelEventBus:g})},"data-testid":Mo(t)},e.text.toString())}))},es=({variable:t,persistent:r,panelEventBus:a,isUseLocalTime:s})=>{const l=ji(t.name),u=(0,o.useMemo)(()=>t.current.value?t.current.value:"",[t]),c=(0,o.useCallback)(n=>{r&&l.remove();const o=(0,e.dateTimeFormat)(n,{timeZone:s?"":"utc",format:"YYYY-MM-DD"});oi({values:[o],runtimeVariable:t,panelEventBus:a})},[s,a,r,l,t]);return i().createElement(n.DatePickerWithInput,{onChange:c,closeOnSelect:!0,value:u,"data-testid":Po})},ts=({variable:t,persistent:r,panelEventBus:a,isUseLocalTime:s,timeZone:l,minimizeOutputFormat:u})=>{const c=ji(t.name),d=(0,o.useMemo)(()=>t.current.value?isNaN(Number(t.current.value))?t.current.value.toString():Number(t.current.value):"",[t]),p=(0,o.useCallback)(e=>{if(e){r&&c.remove();let n="";n=u===Qr.DATETIME?e.toISOString(s):e.valueOf().toString(),oi({values:[n],runtimeVariable:t,panelEventBus:a})}},[s,u,a,r,c,t]);return i().createElement(n.DateTimePicker,{onChange:p,timeZone:l,date:(0,e.dateTime)(d),"data-testid":Do})},ns=({variable:e,emptyValue:t,persistent:r,customValue:a,panelEventBus:s,maxVisibleValues:l})=>{const u=ji(e.name),c=(0,o.useMemo)(()=>{if(a){const t=e.current.value;return Array.isArray(t)?t:[t]}return e.options.filter(e=>e.selected).map(e=>e.value)},[a,e]),d=(0,o.useCallback)(n=>{r&&u.remove(),ci({previousValues:c,value:Array.isArray(n)?n.map(e=>e.value):n.value||"",variable:e,emptyValueEnabled:t,panelEventBus:s})},[t,s,r,u,c,e]),p=(0,o.useMemo)(()=>{const t=e.options.map(e=>({label:e.text,value:e.value}));return a&&c.forEach(e=>{t.some(t=>t.value===e)||t.push({label:e,value:e})}),t},[a,c,e.options]);return i().createElement(n.Select,{"aria-label":Ro,onChange:d,options:p,isMulti:e.multi,value:e.multi?c:c[0]||null,allowCustomValue:a,maxVisibleValues:l,hideSelectedOptions:!1,closeMenuOnSelect:!e.multi,showAllSelectedWhenOpen:!1})},rs=({variable:e,panelEventBus:t})=>{var r;const[a,s]=(0,o.useState)((null===(r=e.current.value)||void 0===r?void 0:r.toString())||"");(0,o.useEffect)(()=>{var t;s((null===(t=e.current.value)||void 0===t?void 0:t.toString())||"")},[e]);const l=(0,o.useCallback)(e=>{s(e.target.value)},[]),u=(0,o.useCallback)(()=>{oi({values:[a],runtimeVariable:e,panelEventBus:t})},[t,a,e]),c=(0,o.useCallback)(e=>{"Enter"===e.key&&u(),"Escape"===e.key&&e.currentTarget.blur()},[u]);return i().createElement(n.Input,{"data-testid":Io,onChange:l,onBlur:u,onKeyDown:c,value:a,placeholder:"Enter variable value"})},as=e=>({field:l.css`
      label {
        color: ${e.colors.text.link};
        background: ${e.colors.background.primary};
        border: 1px solid ${e.colors.border.weak};
      }
    `}),os=({options:{variable:e,padding:t=0,emptyValue:r=!1,persistent:a=!1,customValue:s=!1,showLabel:u=!1,labelWidth:c,maxVisibleValues:d,minimizeOutputFormat:p=Qr.TEXT,isUseLocalTime:f=!1,alertCustomMessage:h=""}={},timeZone:g,eventBus:m,panelEventBus:v})=>{const{variable:b}=Ni(m,e||""),y=(0,o.useMemo)(()=>p===Qr.DATETIME||p===Qr.TIMESTAMP,[p]),w=(0,o.useMemo)(()=>p===Qr.DATE,[p]),S=(0,n.useStyles2)(as);return b?i().createElement("div",{className:l.css`
        padding: ${t}px;
      `,"data-testid":Ao},i().createElement(n.InlineField,{className:S.field,grow:!0,shrink:!0,label:u&&(b.label||b.name),labelWidth:c},i().createElement(i().Fragment,null,(b.type===ta.QUERY||b.type===ta.CUSTOM)&&i().createElement(ns,{variable:b,emptyValue:r,persistent:a,customValue:s,panelEventBus:v,maxVisibleValues:d}),b.type===ta.TEXTBOX&&w&&i().createElement(es,{variable:b,persistent:a,panelEventBus:v,isUseLocalTime:f}),b.type===ta.TEXTBOX&&y&&i().createElement(ts,{variable:b,persistent:a,panelEventBus:v,timeZone:g,isUseLocalTime:f,minimizeOutputFormat:p}),b.type===ta.TEXTBOX&&!y&&!w&&i().createElement(rs,{variable:b,panelEventBus:v})))):i().createElement(n.Alert,{severity:"info",title:"Variable","data-testid":Oo},h||Pa)},is=(e,t,n)=>({root:l.css`
      display: flex;
      gap: ${e.spacing(.5)};
      flex-wrap: wrap;
    `,field:l.css`
      flex: auto;
      align-items: center;

      label {
        color: ${e.colors.text.link};
        background: ${e.colors.background.primary};
        border: 1px solid ${e.colors.border.weak};
      }
    `,label:l.css`
      color: ${e.colors.text.link};
      background: ${e.colors.background.primary};
      border: 1px solid ${e.colors.border.weak};
      margin: ${e.spacing(.25,0)};
    `,slider:l.css`
      margin-left: ${e.spacing(1)};
      width: 90%;

      .rc-slider-dot:first-of-type {
        left: 0 !important;
      }

      .rc-slider-mark-text:first-of-type {
        left: 0 !important;
      }

      .rc-slider-dot {
        left: 100% !important;
      }

      .rc-slider-mark-text {
        left: 100% !important;
      }

      .rc-slider-handle::after {
        content: '${t}';
        position: absolute;
        top: ${e.spacing(2.25)};
        right: -${e.spacing(2.25)};
        font-size: 12px;
        background: ${e.colors.background.primary};
        color: ${e.colors.secondary.text};
        padding: ${e.spacing(.5)};
        left: 50%;
        transform: translateX(-50%);
        width: max-content;
        max-width: ${n-80}px;
      }
    `}),ss=({width:e,options:{variable:t,padding:a=0,showLabel:s=!1,labelWidth:u,alertCustomMessage:c=""},eventBus:d,panelEventBus:p})=>{const{variable:f}=Ni(d,t||""),h=(e=>{const t=(0,o.useMemo)(()=>(null==e?void 0:e.options)?e.options:[],[null==e?void 0:e.options]),n=(0,o.useMemo)(()=>e&&(null==e?void 0:e.includeAll)?1:0,[e]),r=(0,o.useMemo)(()=>e&&t.length>=1?t.length-1:0,[t.length,e]),a=(e,t)=>{var n;return e&&null!==(n=e.optionIndexByName.get(t))&&void 0!==n?n:0},i=(0,o.useMemo)(()=>e?Array.isArray(null==e?void 0:e.current.value)?null==e?void 0:e.current.value[0]:null==e?void 0:e.current.value:"",[e]),[s,l]=(0,o.useState)(a(e,i)),u=(0,o.useMemo)(()=>e&&t.length>0?{[n]:t[n].text,[r]:t[r].text}:"",[r,n,t,e]);(0,o.useEffect)(()=>{l(a(e,i))},[e,i]);const c=(0,o.useMemo)(()=>{var t,n;return null!==(n=null==e||null===(t=e.options[s])||void 0===t?void 0:t.text)&&void 0!==n?n:""},[s,null==e?void 0:e.options]);return{min:n,max:r,value:s,marks:u,setValue:l,text:c,variableValue:i}})(ii(f)?f:void 0),g=(0,n.useStyles2)(is,h.text,e);return f?ii(f)&&f.multi||!ii(f)?i().createElement(n.Alert,{severity:"info",title:"Variable","data-testid":Vo},"View is not supported for the selected variable. Multiple values not supported. Variable without options are not supported."):f.options.length?i().createElement("div",{className:(0,l.cx)(g.root,l.css`
          padding: ${a}px;
        `),"data-testid":zo},i().createElement(n.InlineField,{label:s&&(f.label||f.name),className:g.field,grow:!0,labelWidth:u,"data-testid":jo},i().createElement("div",{className:g.slider},i().createElement(r.Ap,{"data-testid":$o,included:!0,max:h.max,min:h.min,orientation:"horizontal",onChange:e=>{h.setValue(e)},onAfterChange:(e=h.value)=>{const t=f.options[e].value;ci({previousValues:[h.variableValue],value:t,variable:f,emptyValueEnabled:!1,panelEventBus:p})},marks:h.marks,value:h.value,inputWidth:0})))):i().createElement(n.Alert,{severity:"info",title:"Variable","data-testid":Fo},"No Variable Options."):i().createElement(n.Alert,{severity:"info",title:"Variable","data-testid":No},c||Pa)};function ls(e,t){return"function"==typeof e?e(t):e}function us(e,t){return n=>{t.setState(t=>({...t,[e]:ls(n,t[e])}))}}function cs(e){return e instanceof Function}function ds(e,t,n){let r,a=[];return o=>{let i;n.key&&n.debug&&(i=Date.now());const s=e(o);if(s.length===a.length&&!s.some((e,t)=>a[t]!==e))return r;let l;if(a=s,n.key&&n.debug&&(l=Date.now()),r=t(...s),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()){const e=Math.round(100*(Date.now()-i))/100,t=Math.round(100*(Date.now()-l))/100,r=t/16,a=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${a(t,5)} /${a(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return r}}function ps(e,t,n,r){return{debug:()=>{var n;return null!=(n=null==e?void 0:e.debugAll)?n:e[t]},key:!1,onChange:r}}const fs="debugHeaders";function hs(e,t,n){var r;let a={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(a),e},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(t=>{null==t.createHeader||t.createHeader(a,e)}),a}const gs={createTable:e=>{e.getHeaderGroups=ds(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>{var o,i;const s=null!=(o=null==r?void 0:r.map(e=>n.find(t=>t.id===e)).filter(Boolean))?o:[],l=null!=(i=null==a?void 0:a.map(e=>n.find(t=>t.id===e)).filter(Boolean))?i:[];return ms(t,[...s,...n.filter(e=>!(null!=r&&r.includes(e.id)||null!=a&&a.includes(e.id))),...l],e)},ps(e.options,fs)),e.getCenterHeaderGroups=ds(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>ms(t,n=n.filter(e=>!(null!=r&&r.includes(e.id)||null!=a&&a.includes(e.id))),e,"center"),ps(e.options,fs)),e.getLeftHeaderGroups=ds(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var a;return ms(t,null!=(a=null==r?void 0:r.map(e=>n.find(t=>t.id===e)).filter(Boolean))?a:[],e,"left")},ps(e.options,fs)),e.getRightHeaderGroups=ds(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var a;return ms(t,null!=(a=null==r?void 0:r.map(e=>n.find(t=>t.id===e)).filter(Boolean))?a:[],e,"right")},ps(e.options,fs)),e.getFooterGroups=ds(()=>[e.getHeaderGroups()],e=>[...e].reverse(),ps(e.options,fs)),e.getLeftFooterGroups=ds(()=>[e.getLeftHeaderGroups()],e=>[...e].reverse(),ps(e.options,fs)),e.getCenterFooterGroups=ds(()=>[e.getCenterHeaderGroups()],e=>[...e].reverse(),ps(e.options,fs)),e.getRightFooterGroups=ds(()=>[e.getRightHeaderGroups()],e=>[...e].reverse(),ps(e.options,fs)),e.getFlatHeaders=ds(()=>[e.getHeaderGroups()],e=>e.map(e=>e.headers).flat(),ps(e.options,fs)),e.getLeftFlatHeaders=ds(()=>[e.getLeftHeaderGroups()],e=>e.map(e=>e.headers).flat(),ps(e.options,fs)),e.getCenterFlatHeaders=ds(()=>[e.getCenterHeaderGroups()],e=>e.map(e=>e.headers).flat(),ps(e.options,fs)),e.getRightFlatHeaders=ds(()=>[e.getRightHeaderGroups()],e=>e.map(e=>e.headers).flat(),ps(e.options,fs)),e.getCenterLeafHeaders=ds(()=>[e.getCenterFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),ps(e.options,fs)),e.getLeftLeafHeaders=ds(()=>[e.getLeftFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),ps(e.options,fs)),e.getRightLeafHeaders=ds(()=>[e.getRightFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),ps(e.options,fs)),e.getLeafHeaders=ds(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(e,t,n)=>{var r,a,o,i,s,l;return[...null!=(r=null==(a=e[0])?void 0:a.headers)?r:[],...null!=(o=null==(i=t[0])?void 0:i.headers)?o:[],...null!=(s=null==(l=n[0])?void 0:l.headers)?s:[]].map(e=>e.getLeafHeaders()).flat()},ps(e.options,fs))}};function ms(e,t,n,r){var a,o;let i=0;const s=function(e,t){void 0===t&&(t=1),i=Math.max(i,t),e.filter(e=>e.getIsVisible()).forEach(e=>{var n;null!=(n=e.columns)&&n.length&&s(e.columns,t+1)},0)};s(e);let l=[];const u=(e,t)=>{const a={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]},o=[];e.forEach(e=>{const i=[...o].reverse()[0];let s,l=!1;if(e.column.depth===a.depth&&e.column.parent?s=e.column.parent:(s=e.column,l=!0),i&&(null==i?void 0:i.column)===s)i.subHeaders.push(e);else{const a=hs(n,s,{id:[r,t,s.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:l,placeholderId:l?`${o.filter(e=>e.column===s).length}`:void 0,depth:t,index:o.length});a.subHeaders.push(e),o.push(a)}a.headers.push(e),e.headerGroup=a}),l.push(a),t>0&&u(o,t-1)},c=t.map((e,t)=>hs(n,e,{depth:i,index:t}));u(c,i-1),l.reverse();const d=e=>e.filter(e=>e.column.getIsVisible()).map(e=>{let t=0,n=0,r=[0];return e.subHeaders&&e.subHeaders.length?(r=[],d(e.subHeaders).forEach(e=>{let{colSpan:n,rowSpan:a}=e;t+=n,r.push(a)})):t=1,n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}});return d(null!=(a=null==(o=l[0])?void 0:o.headers)?a:[]),l}const vs=(e,t,n,r,a,o,i)=>{let s={id:t,index:r,original:n,depth:a,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(s._valuesCache.hasOwnProperty(t))return s._valuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?(s._valuesCache[t]=n.accessorFn(s.original,r),s._valuesCache[t]):void 0},getUniqueValues:t=>{if(s._uniqueValuesCache.hasOwnProperty(t))return s._uniqueValuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(s._uniqueValuesCache[t]=n.columnDef.getUniqueValues(s.original,r),s._uniqueValuesCache[t]):(s._uniqueValuesCache[t]=[s.getValue(t)],s._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=s.getValue(t))?n:e.options.renderFallbackValue},subRows:null!=o?o:[],getLeafRows:()=>function(e,t){const n=[],r=e=>{e.forEach(e=>{n.push(e);const a=t(e);null!=a&&a.length&&r(a)})};return r(e),n}(s.subRows,e=>e.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let e=[],t=s;for(;;){const n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:ds(()=>[e.getAllLeafColumns()],t=>t.map(t=>function(e,t,n,r){const a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=a.getValue())?t:e.options.renderFallbackValue},getContext:ds(()=>[e,n,t,a],(e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue}),ps(e.options,"debugCells"))};return e._features.forEach(r=>{null==r.createCell||r.createCell(a,n,t,e)},{}),a}(e,s,t,t.id)),ps(e.options,"debugRows")),_getAllCellsByColumnId:ds(()=>[s.getAllCells()],e=>e.reduce((e,t)=>(e[t.column.id]=t,e),{}),ps(e.options,"debugRows"))};for(let t=0;t<e._features.length;t++){const n=e._features[t];null==n||null==n.createRow||n.createRow(s,e)}return s},bs={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},ys=(e,t,n)=>{var r,a;const o=null==n||null==(r=n.toString())?void 0:r.toLowerCase();return Boolean(null==(a=e.getValue(t))||null==(a=a.toString())||null==(a=a.toLowerCase())?void 0:a.includes(o))};ys.autoRemove=e=>Ds(e);const ws=(e,t,n)=>{var r;return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.includes(n))};ws.autoRemove=e=>Ds(e);const Ss=(e,t,n)=>{var r;return(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.toLowerCase())===(null==n?void 0:n.toLowerCase())};Ss.autoRemove=e=>Ds(e);const xs=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};xs.autoRemove=e=>Ds(e);const Es=(e,t,n)=>!n.some(n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))});Es.autoRemove=e=>Ds(e)||!(null!=e&&e.length);const Cs=(e,t,n)=>n.some(n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)});Cs.autoRemove=e=>Ds(e)||!(null!=e&&e.length);const As=(e,t,n)=>e.getValue(t)===n;As.autoRemove=e=>Ds(e);const Os=(e,t,n)=>e.getValue(t)==n;Os.autoRemove=e=>Ds(e);const Rs=(e,t,n)=>{let[r,a]=n;const o=e.getValue(t);return o>=r&&o<=a};Rs.resolveFilterValue=e=>{let[t,n]=e,r="number"!=typeof t?parseFloat(t):t,a="number"!=typeof n?parseFloat(n):n,o=null===t||Number.isNaN(r)?-1/0:r,i=null===n||Number.isNaN(a)?1/0:a;if(o>i){const e=o;o=i,i=e}return[o,i]},Rs.autoRemove=e=>Ds(e)||Ds(e[0])&&Ds(e[1]);const Is={includesString:ys,includesStringSensitive:ws,equalsString:Ss,arrIncludes:xs,arrIncludesAll:Es,arrIncludesSome:Cs,equals:As,weakEquals:Os,inNumberRange:Rs};function Ds(e){return null==e||""===e}const Ps={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:us("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"string"==typeof r?Is.includesString:"number"==typeof r?Is.inNumberRange:"boolean"==typeof r||null!==r&&"object"==typeof r?Is.equals:Array.isArray(r)?Is.arrIncludes:Is.weakEquals},e.getFilterFn=()=>{var n,r;return cs(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:Is[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,a;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(a=t.options.enableFilters)||a)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return null==(n=t.getState().columnFilters)||null==(n=n.find(t=>t.id===e.id))?void 0:n.value},e.getFilterIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex(t=>t.id===e.id))?n:-1},e.setFilterValue=n=>{t.setColumnFilters(t=>{const r=e.getFilterFn(),a=null==t?void 0:t.find(t=>t.id===e.id),o=ls(n,a?a.value:void 0);var i;if(_s(r,o,e))return null!=(i=null==t?void 0:t.filter(t=>t.id!==e.id))?i:[];const s={id:e.id,value:o};var l;return a?null!=(l=null==t?void 0:t.map(t=>t.id===e.id?s:t))?l:[]:null!=t&&t.length?[...t,s]:[s]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange(e=>{var r;return null==(r=ls(t,e))?void 0:r.filter(e=>{const t=n.find(t=>t.id===e.id);return!t||!_s(t.getFilterFn(),e.value,t)})})},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function _s(e,t,n){return!(!e||!e.autoRemove)&&e.autoRemove(t,n)||void 0===t||"string"==typeof t&&!t}const Ts={sum:(e,t,n)=>n.reduce((t,n)=>{const r=n.getValue(e);return t+("number"==typeof r?r:0)},0),min:(e,t,n)=>{let r;return n.forEach(t=>{const n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)}),r},max:(e,t,n)=>{let r;return n.forEach(t=>{const n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)}),r},extent:(e,t,n)=>{let r,a;return n.forEach(t=>{const n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=a=n):(r>n&&(r=n),a<n&&(a=n)))}),[r,a]},mean:(e,t)=>{let n=0,r=0;if(t.forEach(t=>{let a=t.getValue(e);null!=a&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},median:(e,t)=>{if(!t.length)return;const n=t.map(t=>t.getValue(e));if(r=n,!Array.isArray(r)||!r.every(e=>"number"==typeof e))return;var r;if(1===n.length)return n[0];const a=Math.floor(n.length/2),o=n.sort((e,t)=>e-t);return n.length%2!=0?o[a]:(o[a-1]+o[a])/2},unique:(e,t)=>Array.from(new Set(t.map(t=>t.getValue(e))).values()),uniqueCount:(e,t)=>new Set(t.map(t=>t.getValue(e))).size,count:(e,t)=>t.length},ks={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:us("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(t=>null!=t&&t.includes(e.id)?t.filter(t=>t!==e.id):[...null!=t?t:[],e.id])},e.getCanGroup=()=>{var n,r;return(null==(n=e.columnDef.enableGrouping)||n)&&(null==(r=t.options.enableGrouping)||r)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"number"==typeof r?Ts.sum:"[object Date]"===Object.prototype.toString.call(r)?Ts.extent:void 0},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return cs(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:Ts[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=n.subRows)||!t.length)}}},Ms={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:us("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=ds(e=>[js(t,e)],t=>t.findIndex(t=>t.id===e.id),ps(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return(null==(r=js(t,n)[0])?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const a=js(t,n);return(null==(r=a[a.length-1])?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},e._getOrderColumnsFn=ds(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(e,t,n)=>r=>{let a=[];if(null!=e&&e.length){const t=[...e],n=[...r];for(;n.length&&t.length;){const e=t.shift(),r=n.findIndex(t=>t.id===e);r>-1&&a.push(n.splice(r,1)[0])}a=[...a,...n]}else a=r;return function(e,t,n){if(null==t||!t.length||!n)return e;const r=e.filter(e=>!t.includes(e.id));return"remove"===n?r:[...t.map(t=>e.find(e=>e.id===t)).filter(Boolean),...r]}(a,t,n)},ps(e.options,"debugTable"))}},Bs={getInitialState:e=>({columnPinning:{left:[],right:[]},...e}),getDefaultOptions:e=>({onColumnPinningChange:us("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(e=>e.id).filter(Boolean);t.setColumnPinning(e=>{var t,a,o,i,s,l;return"right"===n?{left:(null!=(o=null==e?void 0:e.left)?o:[]).filter(e=>!(null!=r&&r.includes(e))),right:[...(null!=(i=null==e?void 0:e.right)?i:[]).filter(e=>!(null!=r&&r.includes(e))),...r]}:"left"===n?{left:[...(null!=(s=null==e?void 0:e.left)?s:[]).filter(e=>!(null!=r&&r.includes(e))),...r],right:(null!=(l=null==e?void 0:e.right)?l:[]).filter(e=>!(null!=r&&r.includes(e)))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter(e=>!(null!=r&&r.includes(e))),right:(null!=(a=null==e?void 0:e.right)?a:[]).filter(e=>!(null!=r&&r.includes(e)))}})},e.getCanPin=()=>e.getLeafColumns().some(e=>{var n,r,a;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=null!=(a=t.options.enableColumnPinning)?a:t.options.enablePinning)||r)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(e=>e.id),{left:r,right:a}=t.getState().columnPinning,o=n.some(e=>null==r?void 0:r.includes(e)),i=n.some(e=>null==a?void 0:a.includes(e));return o?"left":!!i&&"right"},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();return a?null!=(n=null==(r=t.getState().columnPinning)||null==(r=r[a])?void 0:r.indexOf(e.id))?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=ds(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter(e=>!r.includes(e.column.id))},ps(t.options,"debugRows")),e.getLeftVisibleCells=ds(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>({...e,position:"left"})),ps(t.options,"debugRows")),e.getRightVisibleCells=ds(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>({...e,position:"right"})),ps(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?{left:[],right:[]}:null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:{left:[],right:[]})},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;var a,o;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(a=r.left)?void 0:a.length)||(null==(o=r.right)?void 0:o.length))},e.getLeftLeafColumns=ds(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),ps(e.options,"debugColumns")),e.getRightLeafColumns=ds(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),ps(e.options,"debugColumns")),e.getCenterLeafColumns=ds(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter(e=>!r.includes(e.id))},ps(e.options,"debugColumns"))}},Ls={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Ns={getDefaultColumnDef:()=>Ls,getInitialState:e=>({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]},...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:us("columnSizing",e),onColumnSizingInfoChange:us("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,a;const o=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:Ls.minSize,null!=(r=null!=o?o:e.columnDef.size)?r:Ls.size),null!=(a=e.columnDef.maxSize)?a:Ls.maxSize)},e.getStart=ds(e=>[e,js(t,e),t.getState().columnSizing],(t,n)=>n.slice(0,e.getIndex(t)).reduce((e,t)=>e+t.getSize(),0),ps(t.options,"debugColumns")),e.getAfter=ds(e=>[e,js(t,e),t.getState().columnSizing],(t,n)=>n.slice(e.getIndex(t)+1).reduce((e,t)=>e+t.getSize(),0),ps(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(t=>{let{[e.id]:n,...r}=t;return r})},e.getCanResize=()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const n=e=>{var r;e.subHeaders.length?e.subHeaders.forEach(n):t+=null!=(r=e.column.getSize())?r:0};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),a=null==r?void 0:r.getCanResize();return o=>{if(!r||!a)return;if(null==o.persist||o.persist(),Fs(o)&&o.touches&&o.touches.length>1)return;const i=e.getSize(),s=e?e.getLeafHeaders().map(e=>[e.column.id,e.column.getSize()]):[[r.id,r.getSize()]],l=Fs(o)?Math.round(o.touches[0].clientX):o.clientX,u={},c=(e,n)=>{"number"==typeof n&&(t.setColumnSizingInfo(e=>{var r,a;const o="rtl"===t.options.columnResizeDirection?-1:1,i=(n-(null!=(r=null==e?void 0:e.startOffset)?r:0))*o,s=Math.max(i/(null!=(a=null==e?void 0:e.startSize)?a:0),-.999999);return e.columnSizingStart.forEach(e=>{let[t,n]=e;u[t]=Math.round(100*Math.max(n+n*s,0))/100}),{...e,deltaOffset:i,deltaPercentage:s}}),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing(e=>({...e,...u})))},d=e=>c("move",e),p=e=>{c("end",e),t.setColumnSizingInfo(e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},f=n||("undefined"!=typeof document?document:null),h={moveHandler:e=>d(e.clientX),upHandler:e=>{null==f||f.removeEventListener("mousemove",h.moveHandler),null==f||f.removeEventListener("mouseup",h.upHandler),p(e.clientX)}},g={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1),upHandler:e=>{var t;null==f||f.removeEventListener("touchmove",g.moveHandler),null==f||f.removeEventListener("touchend",g.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),p(null==(t=e.touches[0])?void 0:t.clientX)}},m=!!function(){if("boolean"==typeof Vs)return Vs;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch(t){e=!1}return Vs=e,Vs}()&&{passive:!1};Fs(o)?(null==f||f.addEventListener("touchmove",g.moveHandler,m),null==f||f.addEventListener("touchend",g.upHandler,m)):(null==f||f.addEventListener("mousemove",h.moveHandler,m),null==f||f.addEventListener("mouseup",h.upHandler,m)),t.setColumnSizingInfo(e=>({...e,startOffset:l,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(n=e.initialState.columnSizingInfo)?n:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},e.getTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getLeftTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getCenterTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getRightTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce((e,t)=>e+t.getSize(),0))?t:0}}};let Vs=null;function Fs(e){return"touchstart"===e.type}function js(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const $s={getInitialState:e=>({rowPinning:{top:[],bottom:[]},...e}),getDefaultOptions:e=>({onRowPinningChange:us("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,a)=>{const o=r?e.getLeafRows().map(e=>{let{id:t}=e;return t}):[],i=a?e.getParentRows().map(e=>{let{id:t}=e;return t}):[],s=new Set([...i,e.id,...o]);t.setRowPinning(e=>{var t,r,a,o,i,l;return"bottom"===n?{top:(null!=(a=null==e?void 0:e.top)?a:[]).filter(e=>!(null!=s&&s.has(e))),bottom:[...(null!=(o=null==e?void 0:e.bottom)?o:[]).filter(e=>!(null!=s&&s.has(e))),...Array.from(s)]}:"top"===n?{top:[...(null!=(i=null==e?void 0:e.top)?i:[]).filter(e=>!(null!=s&&s.has(e))),...Array.from(s)],bottom:(null!=(l=null==e?void 0:e.bottom)?l:[]).filter(e=>!(null!=s&&s.has(e)))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter(e=>!(null!=s&&s.has(e))),bottom:(null!=(r=null==e?void 0:e.bottom)?r:[]).filter(e=>!(null!=s&&s.has(e)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:a}=t.options;return"function"==typeof r?r(e):null==(n=null!=r?r:a)||n},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:a}=t.getState().rowPinning,o=n.some(e=>null==r?void 0:r.includes(e)),i=n.some(e=>null==a?void 0:a.includes(e));return o?"top":!!i&&"bottom"},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();if(!a)return-1;const o=null==(n="top"===a?t.getTopRows():t.getBottomRows())?void 0:n.map(e=>{let{id:t}=e;return t});return null!=(r=null==o?void 0:o.indexOf(e.id))?r:-1}},createTable:e=>{e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?{top:[],bottom:[]}:null!=(n=null==(r=e.initialState)?void 0:r.rowPinning)?n:{top:[],bottom:[]})},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;var a,o;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(a=r.top)?void 0:a.length)||(null==(o=r.bottom)?void 0:o.length))},e._getPinnedRows=(t,n,r)=>{var a;return(null==(a=e.options.keepPinnedRows)||a?(null!=n?n:[]).map(t=>{const n=e.getRow(t,!0);return n.getIsAllParentsExpanded()?n:null}):(null!=n?n:[]).map(e=>t.find(t=>t.id===e))).filter(Boolean).map(e=>({...e,position:r}))},e.getTopRows=ds(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),ps(e.options,"debugRows")),e.getBottomRows=ds(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),ps(e.options,"debugRows")),e.getCenterRows=ds(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(e,t,n)=>{const r=new Set([...null!=t?t:[],...null!=n?n:[]]);return e.filter(e=>!r.has(e.id))},ps(e.options,"debugRows"))}},zs={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:us("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=void 0!==t?t:!e.getIsAllRowsSelected();const r={...n},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach(e=>{e.getCanSelect()&&(r[e.id]=!0)}):a.forEach(e=>{delete r[e.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=void 0!==t?t:!e.getIsAllPageRowsSelected(),a={...n};return e.getRowModel().rows.forEach(t=>{Hs(a,t.id,r,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=ds(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Us(e,n):{rows:[],flatRows:[],rowsById:{}},ps(e.options,"debugTable")),e.getFilteredSelectedRowModel=ds(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Us(e,n):{rows:[],flatRows:[],rowsById:{}},ps(e.options,"debugTable")),e.getGroupedSelectedRowModel=ds(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Us(e,n):{rows:[],flatRows:[],rowsById:{}},ps(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=Boolean(t.length&&Object.keys(n).length);return r&&t.some(e=>e.getCanSelect()&&!n[e.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(e=>e.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(e=>!n[e.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter(e=>e.getCanSelect()).some(e=>e.getIsSelected()||e.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const a=e.getIsSelected();t.setRowSelection(o=>{var i;if(n=void 0!==n?n:!a,e.getCanSelect()&&a===n)return o;const s={...o};return Hs(s,e.id,n,null==(i=null==r?void 0:r.selectChildren)||i,t),s})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Gs(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return"some"===Ws(e,n)},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return"all"===Ws(e,n)},e.getCanSelect=()=>{var n;return"function"==typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},e.getCanSelectSubRows=()=>{var n;return"function"==typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},e.getCanMultiSelect=()=>{var n;return"function"==typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}}},Hs=(e,t,n,r,a)=>{var o;const i=a.getRow(t,!0);n?(i.getCanMultiSelect()||Object.keys(e).forEach(t=>delete e[t]),i.getCanSelect()&&(e[t]=!0)):delete e[t],r&&null!=(o=i.subRows)&&o.length&&i.getCanSelectSubRows()&&i.subRows.forEach(t=>Hs(e,t.id,n,r,a))};function Us(e,t){const n=e.getState().rowSelection,r=[],a={},o=function(e,t){return e.map(e=>{var t;const i=Gs(e,n);if(i&&(r.push(e),a[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:o(e.subRows)}),i)return e}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:a}}function Gs(e,t){var n;return null!=(n=t[e.id])&&n}function Ws(e,t,n){var r;if(null==(r=e.subRows)||!r.length)return!1;let a=!0,o=!1;return e.subRows.forEach(e=>{if((!o||a)&&(e.getCanSelect()&&(Gs(e,t)?o=!0:a=!1),e.subRows&&e.subRows.length)){const n=Ws(e,t);"all"===n?o=!0:"some"===n?(o=!0,a=!1):a=!1}}),a?"all":!!o&&"some"}const qs=/([0-9]+)/gm;function Qs(e,t){return e===t?0:e>t?1:-1}function Ys(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}function Xs(e,t){const n=e.split(qs).filter(Boolean),r=t.split(qs).filter(Boolean);for(;n.length&&r.length;){const e=n.shift(),t=r.shift(),a=parseInt(e,10),o=parseInt(t,10),i=[a,o].sort();if(isNaN(i[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(i[1]))return isNaN(a)?-1:1;if(a>o)return 1;if(o>a)return-1}}return n.length-r.length}const Ks={alphanumeric:(e,t,n)=>Xs(Ys(e.getValue(n)).toLowerCase(),Ys(t.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(e,t,n)=>Xs(Ys(e.getValue(n)),Ys(t.getValue(n))),text:(e,t,n)=>Qs(Ys(e.getValue(n)).toLowerCase(),Ys(t.getValue(n)).toLowerCase()),textCaseSensitive:(e,t,n)=>Qs(Ys(e.getValue(n)),Ys(t.getValue(n))),datetime:(e,t,n)=>{const r=e.getValue(n),a=t.getValue(n);return r>a?1:r<a?-1:0},basic:(e,t,n)=>Qs(e.getValue(n),t.getValue(n))},Zs=[gs,{getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:us("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(t=>({...t,[e.id]:null!=n?n:!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const a=e.columns;return null==(n=a.length?a.some(e=>e.getIsVisible()):null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},e.getCanHide=()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=ds(()=>[e.getAllCells(),t.getState().columnVisibility],e=>e.filter(e=>e.column.getIsVisible()),ps(t.options,"debugRows")),e.getVisibleCells=ds(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(e,t,n)=>[...e,...t,...n],ps(t.options,"debugRows"))},createTable:e=>{const t=(t,n)=>ds(()=>[n(),n().filter(e=>e.getIsVisible()).map(e=>e.id).join("_")],e=>e.filter(e=>null==e.getIsVisible?void 0:e.getIsVisible()),ps(e.options,"debugColumns"));e.getVisibleFlatColumns=t(0,()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t(0,()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t(0,()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t(0,()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t(0,()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((e,n)=>({...e,[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(e=>!(null!=e.getIsVisible&&e.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(e=>null==e.getIsVisible?void 0:e.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}},Ms,Bs,bs,Ps,{createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},{getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:us("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=null==(n=e.getCoreRowModel().flatRows[0])||null==(n=n._getAllCellsByColumnId()[t.id])?void 0:n.getValue();return"string"==typeof r||"number"==typeof r}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,a,o;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(a=t.options.enableFilters)||a)&&(null==(o=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||o)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Is.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return cs(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:Is[r]},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},{getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:us("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const t of n){const n=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return Ks.datetime;if("string"==typeof n&&(r=!0,n.split(qs).length>1))return Ks.alphanumeric}return r?Ks.text:Ks.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return"string"==typeof(null==n?void 0:n.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return cs(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:Ks[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const a=e.getNextSortingOrder(),o=null!=n;t.setSorting(i=>{const s=null==i?void 0:i.find(t=>t.id===e.id),l=null==i?void 0:i.findIndex(t=>t.id===e.id);let u,c=[],d=o?n:"desc"===a;var p;return u=null!=i&&i.length&&e.getCanMultiSort()&&r?s?"toggle":"add":null!=i&&i.length&&l!==i.length-1?"replace":s?"toggle":"replace","toggle"===u&&(o||a||(u="remove")),"add"===u?(c=[...i,{id:e.id,desc:d}],c.splice(0,c.length-(null!=(p=t.options.maxMultiSortColCount)?p:Number.MAX_SAFE_INTEGER))):c="toggle"===u?i.map(t=>t.id===e.id?{...t,desc:d}:t):"remove"===u?i.filter(t=>t.id!==e.id):[{id:e.id,desc:d}],c})},e.getFirstSortDir=()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=n=>{var r,a;const o=e.getFirstSortDir(),i=e.getIsSorted();return i?!!(i===o||null!=(r=t.options.enableSortingRemoval)&&!r||n&&null!=(a=t.options.enableMultiRemove)&&!a)&&("desc"===i?"asc":"desc"):o},e.getCanSort=()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=null==(n=t.getState().sorting)?void 0:n.find(t=>t.id===e.id);return!!r&&(r.desc?"desc":"asc")},e.getSortIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex(t=>t.id===e.id))?n:-1},e.clearSorting=()=>{t.setSorting(t=>null!=t&&t.length?t.filter(t=>t.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},ks,{getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:us("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,a;if(t){if(null!=(r=null!=(a=e.options.autoResetAll)?a:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}}else e._queue(()=>{t=!0})},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(e=>e.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;return"boolean"==typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some(e=>!e.getIsExpanded())},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(e=>{const n=e.split(".");t=Math.max(t,n.length)}),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var a;const o=!0===r||!(null==r||!r[e.id]);let i={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach(e=>{i[e]=!0}):i=r,n=null!=(a=n)?a:!o,!o&&n)return{...i,[e.id]:!0};if(o&&!n){const{[e.id]:t,...n}=i;return n}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||(null==r?void 0:r[e.id]))},e.getCanExpand=()=>{var n,r,a;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!(null==(a=e.subRows)||!a.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},{getInitialState:e=>({...e,pagination:{pageIndex:0,pageSize:10,...null==e?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:us("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,a;if(t){if(null!=(r=null!=(a=e.options.autoResetAll)?a:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}}else e._queue(()=>{t=!0})},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange(e=>ls(t,e)),e.resetPagination=t=>{var n;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(n=e.initialState.pagination)?n:{pageIndex:0,pageSize:10})},e.setPageIndex=t=>{e.setPagination(n=>{let r=ls(t,n.pageIndex);const a=void 0===e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,a)),{...n,pageIndex:r}})},e.resetPageIndex=t=>{var n,r;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageIndex)?n:0)},e.resetPageSize=t=>{var n,r;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageSize)?n:10)},e.setPageSize=t=>{e.setPagination(e=>{const n=Math.max(1,ls(t,e.pageSize)),r=e.pageSize*e.pageIndex,a=Math.floor(r/n);return{...e,pageIndex:a,pageSize:n}})},e.setPageCount=t=>e.setPagination(n=>{var r;let a=ls(t,null!=(r=e.options.pageCount)?r:-1);return"number"==typeof a&&(a=Math.max(-1,a)),{...n,pageCount:a}}),e.getPageOptions=ds(()=>[e.getPageCount()],e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map((e,t)=>t)),t},ps(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return-1===n||0!==n&&t<n-1},e.previousPage=()=>e.setPageIndex(e=>e-1),e.nextPage=()=>e.setPageIndex(e=>e+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},$s,zs,Ns];function Js(e){var t,n;const r=[...Zs,...null!=(t=e._features)?t:[]];let a={_features:r};const o=a._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(a)),{});let i={...null!=(n=e.initialState)?n:{}};a._features.forEach(e=>{var t;i=null!=(t=null==e.getInitialState?void 0:e.getInitialState(i))?t:i});const s=[];let l=!1;const u={_features:r,options:{...o,...e},initialState:i,_queue:e=>{s.push(e),l||(l=!0,Promise.resolve().then(()=>{for(;s.length;)s.shift()();l=!1}).catch(e=>setTimeout(()=>{throw e})))},reset:()=>{a.setState(a.initialState)},setOptions:e=>{const t=ls(e,a.options);a.options=(e=>a.options.mergeOptions?a.options.mergeOptions(o,e):{...o,...e})(t)},getState:()=>a.options.state,setState:e=>{null==a.options.onStateChange||a.options.onStateChange(e)},_getRowId:(e,t,n)=>{var r;return null!=(r=null==a.options.getRowId?void 0:a.options.getRowId(e,t,n))?r:`${n?[n.id,t].join("."):t}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(e,t)=>{let n=(t?a.getPrePaginationRowModel():a.getRowModel()).rowsById[e];if(!n&&(n=a.getCoreRowModel().rowsById[e],!n))throw new Error;return n},_getDefaultColumnDef:ds(()=>[a.options.defaultColumn],e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null},...a._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef()),{}),...e}},ps(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:ds(()=>[a._getColumnDefs()],e=>{const t=function(e,n,r){return void 0===r&&(r=0),e.map(e=>{const o=function(e,t,n,r){var a,o;const i={...e._getDefaultColumnDef(),...t},s=i.accessorKey;let l,u=null!=(a=null!=(o=i.id)?o:s?"function"==typeof String.prototype.replaceAll?s.replaceAll(".","_"):s.replace(/\./g,"_"):void 0)?a:"string"==typeof i.header?i.header:void 0;if(i.accessorFn?l=i.accessorFn:s&&(l=s.includes(".")?e=>{let t=e;for(const e of s.split(".")){var n;t=null==(n=t)?void 0:n[e]}return t}:e=>e[i.accessorKey]),!u)throw new Error;let c={id:`${String(u)}`,accessorFn:l,parent:r,depth:n,columnDef:i,columns:[],getFlatColumns:ds(()=>[!0],()=>{var e;return[c,...null==(e=c.columns)?void 0:e.flatMap(e=>e.getFlatColumns())]},ps(e.options,"debugColumns")),getLeafColumns:ds(()=>[e._getOrderColumnsFn()],e=>{var t;if(null!=(t=c.columns)&&t.length){let t=c.columns.flatMap(e=>e.getLeafColumns());return e(t)}return[c]},ps(e.options,"debugColumns"))};for(const t of e._features)null==t.createColumn||t.createColumn(c,e);return c}(a,e,r,n),i=e;return o.columns=i.columns?t(i.columns,o,r+1):[],o})};return t(e)},ps(e,"debugColumns")),getAllFlatColumns:ds(()=>[a.getAllColumns()],e=>e.flatMap(e=>e.getFlatColumns()),ps(e,"debugColumns")),_getAllFlatColumnsById:ds(()=>[a.getAllFlatColumns()],e=>e.reduce((e,t)=>(e[t.id]=t,e),{}),ps(e,"debugColumns")),getAllLeafColumns:ds(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(e,t)=>t(e.flatMap(e=>e.getLeafColumns())),ps(e,"debugColumns")),getColumn:e=>a._getAllFlatColumnsById()[e]};Object.assign(a,u);for(let e=0;e<a._features.length;e++){const t=a._features[e];null==t||null==t.createTable||t.createTable(a)}return a}function el(e,t){return e?function(e){return"function"==typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}(n=e)||"function"==typeof n||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(n)?o.createElement(e,t):e:null;var n}var tl=m(5007);const nl=e=>{var t;const n=e.colors.emphasize(e.colors.background.primary,.03);return{table:l.css`
      border-radius: ${null===(t=e.shape.radius)||void 0===t?void 0:t.default};
      width: 100%;

      td {
        padding: ${e.spacing(1)};
      }

      td,
      th {
        min-width: ${e.spacing(3)};
      }
    `,disableGrow:l.css`
      width: 0;
    `,selectedColumn:l.css`
      min-width: ${e.spacing(.25)}!important;
      width: ${e.spacing(.25)}!important;
      padding: 0;
    `,selectedAllFilterButton:l.css`
      padding: 0;
    `,header:l.css`
      position: sticky;
      background-color: ${e.colors.background.primary};
      box-shadow: 0 1px ${e.colors.border.weak};
      z-index: 100;
    `,headerCell:l.css`
      padding: ${e.spacing(1)};
    `,row:l.css`
      border-bottom: 1px solid ${e.colors.border.weak};

      &:hover {
        background-color: ${n};
      }

      &:last-child {
        border-bottom: 0;
      }
    `,expandedRow:l.css`
      border-bottom: none;
    `,expandedContentRow:l.css`
      td {
        border-bottom: 1px solid ${e.colors.border.weak};
        position: relative;
        padding: ${e.spacing(2,2,2,5)};

        &:before {
          content: '';
          position: absolute;
          width: 1px;
          top: 0;
          left: 16px;
          bottom: ${e.spacing(2)};
          background: ${e.colors.border.medium};
        }
      }
    `,sortableHeader:l.css`
      /* increases selector's specificity so that it always takes precedence over default styles  */
      && {
      }
    `,headerButton:l.css`
      margin-left: ${e.spacing(.5)};
    `,filterContainer:l.css`
      background-color: ${e.colors.background.primary};
      padding: ${e.spacing(1)};
    `,filterInput:l.css`
      margin-top: ${e.spacing(.5)};
    `}},rl=({column:e,alwaysVisible:t})=>{const r=(0,n.useStyles2)(nl),[a,s]=(0,o.useState)(t),l=e.getFilterValue(),u=(0,o.useCallback)(()=>{s(e=>!e)},[]),c=(0,o.useCallback)(t=>{e.setFilterValue(t.currentTarget.value)},[e]);if("isFavorite"===e.columnDef.id)return i().createElement(n.Button,{variant:"secondary",fill:"text",tooltip:"Show all favorite items",size:"sm",onClick:()=>{e.setFilterValue(!l)},"data-testid":Xa},l?i().createElement(n.Icon,{name:"favorite"}):i().createElement(n.Icon,{name:"star"}));if("selected"===e.columnDef.id)return i().createElement(n.Button,{variant:"secondary",tooltip:"Show all selected values",className:r.selectedAllFilterButton,fill:"text",size:"sm",onClick:()=>{e.setFilterValue(!l)},"data-testid":Ka},l?i().createElement(n.Icon,{name:"check-square"}):i().createElement(n.Icon,{name:"square-shape"}));const d=i().createElement(n.Input,{placeholder:"Search values",value:"string"==typeof l?l:"",onChange:c,className:r.filterInput,"data-testid":Za,addonAfter:l?i().createElement(n.Button,{variant:"secondary",icon:"times",onClick:()=>e.setFilterValue(""),"data-testid":Ja}):null});return t?d:i().createElement(i().Fragment,null,i().createElement(n.Button,{icon:"filter",fill:"text",onClick:u,size:"sm",className:r.headerButton,"data-testid":Ua}),a&&d)},al=({data:e,className:t,columns:r,getSubRows:a,showHeader:s=!0,tableRef:u,topOffset:c=0,tableHeaderRef:d,scrollableContainerRef:p,alwaysVisibleFilter:f,isFocused:h,autoScroll:g,shouldScroll:m,onAfterScroll:v,collapsedByDefault:b,eventBus:y})=>{var w,S;const x=(0,n.useStyles2)(nl),[E,C]=(0,o.useState)(!b||{}),[A,O]=(0,o.useState)([]),R=function(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=o.useState(()=>({current:Js(t)})),[r,a]=o.useState(()=>n.current.initialState);return n.current.setOptions(t=>({...t,...e,state:{...r,...e.state},onStateChange:t=>{a(t),null==e.onStateChange||e.onStateChange(t)}})),n.current}({columns:r,data:e,autoResetExpanded:!1,enableSorting:!0,enableMultiSort:!1,getSubRows:a,getCoreRowModel:e=>ds(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(t,a,o){void 0===a&&(a=0);const i=[];for(let l=0;l<t.length;l++){const u=vs(e,e._getRowId(t[l],l,o),t[l],l,a,void 0,null==o?void 0:o.id);var s;n.flatRows.push(u),n.rowsById[u.id]=u,i.push(u),e.options.getSubRows&&(u.originalSubRows=e.options.getSubRows(t[l],l),null!=(s=u.originalSubRows)&&s.length&&(u.subRows=r(u.originalSubRows,a+1,u)))}return i};return n.rows=r(t),n},ps(e.options,"debugTable",0,()=>e._autoResetPageIndex())),getSortedRowModel:e=>ds(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||null==t||!t.length)return n;const r=e.getState().sorting,a=[],o=r.filter(t=>{var n;return null==(n=e.getColumn(t.id))?void 0:n.getCanSort()}),i={};o.forEach(t=>{const n=e.getColumn(t.id);n&&(i[t.id]={sortUndefined:n.columnDef.sortUndefined,invertSorting:n.columnDef.invertSorting,sortingFn:n.getSortingFn()})});const s=e=>{const t=e.map(e=>({...e}));return t.sort((e,t)=>{for(let r=0;r<o.length;r+=1){var n;const a=o[r],s=i[a.id],l=s.sortUndefined,u=null!=(n=null==a?void 0:a.desc)&&n;let c=0;if(l){const n=void 0===e.getValue(a.id),r=void 0===t.getValue(a.id);if(n||r){if("first"===l)return n?-1:1;if("last"===l)return n?1:-1;c=n&&r?0:n?l:-l}}if(0===c&&(c=s.sortingFn(e,t,a.id)),0!==c)return u&&(c*=-1),s.invertSorting&&(c*=-1),c}return e.index-t.index}),t.forEach(e=>{var t;a.push(e),null!=(t=e.subRows)&&t.length&&(e.subRows=s(e.subRows))}),t};return{rows:s(n.rows),flatRows:a,rowsById:n.rowsById}},ps(e.options,"debugTable",0,()=>e._autoResetPageIndex())),getExpandedRowModel:e=>ds(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(e,t,n)=>!t.rows.length||!0!==e&&!Object.keys(null!=e?e:{}).length?t:n?function(e){const t=[],n=e=>{var r;t.push(e),null!=(r=e.subRows)&&r.length&&e.getIsExpanded()&&e.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}(t):t,ps(e.options,"debugTable")),getFilteredRowModel:e=>ds(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||(null==n||!n.length)&&!r){for(let e=0;e<t.flatRows.length;e++)t.flatRows[e].columnFilters={},t.flatRows[e].columnFiltersMeta={};return t}const a=[],o=[];(null!=n?n:[]).forEach(t=>{var n;const r=e.getColumn(t.id);if(!r)return;const o=r.getFilterFn();o&&a.push({id:t.id,filterFn:o,resolvedValue:null!=(n=null==o.resolveFilterValue?void 0:o.resolveFilterValue(t.value))?n:t.value})});const i=(null!=n?n:[]).map(e=>e.id),s=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(e=>e.getCanGlobalFilter());let u,c;r&&s&&l.length&&(i.push("__global__"),l.forEach(e=>{var t;o.push({id:e.id,filterFn:s,resolvedValue:null!=(t=null==s.resolveFilterValue?void 0:s.resolveFilterValue(r))?t:r})}));for(let e=0;e<t.flatRows.length;e++){const n=t.flatRows[e];if(n.columnFilters={},a.length)for(let e=0;e<a.length;e++){u=a[e];const t=u.id;n.columnFilters[t]=u.filterFn(n,t,u.resolvedValue,e=>{n.columnFiltersMeta[t]=e})}if(o.length){for(let e=0;e<o.length;e++){c=o[e];const t=c.id;if(c.filterFn(n,t,c.resolvedValue,e=>{n.columnFiltersMeta[t]=e})){n.columnFilters.__global__=!0;break}}!0!==n.columnFilters.__global__&&(n.columnFilters.__global__=!1)}}return function(e,t,n){return n.options.filterFromLeafRows?function(e,t,n){var r;const a=[],o={},i=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,s=function(e,r){void 0===r&&(r=0);const l=[];for(let c=0;c<e.length;c++){var u;let d=e[c];const p=vs(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(p.columnFilters=d.columnFilters,null!=(u=d.subRows)&&u.length&&r<i){if(p.subRows=s(d.subRows,r+1),d=p,t(d)&&!p.subRows.length){l.push(d),o[d.id]=d,a.push(d);continue}if(t(d)||p.subRows.length){l.push(d),o[d.id]=d,a.push(d);continue}}else d=p,t(d)&&(l.push(d),o[d.id]=d,a.push(d))}return l};return{rows:s(e),flatRows:a,rowsById:o}}(e,t,n):function(e,t,n){var r;const a=[],o={},i=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,s=function(e,r){void 0===r&&(r=0);const l=[];for(let c=0;c<e.length;c++){let d=e[c];if(t(d)){var u;if(null!=(u=d.subRows)&&u.length&&r<i){const e=vs(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);e.subRows=s(d.subRows,r+1),d=e}l.push(d),a.push(d),o[d.id]=d}}return l};return{rows:s(e),flatRows:a,rowsById:o}}(e,t,n)}(t.rows,e=>{for(let t=0;t<i.length;t++)if(!1===e.columnFilters[i[t]])return!1;return!0},e)},ps(e.options,"debugTable",0,()=>e._autoResetPageIndex())),onColumnFiltersChange:O,enableExpanding:!0,onExpandedChange:C,state:{expanded:E,columnFilters:A}}),{rows:I}=R.getRowModel(),D=(0,o.useMemo)(()=>(e=>{for(let t=0;t<e.length;t+=1){const n=e[t];if(!n.originalSubRows&&n.original.selected)return t}return-1})(I),[I]),P=(0,tl.Te)({getScrollElement:(0,o.useCallback)(()=>p.current,[p]),count:I.length,estimateSize:(0,o.useCallback)(()=>38,[]),measureElement:(0,o.useCallback)(e=>e.offsetHeight,[]),overscan:10}),_=P.getVirtualItems(),T=P.getTotalSize(),k=_.length>0&&(null==_||null===(w=_[0])||void 0===w?void 0:w.start)||0,M=_.length>0?T-((null==_||null===(S=_[_.length-1])||void 0===S?void 0:S.end)||0):0;return(0,o.useEffect)(()=>{g&&e&&(!h.current||m.current)&&D>=0&&(P.scrollToIndex(D,{align:"start"}),v())},[g,D,e,P,I,h,m,v]),i().createElement("table",{className:(0,l.cx)(x.table,t),ref:u},s&&i().createElement("thead",{"data-testid":eo,className:x.header,style:{top:c},ref:d},R.getHeaderGroups().map(e=>i().createElement("tr",{key:e.id},e.headers.map(e=>i().createElement("th",{key:e.id,className:(0,l.cx)(x.headerCell,{[x.disableGrow]:!e.column.getCanResize(),[x.sortableHeader]:e.column.getCanSort(),[x.selectedColumn]:"selected"===e.column.id}),colSpan:e.colSpan,style:{width:"isFavorite"===e.column.columnDef.id?48:"auto"}},el(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&i().createElement(n.Button,{icon:e.column.getIsSorted()?"asc"===e.column.getIsSorted()?"sort-amount-up":"sort-amount-down":"list-ul",fill:"text",onClick:e.column.getToggleSortingHandler(),size:"sm",className:x.headerButton,variant:e.column.getIsSorted()?"primary":"secondary","data-testid":Ga,title:"Sort by status"}),e.column.getCanFilter()&&i().createElement(rl,{column:e.column,alwaysVisible:f})))))),i().createElement("tbody",{"data-testid":$a},k>0&&i().createElement("tr",null,i().createElement("td",{style:{height:`${k}px`}})),_.map(e=>{const t=I[e.index];return i().createElement("tr",{key:t.id,className:(0,l.cx)(x.row,t.getIsExpanded()&&x.expandedRow),"data-testid":Wa(t.id)},t.getVisibleCells().map(t=>i().createElement("td",{"data-index":e.index,className:(0,l.cx)({[x.selectedColumn]:"selected"===t.column.id}),ref:P.measureElement,key:t.id},((e,t)=>{var n;return(null===(n=e.row.original.variable)||void 0===n?void 0:n.type)===ta.TEXTBOX?e.id.includes("isFavorite")?el(e.column.columnDef.cell,t):i().createElement(rs,{variable:e.row.original.variable,panelEventBus:y}):el(e.column.columnDef.cell,t)})(t,t.getContext()))))}),M>0&&i().createElement("tr",null,i().createElement("td",{style:{height:`${M}px`}}))))};function ol(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const il=e=>{var{currentGroup:t,columns:n,tableData:r,getSubRows:a,showHeader:s,tableRef:l,tableHeaderRef:u,tableTopOffset:c,alwaysVisibleFilter:d,isFocused:p,autoScroll:f,shouldScroll:h,onAfterScroll:g,collapsedByDefault:m,eventBus:v}=e,b=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["currentGroup","columns","tableData","getSubRows","showHeader","tableRef","tableHeaderRef","tableTopOffset","alwaysVisibleFilter","isFocused","autoScroll","shouldScroll","onAfterScroll","collapsedByDefault","eventBus"]);const y=(0,o.useRef)(null),w=(0,o.useRef)(null),[S,x]=(0,o.useState)(!1);return(0,o.useLayoutEffect)(()=>{y.current&&w.current&&x(!0)},[]),i().createElement("div",{ref:y,"data-testid":io},i().createElement("div",{ref:w},S&&i().createElement(al,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ol(e,t,n[t])})}return e}({key:t,columns:n,data:r,getSubRows:a,showHeader:s,tableRef:l,tableHeaderRef:u,topOffset:c,scrollableContainerRef:w,alwaysVisibleFilter:d,isFocused:p,autoScroll:f,shouldScroll:h,onAfterScroll:g,collapsedByDefault:m,eventBus:v},b))))},sl=({data:e,id:t,options:r,width:s,height:u,eventBus:c,panelEventBus:d,replaceVariables:p})=>{var f,h;const[g,m]=(0,o.useState)(!1),[v,b,y]=Hi({key:`volkovlabs.variable.panel.${r.saveSelectedGroupKey||t}`,initialValue:(null===(h=r.groups)||void 0===h||null===(f=h[0])||void 0===f?void 0:f.name)||"",enabled:r.saveSelectedGroup}),[w,S,x]=Hi({key:`volkovlabs.variable.panel.pinned.${r.saveSelectedGroupKey||t}`,initialValue:[],enabled:!0===r.isPinTabsEnabled}),E=(0,o.useMemo)(()=>r.isPinTabsEnabled?Array.isArray(w)?w:w&&"object"==typeof w?Object.values(w).filter(e=>"string"==typeof e):[]:[],[w,r.isPinTabsEnabled]),C=(0,o.useMemo)(()=>{var e,t;if((null===(e=r.groups)||void 0===e?void 0:e.length)&&v)return null===(t=r.groups.find(e=>e.name===v))||void 0===t?void 0:t.items},[r.groups,v]),A=(0,o.useMemo)(()=>{var e,t;return(null===(e=r.groups)||void 0===e?void 0:e.length)&&v&&(null===(t=r.groups.find(e=>e.name===v))||void 0===t?void 0:t.noDataCustomMessage)||""},[v,r.groups]);(0,o.useEffect)(()=>{var e;y&&r.groups&&!r.groups.some(e=>e.name===v)&&b((null===(e=r.groups[0])||void 0===e?void 0:e.name)||"")},[v,y,t,r.groups,b]),(0,o.useEffect)(()=>{if(x&&r.groups&&E.length>0){const e=r.groups.map(e=>e.name),t=E.filter(t=>e.includes(t));t.length===E.length&&Array.isArray(w)||S(t)}},[r.groups,E,S,x,w]);const O=(0,o.useCallback)(e=>{S(t=>{const n=Array.isArray(t)?t:"object"==typeof t&&null!==t?Object.values(t).filter(e=>"string"==typeof e):[];return n.includes(e)?n.filter(t=>t!==e):[...n,e]})},[S]),{tableData:R,columns:I,getSubRows:D,runtimeVariable:P}=Ki({data:e,options:r,eventBus:c,levels:C,panelEventBus:d,replaceVariables:p}),{containerRef:_,tableRef:T,headerRef:k,tableTopOffset:M,tableHeaderRef:B}=(({tableData:e,height:t,options:n})=>{const r=(0,o.useRef)(null),a=(0,o.useRef)(null),i=(0,o.useRef)(null),s=(0,o.useRef)(null),[l,u]=(0,o.useState)(0);return(0,o.useEffect)(()=>{if(r.current){let e=0;a.current&&(e+=a.current.clientHeight),u(e)}},[e,t,n.groups]),{containerRef:r,headerRef:a,tableRef:i,tableHeaderRef:s,tableTopOffset:l}})({height:u,options:r,tableData:R}),{containerRef:L,style:N}=(({width:e,height:t,sticky:n,scrollableContainerRef:r,eventBus:i})=>{const s=(0,o.useRef)(null),l=(0,o.useRef)(null),u=(0,o.useRef)(null),c=(0,o.useRef)(null),d=(0,o.useRef)(null),p=(0,o.useRef)(null),[f,h]=(0,o.useState)({width:e,height:t}),g=(0,o.useRef)((0,a.throttle)(e=>{h(e)},100));return(0,o.useLayoutEffect)(()=>{if(l.current||(l.current=document.querySelector(".main-view .scrollbar-view")),u.current||(u.current=document.querySelector('[aria-label="Dashboard submenu"]')),p.current||(p.current=document.querySelector(".main-view")),!c.current){const e=document.querySelector('[data-testid="data-testid dashboard controls"]');c.current=null==e?void 0:e.parentElement}d.current||(d.current=document.querySelector("header"));const a=()=>{if(window&&window.hasOwnProperty("__grafanaSceneContext")){if(s.current&&n){var a;const{y:t,height:n}=null==s||null===(a=s.current)||void 0===a?void 0:a.getBoundingClientRect();let o=0;(null==d?void 0:d.current)&&(o=null==d?void 0:d.current.getBoundingClientRect().height);const i=(null==c?void 0:c.current)?null==c?void 0:c.current.getBoundingClientRect().bottom:o,l=window.innerHeight-i,u=t-i,p=Math.abs(Math.min(u,0)),f=l-t+i,h=Math.min(Math.max(n-p,0),u<0?l:f);return(null==r?void 0:r.current)&&(r.current.style.transform=`translateY(${p}px)`,r.current.style.height=`${h}px`),void g.current({height:h,transform:`translateY(${p}px)`,width:e})}h({width:e,height:t})}else if(s.current&&l.current&&!window.hasOwnProperty("__grafanaSceneContext")){if(n){const t=(()=>{if(u.current){const e=getComputedStyle(u.current);if("fixed"===e.position&&"hidden"!==e.visibility)return{enabled:!0,height:u.current.clientHeight}}return{enabled:!1,height:0}})(),{y:n,height:a}=s.current.getBoundingClientRect(),o=l.current.getBoundingClientRect(),i=o.top+t.height,c=n-i,d=Math.abs(Math.min(c,0)),p=o.height-n+i,f=Math.min(Math.max(a-d,0),c<0?o.height:p);return(null==r?void 0:r.current)&&(r.current.style.transform=`translateY(${d}px)`,r.current.style.height=`${f}px`),void g.current({height:f,transform:`translateY(${d}px)`,width:e})}h({width:e,height:t})}};if(a(),window&&window.hasOwnProperty("__grafanaSceneContext")&&n){const e=new ResizeObserver(()=>{a()});return p.current&&e.observe(p.current),document.addEventListener("scroll",a),()=>{document.removeEventListener("scroll",a),e.disconnect()}}if(l.current&&n&&!window.hasOwnProperty("__grafanaSceneContext")){const e=i.subscribe(Jr,()=>{setTimeout(()=>{a()},300)});return l.current.addEventListener("scroll",a),()=>{var t;null===(t=l.current)||void 0===t||t.removeEventListener("scroll",a),e.unsubscribe()}}return()=>{}},[s,e,t,n,r,i]),{containerRef:s,style:f}})({width:s,height:u,sticky:r.sticky,scrollableContainerRef:_,eventBus:c}),V=(0,o.useRef)(!1),F=(0,o.useRef)(!1),j=(0,n.useTheme2)(),$=Gi(j),z=(0,o.useMemo)(()=>{if(!r.groups)return[];if(!r.isPinTabsEnabled)return r.groups;if(!x)return r.groups;const e=[...r.groups],t=E.map(t=>e.find(e=>e.name===t)).filter(Boolean);if(r.tabsInOrder){const n=e.filter(e=>!E.includes(e.name));return[...t,...n]}const n=e.find(e=>e.name===v),a=n&&E.includes(n.name),o=e.filter(e=>!E.includes(e.name)&&e.name!==v),i=[...t];return n&&!a&&i.push(n),i.push(...o),i},[r.groups,E,x,v,r.tabsInOrder,r.isPinTabsEnabled]),H=(0,o.useCallback)(()=>{F.current=!1},[]),U=(0,o.useMemo)(()=>P?R.length?i().createElement(i().Fragment,null):i().createElement(n.Alert,{"data-testid":Ma,severity:"info",title:"Variable"},A||"The table currently contains no data to display."):i().createElement(n.Alert,{"data-testid":ka,severity:"info",title:"Variable"},r.alertCustomMessage||Pa),[A,r.alertCustomMessage,P,R.length]),G=()=>i().createElement("div",{ref:k,className:$.header},i().createElement(n.ToolbarButtonRow,{alignment:"left",key:v,className:$.toolbar},z.map(e=>{const t=E.includes(e.name),a=v===e.name;return i().createElement("div",{key:e.name,className:$.tabWithPin},i().createElement(n.ToolbarButton,{variant:a?"active":"default",onClick:()=>{b(e.name),F.current=!0},"data-testid":La(e.name),className:(0,l.cx)($.toolbarButton)},i().createElement("span",{className:$.tabContent},i().createElement("span",{className:$.tabText},e.name),r.isPinTabsEnabled&&i().createElement(n.Icon,{name:"gf-pin",size:"sm",onClick:t=>{t.stopPropagation(),O(e.name)},className:(0,l.cx)($.pinButton,{[$.pinButtonActive]:t}),title:t?"Unpin tab":"Pin tab","data-testid":Fa(e.name),"aria-label":t?"Unpin tab":"Pin tab"}))))})));return i().createElement(n.ClickOutsideWrapper,{onClick:()=>{V.current&&(V.current=!1)},useCapture:!0},i().createElement("div",{"data-testid":Ba,className:(0,l.cx)($.wrapper,l.css`
            width: ${s}px;
            height: ${u}px;
          `),ref:L,onMouseDown:()=>{V.current=!0}},U,r.isMinimizeForTable&&!!P&&(P.type===ta.QUERY||P.type===ta.CUSTOM)&&i().createElement("div",{className:$.minimizeTableView},!r.isMinimizeViewShowCustomIcon&&i().createElement(n.IconButton,{className:$.openDrawerButton,name:r.minimizeViewNativeIcon,"aria-label":"Open tree view",onClick:()=>m(!0),size:"xl","data-testid":Na}),r.isMinimizeViewShowCustomIcon&&r.minimizeViewCustomIcon&&!!r.minimizeViewCustomIcon.length&&i().createElement("img",{src:r.minimizeViewCustomIcon,alt:"Open tree view",className:$.openDrawerButtonCustomIcon,onClick:()=>m(!0),"data-testid":Va}),i().createElement(ns,{variable:P,emptyValue:!1,persistent:!1,customValue:!1,panelEventBus:d,maxVisibleValues:2})),!r.isMinimizeForTable&&i().createElement("div",{style:N,className:$.content,ref:_,"data-testid":Ta},z.length>1&&G(),i().createElement(al,{key:v,columns:I,data:R,getSubRows:D,showHeader:r.header,tableRef:T,tableHeaderRef:B,topOffset:M,scrollableContainerRef:_,alwaysVisibleFilter:r.alwaysVisibleFilter,isFocused:V,autoScroll:r.autoScroll,shouldScroll:F,onAfterScroll:H,collapsedByDefault:r.collapsedByDefault,eventBus:d}))),g&&i().createElement(n.Drawer,{title:z.length>1&&i().createElement(i().Fragment,null,G()),onClose:()=>m(!1)},i().createElement(il,{currentGroup:v,columns:I,tableData:R,getSubRows:D,showHeader:r.header,tableRef:T,tableHeaderRef:B,topOffset:M,alwaysVisibleFilter:r.alwaysVisibleFilter,isFocused:V,autoScroll:r.autoScroll,shouldScroll:F,onAfterScroll:H,collapsedByDefault:r.collapsedByDefault,eventBus:d})))};function ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ll(e,t,n[t])})}return e}var cl=m(8449),dl=m.n(cl);function pl(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function fl(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){pl(o,r,a,i,s,"next",e)}function s(e){pl(o,r,a,i,s,"throw",e)}i(void 0)})}}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gl(){return gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gl.apply(this,arguments)}const ml=(e,t)=>{const n=e.find(e=>e.name===t);return(null==n?void 0:n.uid)||""};function vl(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}const bl=new e.PanelPlugin(n=>{var{options:r,eventBus:a,replaceVariables:s}=n,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(n,["options","eventBus","replaceVariables"]);const u=(0,o.useRef)(new e.EventBusSrv);return(({eventBus:e,variableName:n})=>{const{variable:r}=Ni(e,n),a=null==r?void 0:r.current;(0,o.useEffect)(()=>{if(null==a?void 0:a.value){const e=t.locationService.getLocation();t.locationService.replace(`/d/${a.value}${e.search}`)}},[null==a?void 0:a.value])})({eventBus:a,variableName:r.dashboardVariable}),(({eventBus:e,replaceVariables:t,browserTabNamePattern:n})=>{const[r,a]=(0,o.useState)(""),{variable:i}=Ni(e,r);(0,o.useEffect)(()=>{if(n){const e=[...n.matchAll(Zo)].map(e=>e[1]).filter(e=>!e.startsWith("__"));a(e[0])}},[n,a]),(0,o.useEffect)(()=>{i&&(document.title=t(n).replace(/[{}]/g,""))},[n,t,i])})({eventBus:a,replaceVariables:s,browserTabNamePattern:r.browserTabNamePattern}),(({eventBus:e,panelEventBus:n,variableName:r,enabled:a})=>{const{variable:i}=Ni(e,r),s=ji(r);(0,o.useEffect)(()=>{if(a&&i&&ii(i)&&i.multi){const e=t.locationService.getSearch().getAll(`var-${i.name}`).filter(e=>0!==e.toLowerCase().indexOf("all")),r=(Array.isArray(i.current.value)?i.current.value:[i.current.value]).filter(e=>e!==Xo),a=e.filter(e=>!i.options.some(t=>t.value===e));if(a.length){const e=s.get();s.save((e=>{const t=new Set;return e.forEach(e=>{t.add(e)}),Array.from(t.values())})(e.concat(a))),ai(i.name,r.length?r:[Yo],n)}const o=s.get(),l=o.length?o.filter(e=>i.options.some(t=>t.value===e)):[];l.length&&(s.save(o.filter(e=>!l.includes(e))),ai(i.name,r.concat(l),n))}},[a,e,n,s,i])})({eventBus:a,variableName:r.variable,enabled:r.persistent,panelEventBus:u.current}),(({eventBus:e,panelEventBus:n,variableName:r})=>{const{variable:a}=Ni(e,r||""),i=(0,o.useRef)(!1);(0,o.useEffect)(()=>{const e=n.subscribe(Zr,()=>{r&&(i.current=!0)});return()=>{e.unsubscribe()}},[n,r]),(0,o.useEffect)(()=>{var e,n;i.current&&(i.current=!1,t.locationService.partial({[`var-${null==a?void 0:a.name}`]:null==a||null===(n=a.options)||void 0===n||null===(e=n[0])||void 0===e?void 0:e.value},!0))},[a])})({eventBus:a,panelEventBus:u.current,variableName:r.resetVariable}),r.displayMode===qr.MINIMIZE?i().createElement(os,ul({options:r,eventBus:a,panelEventBus:u.current},l)):r.displayMode===qr.BUTTON?i().createElement(Ji,ul({options:r,eventBus:a,panelEventBus:u.current},l)):r.displayMode===qr.SLIDER?i().createElement(ss,ul({replaceVariables:s,options:r,eventBus:a,panelEventBus:u.current},l)):i().createElement(sl,ul({replaceVariables:s,options:r,eventBus:a,panelEventBus:u.current},l))}).setNoPadding().setMigrationHandler(e=>fl(function*(){const n=gl({},function(e){if(null==e)throw new TypeError("Cannot destructure "+e);return e}(e.options));if(e.options.displayMode===qr.MINIMIZE&&void 0===e.options.showLabel&&(n.showLabel=!0),"object"!=typeof e.options.favorites&&(n.favorites={enabled:e.options.favorites,storage:Xr.BROWSER,datasource:"",getQuery:{},addQuery:{},deleteQuery:{}}),!e.pluginVersion||dl().lt(e.pluginVersion,"3.4.0")){const e=window.localStorage.getItem("favorites");e&&window.localStorage.setItem(Da,e)}if(!e.pluginVersion||dl().lt(e.pluginVersion,"3.7.0")&&n.favorites.datasource){const e=yield fl(function*(){return yield(0,t.getBackendSrv)().get("/api/datasources")})();n.favorites=(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){hl(e,t,n[t])})}return e}({},n.favorites),a=null!=(a={datasource:ml(e,n.favorites.datasource)})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))}),r)}var r,a;return e.pluginVersion&&!dl().lt(e.pluginVersion,"3.7.0")||n.hasOwnProperty("browserTabNamePattern")||(n.browserTabNamePattern=""),void 0===n.isMinimizeForTable&&(n.isMinimizeForTable=!1),void 0===n.isMinimizeViewShowCustomIcon&&(n.isMinimizeViewShowCustomIcon=!1),void 0===n.minimizeViewNativeIcon&&(n.minimizeViewNativeIcon="gf-movepane-right"),void 0===n.minimizeViewCustomIcon&&(n.minimizeViewCustomIcon=""),void 0===n.isPinTabsEnabled&&(n.isPinTabsEnabled=!1),void 0===n.wordBreak&&(n.wordBreak=Kr.NORMAL),void 0===n.selectedValues&&(n.selectedValues={showSelected:!1,maxCount:0}),n.hasOwnProperty("requestLatency")||(n.requestLatency=Yr.LOW),n})()).useFieldConfig({disableStandardOptions:[e.FieldConfigProperty.Unit,e.FieldConfigProperty.Color,e.FieldConfigProperty.Min,e.FieldConfigProperty.Max,e.FieldConfigProperty.Decimals,e.FieldConfigProperty.DisplayName,e.FieldConfigProperty.NoValue,e.FieldConfigProperty.Links,e.FieldConfigProperty.Mappings,"unitScale","fieldMinMax"],useCustomConfig:t=>{t.addCustomEditor({id:"thresholdsStyle",path:"thresholdsStyle",name:"Status Style",description:"Show Status in Table view",category:["Thresholds"],defaultValue:{mode:ea.COLOR,thresholds:[]},editor:Li,override:Li,process:e.identityOverrideProcessor,shouldApply:()=>!0})}}).setPanelOptions(a=>{const o=(0,t.getTemplateSrv)().getVariables(),i=o.map(e=>({label:e.name,value:e.name})),l=e=>o.find(t=>t.name===e.variable),u=e=>e.displayMode===qr.MINIMIZE,c=e=>e.displayMode===qr.BUTTON,d=e=>e.displayMode===qr.TABLE,p=e=>e.displayMode===qr.SLIDER,f=e=>d(e)&&e.header&&e.favorites.enabled&&e.favorites.storage===Xr.DATASOURCE,h=(0,n.getAvailableIcons)().sort((e,t)=>e.localeCompare(t)).map(e=>({value:e,label:e,icon:e}));return a.addRadio({path:"displayMode",name:"Display mode",settings:{options:na},defaultValue:qr.TABLE}),a.addTextInput({path:"alertCustomMessage",name:"Custom message when variable is not selected",description:"Leave empty for the default message.",settings:{placeholder:Pa},defaultValue:""}),a.addSliderInput({path:"padding",name:"Padding",defaultValue:10,settings:{min:0,max:20},showIf:e=>u(e)||c(e)||p(e)}),a.addRadio({path:"emptyValue",name:"Allow empty value",description:"Supports empty value for multi-choice variable.",defaultValue:!1,settings:{options:xa},category:["Values"],showIf:e=>u(e)||c(e)}).addRadio({path:"persistent",name:"Persistent values",description:"Allow to keep selected values if unavailable.",defaultValue:!1,settings:{options:Ea},category:["Values"],showIf:e=>u(e)||c(e)}).addRadio({path:"customValue",name:"Allow custom values",description:"Supports custom values for the variable.",defaultValue:!1,settings:{options:Aa},category:["Values"],showIf:e=>u(e)}).addNumberInput({path:"maxVisibleValues",name:"Maximum visible values",description:"Supports for multi-choice variable.",settings:{placeholder:"auto"},category:["Values"],showIf:e=>u(e)}).addNumberInput({path:"selectedValues.maxCount",name:"Maximum number of selected values",description:"Defines how many values allowed to select. 0 means no limit.",settings:{placeholder:"no limit"},category:["Values"],showIf:e=>d(e)}),a.addRadio({path:"showLabel",name:"Show Label",description:"Display variable name",defaultValue:!1,settings:{options:Ca},category:["Label"],showIf:e=>u(e)||c(e)||p(e)}).addNumberInput({path:"labelWidth",name:"Label Width",settings:{placeholder:"auto"},category:["Label"],showIf:e=>e.showLabel&&(u(e)||p(e))}),a.addRadio({path:"sticky",name:"Sticky position",description:"Variables will follow when scrolling.",settings:{options:oa},defaultValue:!1,showIf:d}).addRadio({path:"autoScroll",name:"Auto scroll to the selected value",settings:{options:ia},defaultValue:!1,showIf:d}).addRadio({path:"isMinimizeForTable",name:"Table minimize view",settings:{options:sa},defaultValue:!1,showIf:d}).addRadio({path:"wordBreak",name:"Word wrap for values",settings:{options:la},defaultValue:Kr.NORMAL,showIf:d}).addBooleanSwitch({path:"isMinimizeViewShowCustomIcon",name:"Show Custom Icon",description:"Show custom icon for the minimize view.",showIf:e=>d(e)&&e.isMinimizeForTable,defaultValue:!1}).addSelect({path:"minimizeViewNativeIcon",name:"Native Icon",description:"Use native icon for the minimize view.",showIf:e=>d(e)&&e.isMinimizeForTable&&!e.isMinimizeViewShowCustomIcon,settings:{options:h},defaultValue:"gf-movepane-right"}).addTextInput({path:"minimizeViewCustomIcon",name:"Custom Icon URL",description:"Custom icon for the minimize view.",showIf:e=>d(e)&&e.isMinimizeForTable&&e.isMinimizeViewShowCustomIcon,defaultValue:""}).addRadio({path:"isPinTabsEnabled",name:"Pin/Unpin functionality for tabs",settings:{options:ua},defaultValue:!1,showIf:d}),a.addRadio({path:"header",name:"Header",settings:{options:aa},category:["Header"],defaultValue:!0,showIf:d}).addRadio({path:"filter",name:"Allow values filtering",settings:{options:ca},defaultValue:!1,category:["Header"],showIf:e=>d(e)&&e.header}).addRadio({path:"alwaysVisibleFilter",name:"Always visible filter input",settings:{options:da},defaultValue:!1,category:["Header"],showIf:e=>d(e)&&e.header&&e.filter}).addRadio({path:"favorites.enabled",name:"Allow selecting favorites",settings:{options:pa},defaultValue:!1,category:["Header"],showIf:e=>d(e)&&e.header}).addRadio({path:"selectedValues.showSelected",name:"Allow showing selected values",settings:{options:fa},defaultValue:!1,category:["Header"],showIf:e=>d(e)&&e.header}).addRadio({path:"statusSort",name:"Sort by status",settings:{options:va},defaultValue:!1,category:["Header"],showIf:e=>d(e)&&e.header}).addRadio({path:"showTotal",name:"Display total and selected values count for multi-select variables",settings:{options:Oa},defaultValue:!1,category:["Header"],showIf:e=>d(e)&&e.header}),a.addSelect({path:"variable",name:"Select variable to display",description:"Constant, Data Source, Interval, AD hoc filters are not supported.",settings:{options:i},category:["Layout"],showIf:e=>{var t;return u(e)||!(null===(t=e.groups)||void 0===t?void 0:t.length)}}).addRadio({path:"minimizeOutputFormat",name:"Minimize output format",description:'Set the display mode for the variable of the Text box" type',settings:{options:ra},defaultValue:Qr.TEXT,category:["Layout"],showIf:e=>{const t=l(e);return t&&(t.type===ta.TEXTBOX||t.type===ta.CONSTANT)&&e.displayMode===qr.MINIMIZE}}).addRadio({path:"isUseLocalTime",name:"Time Zone",description:"Transform to UTC or use local time zone",settings:{options:Ia},defaultValue:!1,category:["Layout"],showIf:e=>((e,t)=>t&&t.type===ta.TEXTBOX&&e.displayMode===qr.MINIMIZE&&(e.minimizeOutputFormat===Qr.DATETIME||e.minimizeOutputFormat===Qr.TIMESTAMP||e.minimizeOutputFormat===Qr.DATE))(e,l(e))}).addCustomEditor({id:"groups",path:"groups",name:"Tree View based on data source query",editor:_i,category:["Layout"],showIf:d}).addRadio({path:"tabsInOrder",name:"Tabs order",settings:{options:ya},defaultValue:!0,category:["Layout"],showIf:e=>{var t;return d(e)&&(null===(t=e.groups)||void 0===t?void 0:t.length)>1}}).addRadio({path:"showName",name:"Display variable names",settings:{options:ba},defaultValue:!1,category:["Layout"],showIf:e=>{var t;return d(e)&&!!(null===(t=e.groups)||void 0===t?void 0:t.length)}}).addRadio({path:"showResetButton",name:"Display reset button",description:"Allows to clear selected values.",settings:{options:Ra},defaultValue:!1,category:["Layout"],showIf:e=>c(e)}),a.addRadio({path:"groupSelection",name:"Allow multi-level selection",settings:{options:Sa},defaultValue:!1,category:["Groups"],showIf:e=>{var t;return d(e)&&!!(null===(t=e.groups)||void 0===t?void 0:t.length)}}).addRadio({path:"saveSelectedGroup",name:"Preserve selected group",description:"Saved in the browser storage for each user.",settings:{options:ma},defaultValue:!1,category:["Groups"],showIf:e=>{var t;return d(e)&&(null===(t=e.groups)||void 0===t?void 0:t.length)>1}}).addTextInput({path:"saveSelectedGroupKey",name:"Selected group Id",description:"Key to preserve selected group in the browser storage.",defaultValue:"",settings:{placeholder:"Will be unique per panel if empty"},showIf:e=>d(e)&&e.saveSelectedGroup,category:["Groups"]}).addRadio({path:"showGroupTotal",name:"Display selected values count per group",settings:{options:Oa},defaultValue:!1,category:["Groups"],showIf:e=>d(e)&&e.groupSelection}).addRadio({path:"collapsedByDefault",name:"Initial state",settings:{options:wa},defaultValue:!1,category:["Groups"],showIf:e=>{var t;return d(e)&&!!(null===(t=e.groups)||void 0===t?void 0:t.length)}}),a.addFieldNamePicker({path:"name",name:"Field with variable values. First string field will be used if not specified.",settings:{filter:t=>t.type===e.FieldType.string,noFieldsMessage:"No strings fields found"},category:["Status"],showIf:e=>d(e)||c(e)}).addFieldNamePicker({path:"status",name:"Field with status values. First number field will be used if not specified.",settings:{filter:t=>t.type===e.FieldType.number,noFieldsMessage:"No number fields found"},category:["Status"],showIf:e=>d(e)||c(e)}),a.addRadio({path:"favorites.storage",name:"Select storage for keeping favorites data",defaultValue:Xr.BROWSER,settings:{options:ha},category:["Favorites"],showIf:e=>d(e)&&e.header&&e.favorites.enabled}).addCustomEditor({id:"favorites.datasource",path:"favorites.datasource",name:"Select Data Source",showIf:f,editor:r.dy,category:["Favorites"]}).addCustomEditor({id:"favorites.getQuery",path:"favorites.getQuery",name:"Get items query",description:"Item should contain unique `id`, `variable` and `value` fields.",showIf:e=>f(e)&&!!e.favorites.datasource,editor:s,category:["Favorites"],settings:{datasourceKey:"favorites.datasource"}}).addCustomEditor({id:"favorites.addQuery",path:"favorites.addQuery",name:"Add item query",description:"Item to add is placed in variable `${payload}` with `variable` and `value` properties.",showIf:e=>f(e)&&!!e.favorites.datasource,editor:s,category:["Favorites"],settings:{datasourceKey:"favorites.datasource"}}).addCustomEditor({id:"favorites.deleteQuery",path:"favorites.deleteQuery",name:"Delete item query",description:"Item to delete is placed in variable `${payload}` with `id`, `variable` and `value` properties.",showIf:e=>f(e)&&!!e.favorites.datasource,editor:s,category:["Favorites"],settings:{datasourceKey:"favorites.datasource"}}),a.addSelect({path:"dashboardVariable",name:"Select variable with dashboard UID",description:"Allows to redirect to different dashboards.",settings:{options:i},category:["Advanced"]}).addSelect({path:"resetVariable",name:"Select dependent variable to reset",settings:{options:[],getOptions:e=>{return(t=function*(){return i.filter(t=>t.label!==e.options.variable)},function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function i(e){vl(o,r,a,i,s,"next",e)}function s(e){vl(o,r,a,i,s,"throw",e)}i(void 0)})})();var t},isClearable:!0},category:["Advanced"],showIf:e=>(e=>!!e.variable)(e)}).addTextInput({path:"browserTabNamePattern",name:"Add variable to the browser tab name",description:"Use ${__dashboard.title} pattern to get current dashboard title.",defaultValue:"",settings:{placeholder:"${variable} ${__dashboard.title}"},category:["Advanced"]}).addRadio({path:"requestLatency",name:"Set request latency to refresh dashboard variables",defaultValue:Yr.LOW,settings:{options:ga},showIf:e=>d(e),category:["Advanced"]}),a})})(),v})());
//# sourceMappingURL=module.js.map